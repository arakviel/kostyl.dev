# –ë—É–ª—å–±–∞—à–∫–æ–≤–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º (Bubbling) —Ç–∞ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è (Capturing)

## –î–∏–≤–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞: —á–æ–º—É —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –æ–±—Ä–æ–±–Ω–∏–∫?

–†–æ–∑–≥–ª—è–Ω—å—Ç–µ —Ü–µ–π –ø—Ä–∏–∫–ª–∞–¥ —Ç–∞ —Å–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–¥–±–∞—á–∏—Ç–∏, —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è:

```html
<div id="parent" onclick="alert('–ö–ª—ñ–∫ –Ω–∞ DIV!')">
    <em>–Ø–∫—â–æ –∫–ª—ñ–∫–Ω—É—Ç–∏ –Ω–∞ <code>—Ü–µ–π –∫–æ–¥</code>, —Å–ø—Ä–∞—Ü—é—î –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–∞ DIV</em>
</div>
```

**–ü–∏—Ç–∞–Ω–Ω—è:** –í–∏ –∫–ª—ñ–∫–∞—î—Ç–µ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç `<code>`, –∞–ª–µ —á–æ–º—É —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–∞ `<div>`? ü§î

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** –¶–µ –Ω–µ –±–∞–≥, –∞ –æ–¥–Ω–∞ –∑ –Ω–∞–π–ø–æ—Ç—É–∂–Ω—ñ—à–∏—Ö –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç–µ–π DOM ‚Äî **–º–µ—Ö–∞–Ω—ñ–∑–º —Å–ø–ª–∏–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π (event bubbling)**!

::tip

### üéØ –ö–ª—é—á–æ–≤–∞ —ñ–¥–µ—è

–ö–æ–ª–∏ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø–æ–¥—ñ—è –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ, –≤–æ–Ω–∞ **–Ω–µ –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è** –Ω–∞ –Ω—å–æ–º—É. –ü–æ–¥—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ **"—Å–ø–ª–∏–≤–∞—î"** (–ø–æ–¥–æ—Ä–æ–∂—É—î –≤–≥–æ—Ä—É) —á–µ—Ä–µ–∑ –≤—Å—ñ—Ö –±–∞—Ç—å–∫—ñ–≤ –¥–æ –∫–æ—Ä–µ–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞, –∑–∞–ø—É—Å–∫–∞—é—á–∏ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–∞ —Å–≤–æ—î–º—É —à–ª—è—Ö—É.
::

## –ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –º–µ—Ö–∞–Ω—ñ–∑–º —Å–ø–ª–∏–≤–∞–Ω–Ω—è?

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ —Ç–∞–±–ª–∏—Ü—é –∑ 1000 —Ä—è–¥–∫—ñ–≤, —ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ –∫–ª—ñ–∫ –Ω–∞ –∫–æ–∂–Ω—ñ–π –∫–æ–º—ñ—Ä—Ü—ñ:

**‚ùå –ü—ñ–¥—Ö—ñ–¥ –±–µ–∑ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Å–ø–ª–∏–≤–∞–Ω–Ω—è:**

```javascript
// –ü—Ä–∏–∑–Ω–∞—á–∞—î–º–æ 1000+ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ ‚Äî –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ!
const cells = document.querySelectorAll('td')
cells.forEach((cell) => {
    cell.addEventListener('click', function () {
        console.log('–ö–ª—ñ–∫ –Ω–∞ –∫–æ–º—ñ—Ä—Ü—ñ:', this.textContent)
    })
})
```

**‚úÖ –†–æ–∑—É–º–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å–ø–ª–∏–≤–∞–Ω–Ω—è:**

```javascript
// –û–¥–∏–Ω –æ–±—Ä–æ–±–Ω–∏–∫ –∑–∞–º—ñ—Å—Ç—å —Ç–∏—Å—è—á—ñ!
document.querySelector('table').addEventListener('click', function (event) {
    if (event.target.tagName === 'TD') {
        console.log('–ö–ª—ñ–∫ –Ω–∞ –∫–æ–º—ñ—Ä—Ü—ñ:', event.target.textContent)
    }
})
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**

-   üöÄ **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**: –û–¥–∏–Ω –æ–±—Ä–æ–±–Ω–∏–∫ –∑–∞–º—ñ—Å—Ç—å —Ç–∏—Å—è—á—ñ
-   üíæ **–ü–∞–º'—è—Ç—å**: –ú–µ–Ω—à–µ –æ–±'—î–∫—Ç—ñ–≤-–æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤
-   üîÑ **–î–∏–Ω–∞–º—ñ—á–Ω—ñ—Å—Ç—å**: –ü—Ä–∞—Ü—é—î –Ω–∞–≤—ñ—Ç—å –¥–ª—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –¥–æ–¥–∞–Ω–∏—Ö –ø—ñ–∑–Ω—ñ—à–µ

–¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **–¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π** ‚Äî –º–∏ –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –π–æ–≥–æ –≤ –Ω–∞—Å—Ç—É–ø–Ω—ñ–π —Å—Ç–∞—Ç—Ç—ñ.

## –¢—Ä–∏ —Ñ–∞–∑–∏ –∂–∏—Ç—Ç—è –ø–æ–¥—ñ—ó

–ó–≥—ñ–¥–Ω–æ –∑—ñ [—Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é W3C DOM Events](https://www.w3.org/TR/DOM-Level-3-Events/), –∫–æ–∂–Ω–∞ –ø–æ–¥—ñ—è –ø—Ä–æ—Ö–æ–¥–∏—Ç—å **—Ç—Ä–∏ —Ñ–∞–∑–∏**:

::steps

### –§–∞–∑–∞ 1: –ó–∞–Ω—É—Ä–µ–Ω–Ω—è (Capturing Phase)

–ü–æ–¥—ñ—è **—Å–ø—É—Å–∫–∞—î—Ç—å—Å—è** –≤—ñ–¥ –∫–æ—Ä–µ–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ –¥–æ —Ü—ñ–ª—å–æ–≤–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞.  
–ú–∞—Ä—à—Ä—É—Ç: `document` ‚Üí `html` ‚Üí `body` ‚Üí ... ‚Üí `target`

### –§–∞–∑–∞ 2: –¶—ñ–ª—å (Target Phase)

–ü–æ–¥—ñ—è **–¥–æ—Å—è–≥–∞—î** —Ü—ñ–ª—å–æ–≤–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ (`event.target`).  
–°–ø—Ä–∞—Ü—å–æ–≤—É—é—Ç—å –æ–±—Ä–æ–±–Ω–∏–∫–∏, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –Ω–∞ —Ü–µ–π –µ–ª–µ–º–µ–Ω—Ç.

### –§–∞–∑–∞ 3: –°–ø–ª–∏–≤–∞–Ω–Ω—è (Bubbling Phase)

–ü–æ–¥—ñ—è **–ø—ñ–¥–Ω—ñ–º–∞—î—Ç—å—Å—è** –≤—ñ–¥ —Ü—ñ–ª—å–æ–≤–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞–∑–∞–¥ –¥–æ –∫–æ—Ä–µ–Ω—è.  
–ú–∞—Ä—à—Ä—É—Ç: `target` ‚Üí ... ‚Üí `body` ‚Üí `html` ‚Üí `document`
::

### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç—Ä—å–æ—Ö —Ñ–∞–∑

::mermaid

```mermaid
graph TD
    subgraph " "
        direction TB
        Doc[üìÑ document]
        Html[üåê html]
        Body[üìã body]
        Form[üìù form]
        Div[üì¶ div]
        Target[üéØ button TARGET]

        Doc -->|1. Capturing ‚¨áÔ∏è| Html
        Html -->|1. Capturing ‚¨áÔ∏è| Body
        Body -->|1. Capturing ‚¨áÔ∏è| Form
        Form -->|1. Capturing ‚¨áÔ∏è| Div
        Div -->|1. Capturing ‚¨áÔ∏è| Target

        Target -.->|2. Target Phase| Target

        Target -->|3. Bubbling ‚¨ÜÔ∏è| Div
        Div -->|3. Bubbling ‚¨ÜÔ∏è| Form
        Form -->|3. Bubbling ‚¨ÜÔ∏è| Body
        Body -->|3. Bubbling ‚¨ÜÔ∏è| Html
        Html -->|3. Bubbling ‚¨ÜÔ∏è| Doc

        style Target fill:#f59e0b,stroke:#d97706,color:#ffffff,stroke-width:4px
        style Doc fill:#3b82f6,stroke:#1d4ed8,color:#ffffff
        style Html fill:#3b82f6,stroke:#1d4ed8,color:#ffffff
        style Body fill:#3b82f6,stroke:#1d4ed8,color:#ffffff
        style Form fill:#64748b,stroke:#334155,color:#ffffff
        style Div fill:#64748b,stroke:#334155,color:#ffffff
    end
```

::

::note
**–í–∞–∂–ª–∏–≤–æ:** –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –æ–±—Ä–æ–±–Ω–∏–∫–∏ —Å–ø—Ä–∞—Ü—å–æ–≤—É—é—Ç—å –Ω–∞ **—Ñ–∞–∑—ñ —Å–ø–ª–∏–≤–∞–Ω–Ω—è** (bubbling). –¶–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –º–µ—Ç–æ–¥—ñ–≤ `addEventListener()`, –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π `onclick`, —Ç–∞ HTML-–∞—Ç—Ä—ñ–±—É—Ç—ñ–≤.
::

## –°–ø–ª–∏–≤–∞–Ω–Ω—è –≤ –¥—ñ—ó: –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥

–î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –≤–∫–ª–∞–¥–µ–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É HTML:

```html
<style>
    .box {
        padding: 20px;
        margin: 10px;
        border: 2px solid;
        cursor: pointer;
    }
    .form {
        background: #dbeafe;
        border-color: #3b82f6;
    }
    .div {
        background: #fef3c7;
        border-color: #f59e0b;
    }
    .p {
        background: #fecaca;
        border-color: #ef4444;
    }
</style>

<form class="box form" onclick="alert('FORM')">
    FORM
    <div class="box div" onclick="alert('DIV')">
        DIV
        <p class="box p" onclick="alert('P')">P</p>
    </div>
</form>
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ:**

```
FORM (—Å–∏–Ω—ñ–π)
  ‚îî‚îÄ DIV (–∂–æ–≤—Ç–∏–π)
      ‚îî‚îÄ P (—á–µ—Ä–≤–æ–Ω–∏–π)
```

**–©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ `<p>`?**

1. **–°–ø–æ—á–∞—Ç–∫—É** –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–∞ `<p>` ‚Üí alert("P")
2. **–ü–æ—Ç—ñ–º** –ø–æ–¥—ñ—è —Å–ø–ª–∏–≤–∞—î –¥–æ `<div>` ‚Üí alert("DIV")
3. **–ù–∞—Ä–µ—à—Ç—ñ** –ø–æ–¥—ñ—è —Å–ø–ª–∏–≤–∞—î –¥–æ `<form>` ‚Üí alert("FORM")

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–±–∞—á–∏—Ç–µ —Ç—Ä–∏ alert –≤ –ø–æ—Ä—è–¥–∫—É: `P` ‚Üí `DIV` ‚Üí `FORM`

::mermaid

```mermaid
sequenceDiagram
    autonumber
    participant User as üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
    participant P as üìÑ <p>
    participant DIV as üì¶ <div>
    participant FORM as üìù <form>
    participant DOC as üåê document

    User->>P: –ö–ª—ñ–∫ –º–∏—à–∫–æ—é

    Note over P,DOC: –§–∞–∑–∞ —Å–ø–ª–∏–≤–∞–Ω–Ω—è (Bubbling) ‚¨ÜÔ∏è

    P->>P: –í–∏–∫–æ–Ω—É—î onclick
    Note right of P: alert("P")

    P->>DIV: –ü–æ–¥—ñ—è —Å–ø–ª–∏–≤–∞—î –≤–≥–æ—Ä—É
    DIV->>DIV: –í–∏–∫–æ–Ω—É—î onclick
    Note right of DIV: alert("DIV")

    DIV->>FORM: –ü–æ–¥—ñ—è —Å–ø–ª–∏–≤–∞—î –≤–≥–æ—Ä—É
    FORM->>FORM: –í–∏–∫–æ–Ω—É—î onclick
    Note right of FORM: alert("FORM")

    FORM->>DOC: –°–ø–ª–∏–≤–∞—î –¥–æ document
    Note right of DOC: –û–±—Ä–æ–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
```

::

### –ê–Ω–∞–ª–æ–≥—ñ—è –∑—ñ —Å–≤—ñ—Ç—É —Ä–µ–∞–ª—å–Ω–æ–≥–æ

::tip
###üí° –ê–Ω–∞–ª–æ–≥—ñ—è –∑ –±—É–¥–∏–Ω–∫–æ–º
–£—è–≤—ñ—Ç—å –±–∞–≥–∞—Ç–æ–ø–æ–≤–µ—Ä—Ö–æ–≤–∏–π –±—É–¥–∏–Ω–æ–∫:

-   **–ü—ñ–¥–≤–∞–ª (P)** ‚Äî –Ω–∞–π–≥–ª–∏–±—à–∏–π —Ä—ñ–≤–µ–Ω—å
-   **–ü–µ—Ä—à–∏–π –ø–æ–≤–µ—Ä—Ö (DIV)** ‚Äî —Å–µ—Ä–µ–¥–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å
-   **–î–∞—Ö (FORM)** ‚Äî –≤–µ—Ä—Ö–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å

–ö–æ–ª–∏ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –ø–æ–∂–µ–∂–Ω–∞ —Å–∏–≥–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è –≤ –ø—ñ–¥–≤–∞–ª—ñ (–∫–ª—ñ–∫ –Ω–∞ `<p>`):

1. –°–ø–æ—á–∞—Ç–∫—É —ó—ó —á—É—é—Ç—å –ª—é–¥–∏ –≤ –ø—ñ–¥–≤–∞–ª—ñ
2. –ü–æ—Ç—ñ–º –∑–≤—É–∫ –¥–æ—Ö–æ–¥–∏—Ç—å –¥–æ –ø–µ—Ä—à–æ–≥–æ –ø–æ–≤–µ—Ä—Ö—É
3. –ù–∞—Ä–µ—à—Ç—ñ, –¥–æ –¥–∞—Ö—É

–¢–æ—á–Ω–æ —Ç–∞–∫ —Å–∞–º–æ –ø–æ–¥—ñ—è **—Å–ø–ª–∏–≤–∞—î** –≤—ñ–¥ –º—ñ—Å—Ü—è –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—è –¥–æ –≤–µ—Ä—Ö—ñ–≤–∫–∏ DOM-–¥–µ—Ä–µ–≤–∞! üè¢
::

## event.target vs event.currentTarget vs this

–û–¥–Ω–∞ –∑ –Ω–∞–π–±—ñ–ª—å—à –∑–∞–ø–ª—É—Ç–∞–Ω–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤. –†–æ–∑–±–µ—Ä–µ–º–æ –¥–µ—Ç–∞–ª—å–Ω–æ:

::field-group
::field{name="event.target" type="Element"}
**–ï–ª–µ–º–µ–Ω—Ç, –¥–µ –ø–æ–¥—ñ—è –ù–ê–°–ü–†–ê–í–î–Ü –≤—ñ–¥–±—É–ª–∞—Å—è** (—Ü—ñ–ª—å–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç).  
–ó–∞–ª–∏—à–∞—î—Ç—å—Å—è **–Ω–µ–∑–º—ñ–Ω–Ω–∏–º** –ø—ñ–¥ —á–∞—Å –≤—Å—å–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É —Å–ø–ª–∏–≤–∞–Ω–Ω—è.

```javascript
// –ó–∞–≤–∂–¥–∏ –ø–æ–∫–∞–∑—É—î –µ–ª–µ–º–µ–Ω—Ç, –Ω–∞ —è–∫–∏–π –≤–∏ –∫–ª—ñ–∫–Ω—É–ª–∏
console.log(event.target)
```

::

::field{name="event.currentTarget" type="Element"}
**–ï–ª–µ–º–µ–Ω—Ç, –Ω–∞ —è–∫–æ–º—É –ó–ê–†–ê–ó –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–±—Ä–æ–±–Ω–∏–∫** (–ø–æ—Ç–æ—á–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç).  
**–ó–º—ñ–Ω—é—î—Ç—å—Å—è** –ø—ñ–¥ —á–∞—Å —Å–ø–ª–∏–≤–∞–Ω–Ω—è, –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—á–∏ –ø–æ—Ç–æ—á–Ω–æ–º—É –ø—Ä–µ–¥–∫—É.

```javascript
// –ü–æ–∫–∞–∑—É—î –µ–ª–µ–º–µ–Ω—Ç, —á–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–∞—Ä–∞–∑
console.log(event.currentTarget)
```

::

::field{name="this" type="Element"}
–£ –∑–≤–∏—á–∞–π–Ω—ñ–π —Ñ—É–Ω–∫—Ü—ñ—ó-–æ–±—Ä–æ–±–Ω–∏–∫—É `this` **–¥–æ—Ä—ñ–≤–Ω—é—î `event.currentTarget`**.

```javascript
elem.addEventListener('click', function (event) {
    console.log(this === event.currentTarget) // true
})
```

‚ö†Ô∏è **–£–≤–∞–≥–∞:** –í —Å—Ç—Ä—ñ–ª–∫–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ—è—Ö `this` –ù–ï –≤–∫–∞–∑—É—î –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç!
::
::

### –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è

```html
<div id="outer" style="padding: 50px; background: #dbeafe; border: 3px solid #3b82f6;">
    OUTER DIV
    <div id="middle" style="padding: 30px; background: #fef3c7; border: 3px solid #f59e0b;">
        MIDDLE DIV
        <button id="inner">INNER BUTTON</button>
    </div>
</div>

<script>
    const outer = document.getElementById('outer')

    outer.addEventListener('click', function (event) {
        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ')
        console.log('–û–±—Ä–æ–±–Ω–∏–∫ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –Ω–∞:', this.id)
        console.log('event.target (—Ö—Ç–æ –≤–∏–∫–ª–∏–∫–∞–≤):', event.target.id)
        console.log('event.currentTarget (–¥–µ –æ–±—Ä–æ–±–Ω–∏–∫):', event.currentTarget.id)
        console.log('this === event.currentTarget:', this === event.currentTarget)
        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ')
    })
</script>
```

**–©–æ –ø–æ–±–∞—á–∏–º–æ –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É:**

```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–û–±—Ä–æ–±–Ω–∏–∫ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –Ω–∞: outer
event.target (—Ö—Ç–æ –≤–∏–∫–ª–∏–∫–∞–≤): inner
event.currentTarget (–¥–µ –æ–±—Ä–æ–±–Ω–∏–∫): outer
this === event.currentTarget: true
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

::mermaid

```mermaid
graph LR
    subgraph "–ö–ª—ñ–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É INNER"
        Click[üëÜ Click] --> Target[event.target = button#inner]
    end

    subgraph "–°–ø–ª–∏–≤–∞–Ω–Ω—è –¥–æ DIV"
        Target --> Bubble[–ü–æ–¥—ñ—è —Å–ø–ª–∏–≤–∞—î ‚¨ÜÔ∏è]
        Bubble --> Handler[–°–ø—Ä–∞—Ü—å–æ–≤—É—î –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–∞ div#outer]
    end

    subgraph "–ó–Ω–∞—á–µ–Ω–Ω—è –≤ –æ–±—Ä–æ–±–Ω–∏–∫—É"
        Handler --> Current[event.currentTarget = div#outer<br/>this = div#outer]
        Current --> StillTarget[event.target = button#inner<br/>–ù–ï–ó–ú–Ü–ù–ù–ï!]
    end

    style Click fill:#f59e0b,stroke:#d97706,color:#ffffff
    style Target fill:#ef4444,stroke:#dc2626,color:#ffffff
    style Current fill:#3b82f6,stroke:#1d4ed8,color:#ffffff
    style StillTarget fill:#10b981,stroke:#059669,color:#ffffff
```

::

## –ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥: –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è —Ü—ñ–ª—å–æ–≤–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞

–°—Ç–≤–æ—Ä–∏–º–æ –æ–±—Ä–æ–±–Ω–∏–∫, —è–∫–∏–π –ø–æ–∫–∞–∑—É—î —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ `target` —Ç–∞ `currentTarget`:

```html
<!DOCTYPE html>
<html>
    <head>
        <style>
            .container {
                padding: 40px;
                background: #f1f5f9;
                border: 3px solid #64748b;
                font-family: Arial, sans-serif;
            }
            .box {
                padding: 30px;
                margin: 20px;
                background: #e0e7ff;
                border: 3px solid #6366f1;
            }
            .highlight-target {
                background: #fef08a !important;
                border-color: #eab308 !important;
            }
            .info {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 20px;
                background: white;
                border: 2px solid #3b82f6;
                border-radius: 8px;
                max-width: 300px;
                font-size: 14px;
            }
        </style>
    </head>
    <body>
        <div class="info" id="info">
            <strong>–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–ª—ñ–∫:</strong>
            <div id="infoContent">–ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –±—É–¥—å-—è–∫–∏–π –µ–ª–µ–º–µ–Ω—Ç</div>
        </div>

        <div class="container" id="container">
            <h2>–ö–û–ù–¢–ï–ô–ù–ï–† (container)</h2>

            <div class="box" id="box1">
                <h3>BOX 1 (box1)</h3>
                <p>–ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ <strong>—Ü–µ–π —Ç–µ–∫—Å—Ç</strong> –∞–±–æ –Ω–∞ –±—É–¥—å-—è–∫–∏–π –µ–ª–µ–º–µ–Ω—Ç</p>
            </div>

            <div class="box" id="box2">
                <h3>BOX 2 (box2)</h3>
                <button id="btn">–ö–Ω–æ–ø–∫–∞</button>
            </div>
        </div>

        <script>
            const container = document.getElementById('container')
            const infoContent = document.getElementById('infoContent')

            // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            container.addEventListener('click', function (event) {
                // –ü—ñ–¥—Å–≤—ñ—á—É—î–º–æ —Ü—ñ–ª—å–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç
                document.querySelectorAll('.highlight-target').forEach((el) => {
                    el.classList.remove('highlight-target')
                })
                event.target.classList.add('highlight-target')

                // –ü–æ–∫–∞–∑—É—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é
                infoContent.innerHTML = `
        <div style="margin-top: 10px;">
          <strong style="color: #f59e0b;">event.target:</strong><br/>
          &lt;${event.target.tagName.toLowerCase()}&gt;
          ${event.target.id ? '#' + event.target.id : ''}
          ${event.target.className ? '.' + event.target.className : ''}
          <br/><br/>
          
          <strong style="color: #3b82f6;">event.currentTarget:</strong><br/>
          &lt;${event.currentTarget.tagName.toLowerCase()}&gt;
          #${event.currentTarget.id}
          <br/><br/>
          
          <strong style="color: #10b981;">this:</strong><br/>
          &lt;${this.tagName.toLowerCase()}&gt; #${this.id}
          <br/><br/>
          
          <em>–ü–æ–¥—ñ—è —Å–ø–ª–∏–≤–ª–∞ –≤—ñ–¥ ${event.target.tagName} –¥–æ ${event.currentTarget.tagName}</em>
        </div>
      `

                // –ó–Ω—ñ–º–∞—î–º–æ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥–∏
                setTimeout(() => {
                    event.target.classList.remove('highlight-target')
                }, 2000)
            })
        </script>
    </body>
</html>
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**

1. –ü—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –±—É–¥—å-—è–∫–∏–π –µ–ª–µ–º–µ–Ω—Ç –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
2. –ü–æ–¥—ñ—è —Å–ø–ª–∏–≤–∞—î –¥–æ `div.container`, –¥–µ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –æ–±—Ä–æ–±–Ω–∏–∫
3. `event.target` ‚Äî –µ–ª–µ–º–µ–Ω—Ç, –Ω–∞ —è–∫–∏–π –≤–∏ –∫–ª—ñ–∫–Ω—É–ª–∏
4. `event.currentTarget` —Ç–∞ `this` ‚Äî –∑–∞–≤–∂–¥–∏ `div.container`
5. –¶—ñ–ª—å–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç –ø—ñ–¥—Å–≤—ñ—á—É—î—Ç—å—Å—è –∂–æ–≤—Ç–∏–º –Ω–∞ 2 —Å–µ–∫—É–Ω–¥–∏

## –Ø–∫—ñ –ø–æ–¥—ñ—ó –ù–ï —Å–ø–ª–∏–≤–∞—é—Ç—å?

::warning

### ‚ö†Ô∏è –í–∏–Ω—è—Ç–∫–∏ –∑ –ø—Ä–∞–≤–∏–ª–∞"

**–ë—ñ–ª—å—à—ñ—Å—Ç—å** –ø–æ–¥—ñ–π —Å–ø–ª–∏–≤–∞—é—Ç—å, –∞–ª–µ –Ω–µ –≤—Å—ñ. –û—Å—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥—ñ–π, —è–∫—ñ **–ù–ï —Å–ø–ª–∏–≤–∞—é—Ç—å**:

| –ü–æ–¥—ñ—è                       | –ß–æ–º—É –Ω–µ —Å–ø–ª–∏–≤–∞—î                                                          |
| :-------------------------- | :----------------------------------------------------------------------- |
| `focus` / `blur`            | –§–æ–∫—É—Å ‚Äî —Ü–µ —Å—Ç–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞, –Ω–µ –º–∞—î —Å–µ–Ω—Å—É —Å–ø–ª–∏–≤–∞—Ç–∏              |
| `mouseenter` / `mouseleave` | –°–ø–µ—Ü—ñ–∞–ª—å–Ω–æ —Ä–æ–∑—Ä–æ–±–ª–µ–Ω—ñ —è–∫ –Ω–µ—Å–ø–ª—ã–≤–∞—é—á—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ `mouseover`/`mouseout` |
| `load` / `unload`           | –ó–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –ª–∏—à–µ –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, —Å—Ç–æ—Ä—ñ–Ω–∫–∞)        |
| `scroll`                    | –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ                          |
| `resize`                    | –ó–º—ñ–Ω–∞ —Ä–æ–∑–º—ñ—Ä—É —Å—Ç–æ—Å—É—î—Ç—å—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞/–≤—ñ–∫–Ω–∞                      |
| Media –ø–æ–¥—ñ—ó                 | `play`, `pause`, `ended` ‚Äî —Å—Ç–æ—Å—É—é—Ç—å—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–µ–¥—ñ–∞-–µ–ª–µ–º–µ–Ω—Ç–∞         |

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ —Å–ø–ª–∏–≤–∞—î –ø–æ–¥—ñ—è:**

```javascript
// –í—Å—ñ –ø–æ–¥—ñ—ó –º–∞—é—Ç—å –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å bubbles
document.addEventListener(
    'focus',
    (e) => {
        console.log(e.bubbles) // false
    },
    true,
)

document.addEventListener('click', (e) => {
    console.log(e.bubbles) // true
})
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –Ω–µ—Å–ø–ª—ã–≤–∞—é—á–∏—Ö –ø–æ–¥—ñ–π:**

```javascript
// –ó–∞–º—ñ—Å—Ç—å focus/blur –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ focusin/focusout
element.addEventListener('focusin', handler) // –°–ø–ª–∏–≤–∞—î! ‚úÖ
element.addEventListener('focusout', handler) // –°–ø–ª–∏–≤–∞—î! ‚úÖ
```

::

## –ó—É–ø–∏–Ω–∫–∞ —Å–ø–ª–∏–≤–∞–Ω–Ω—è: event.stopPropagation()

–Ü–Ω–æ–¥—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ **–∑—É–ø–∏–Ω–∏—Ç–∏** –ø–æ–¥—ñ—é –≤—ñ–¥ –ø–æ–¥–∞–ª—å—à–æ–≥–æ —Å–ø–ª–∏–≤–∞–Ω–Ω—è. –î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –º–µ—Ç–æ–¥ `event.stopPropagation()`:

```html
<div id="outer" onclick="alert('–ù–µ –ø–æ–±–∞—á–∏—Ç–µ —Ü—å–æ–≥–æ')">
    –ó–û–í–ù–Ü–®–ù–Ü–ô DIV
    <button id="inner" onclick="event.stopPropagation()">–ù–∞—Ç–∏—Å–Ω–∏ –º–µ–Ω–µ ‚Äî –ø–æ–¥—ñ—è –∑—É–ø–∏–Ω–∏—Ç—å—Å—è —Ç—É—Ç</button>
</div>
```

**–©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è:**

-   –ü—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É –ø–æ–¥—ñ—è **–Ω–µ —Å–ø–ª–∏–≤–µ** –¥–æ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ `<div>`
-   –û–±—Ä–æ–±–Ω–∏–∫ –Ω–∞ `<div>` **–Ω–µ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è**

### event.stopPropagation() vs event.stopImmediatePropagation()

–Ø–∫—â–æ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ **–∫—ñ–ª—å–∫–∞ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤**, —î –≤–∞–∂–ª–∏–≤–∞ —Ä—ñ–∑–Ω–∏—Ü—è:

```javascript
const button = document.getElementById('btn')

// –û–±—Ä–æ–±–Ω–∏–∫ 1
button.addEventListener('click', (e) => {
    console.log('–û–±—Ä–æ–±–Ω–∏–∫ 1')
    e.stopPropagation() // –ó—É–ø–∏–Ω—è—î —Å–ø–ª–∏–≤–∞–Ω–Ω—è, –∞–ª–µ –ù–ï –∑—É–ø–∏–Ω—è—î —ñ–Ω—à—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏
})

// –û–±—Ä–æ–±–Ω–∏–∫ 2
button.addEventListener('click', (e) => {
    console.log('–û–±—Ä–æ–±–Ω–∏–∫ 2') // –í–°–ï –û–î–ù–û –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è!
})

// –ü—Ä–∏ –∫–ª—ñ–∫—É –ø–æ–±–∞—á–∏–º–æ:
// –û–±—Ä–æ–±–Ω–∏–∫ 1
// –û–±—Ä–æ–±–Ω–∏–∫ 2
```

**–î–ª—è –ø–æ–≤–Ω–æ—ó –∑—É–ø–∏–Ω–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `stopImmediatePropagation()`:**

```javascript
button.addEventListener('click', (e) => {
    console.log('–û–±—Ä–æ–±–Ω–∏–∫ 1')
    e.stopImmediatePropagation() // –ó—É–ø–∏–Ω—è—î –í–°–ï: —ñ —Å–ø–ª–∏–≤–∞–Ω–Ω—è, —ñ —ñ–Ω—à—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏
})

button.addEventListener('click', (e) => {
    console.log('–û–±—Ä–æ–±–Ω–∏–∫ 2') // –ù–ï –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è!
})

// –ü—Ä–∏ –∫–ª—ñ–∫—É –ø–æ–±–∞—á–∏–º–æ –ª–∏—à–µ:
// –û–±—Ä–æ–±–Ω–∏–∫ 1
```

::field-group
::field{name="event.stopPropagation()" type="method"}
**–ó—É–ø–∏–Ω—è—î —Å–ø–ª–∏–≤–∞–Ω–Ω—è**, –∞–ª–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è —ñ–Ω—à–∏–º –æ–±—Ä–æ–±–Ω–∏–∫–∞–º –Ω–∞ **–ø–æ—Ç–æ—á–Ω–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—ñ**.

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ, –∫–æ–ª–∏:

-   –•–æ—á–µ—Ç–µ –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –æ–±—Ä–æ–±—Ü—ñ –ø–æ–¥—ñ—ó –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–º–∏ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏
-   –ê–ª–µ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –≤—Å—ñ–º –æ–±—Ä–æ–±–Ω–∏–∫–∞–º –Ω–∞ –ø–æ—Ç–æ—á–Ω–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—ñ –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è
    ::

::field{name="event.stopImmediatePropagation()" type="method"}
**–ü–æ–≤–Ω—ñ—Å—Ç—é –∑—É–ø–∏–Ω—è—î** –ø–æ–¥—ñ—é: –Ω—ñ —Å–ø–ª–∏–≤–∞–Ω–Ω—è, –Ω—ñ —ñ–Ω—à—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–µ –≤–∏–∫–æ–Ω–∞—é—Ç—å—Å—è.

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ, –∫–æ–ª–∏:

-   –ü–æ—Ç—Ä—ñ–±–Ω–∞ –ø–æ–≤–Ω–∞ –∑—É–ø–∏–Ω–∫–∞ –æ–±—Ä–æ–±–∫–∏ –ø–æ–¥—ñ—ó
-   –Ü–Ω—à—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –≤–∑–∞–≥–∞–ª—ñ
    ::
    ::

### –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è

| –ú–µ—Ç–æ–¥                        | –°–ø–ª–∏–≤–∞–Ω–Ω—è –≤–≥–æ—Ä—É  | –Ü–Ω—à—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ |
| :--------------------------- | :--------------- | :------------------------- |
| _(–Ω—ñ—á–æ–≥–æ –Ω–µ –≤–∏–∫–ª–∏–∫–∞–ª–∏)_      | ‚úÖ –ü—Ä–æ–¥–æ–≤–∂—É—î—Ç—å—Å—è | ‚úÖ –í–∏–∫–æ–Ω—É—é—Ç—å—Å—è             |
| `stopPropagation()`          | ‚ùå –ó—É–ø–∏–Ω—è—î—Ç—å—Å—è   | ‚úÖ –í–∏–∫–æ–Ω—É—é—Ç—å—Å—è             |
| `stopImmediatePropagation()` | ‚ùå –ó—É–ø–∏–Ω—è—î—Ç—å—Å—è   | ‚ùå –ù–µ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è          |

## ‚ö†Ô∏è –ù–µ–±–µ–∑–ø–µ–∫–∞ stopPropagation(): –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ –ø–∞—Å—Ç–∫–∏

::caution

### –ß–æ–º—É –ù–ï –≤–∞—Ä—Ç–æ –∑—É–ø–∏–Ω—è—Ç–∏ —Å–ø–ª–∏–≤–∞–Ω–Ω—è

–ó—É–ø–∏–Ω–∫–∞ —Å–ø–ª–∏–≤–∞–Ω–Ω—è –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ **–≤–∞–∂–∫–æ –≤–∏—è–≤–ª—é–≤–∞–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏** –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É. –†–æ–∑–≥–ª—è–Ω–µ–º–æ —Ä–µ–∞–ª—å–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:

**–ü—Ä–æ–±–ª–µ–º–∞:**

1. **–°—å–æ–≥–æ–¥–Ω—ñ:** –í–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –≤–∫–ª–∞–¥–µ–Ω–µ –º–µ–Ω—é, —è–∫–µ –∑—É–ø–∏–Ω—è—î —Å–ø–ª–∏–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ `stopPropagation()`

    ```javascript
    menu.addEventListener('click', (e) => {
        handleMenuClick(e)
        e.stopPropagation() // –ó—É–ø–∏–Ω—è—î–º–æ —Å–ø–ª–∏–≤–∞–Ω–Ω—è
    })
    ```

2. **–ß–µ—Ä–µ–∑ –º—ñ—Å—è—Ü—å:** –î–æ–¥–∞—î—Ç–µ —Å–∏—Å—Ç–µ–º—É –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏ –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –∫–ª—ñ–∫—ñ–≤

    ```javascript
    document.addEventListener('click', (e) => {
        sendAnalytics(e.target) // –ù–µ —Å–ø—Ä–∞—Ü—é—î –¥–ª—è –º–µ–Ω—é! üò¢
    })
    ```

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£ –≤–∞—Å –≤–∏–Ω–∏–∫–∞—î **"–º–µ—Ä—Ç–≤–∞ –∑–æ–Ω–∞"** ‚Äî –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –Ω–µ –æ—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ –ø—Ä–æ –∫–ª—ñ–∫–∏ –≤ –º–µ–Ω—é

**–ù–∞—Å–ª—ñ–¥–∫–∏:**

-   üìä –ù–µ–ø–æ–≤–Ω—ñ –¥–∞–Ω—ñ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏
-   üêõ –í–∞–∂–∫–æ –∑–Ω–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—É (–∫–æ–¥ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏ –≤–∏–≥–ª—è–¥–∞—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
-   üîß –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞—Ç–∏ —Å—Ç–∞—Ä—É –ª–æ–≥—ñ–∫—É –º–µ–Ω—é
    ::

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ stopPropagation()

::tabs
::tabs-item{label="‚ùå –ü–æ–≥–∞–Ω–æ"}

```javascript
// –ü—Ä–æ–±–ª–µ–º–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥
button.addEventListener('click', (e) => {
    e.stopPropagation() // –ë–ª–æ–∫—É—î —Å–ø–ª–∏–≤–∞–Ω–Ω—è –Ω–∞–∑–∞–≤–∂–¥–∏
    handleButtonClick()
})

document.addEventListener('click', () => {
    // –ù—ñ–∫–æ–ª–∏ –Ω–µ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è –¥–ª—è —Ü—ñ—î—ó –∫–Ω–æ–ø–∫–∏!
    trackClick()
})
```

::

::tabs-item{label="‚úÖ –ö—Ä–∞—â–µ: event.defaultPrevented"}

```javascript
// –ö–Ω–æ–ø–∫–∞ "–ø–æ–≤—ñ–¥–æ–º–ª—è—î" –ø—Ä–æ –æ–±—Ä–æ–±–∫—É —á–µ—Ä–µ–∑ defaultPrevented
button.addEventListener('click', (e) => {
    e.preventDefault() // –ü–æ–∑–Ω–∞—á–∞—î–º–æ –ø–æ–¥—ñ—é —è–∫ –æ–±—Ä–æ–±–ª–µ–Ω—É
    handleButtonClick()
})

document.addEventListener('click', (e) => {
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤–∂–µ –æ–±—Ä–æ–±–ª–µ–Ω–∞ –ø–æ–¥—ñ—è
    if (e.defaultPrevented) return

    trackClick() // –í–∏–∫–æ–Ω–∞—î—Ç—å—Å—è –¥–ª—è —ñ–Ω—à–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
})
```

::

::tabs-item{label="‚úÖ –ù–∞–π–∫—Ä–∞—â–µ: data-–∞—Ç—Ä–∏–±—É—Ç–∏"}

```javascript
// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –º–∞—Ä–∫–µ—Ä
button.addEventListener('click', (e) => {
    e.target.dataset.handled = 'true'
    handleButtonClick()
})

document.addEventListener('click', (e) => {
    if (e.target.dataset.handled) return

    trackClick() // –í–∏–∫–æ–Ω–∞—î—Ç—å—Å—è –¥–ª—è –Ω–µ–æ–±—Ä–æ–±–ª–µ–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
})
```

::
::

## –§–∞–∑–∞ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è (Capturing): —Ä—ñ–¥–∫—ñ—Å–Ω–∞, –∞–ª–µ –ø–æ—Ç—É–∂–Ω–∞

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ —Ñ–∞–∑—ñ **—Å–ø–ª–∏–≤–∞–Ω–Ω—è**. –ê–ª–µ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ—Ö–æ–ø–∏—Ç–∏ –ø–æ–¥—ñ—é **–¥–æ —Ç–æ–≥–æ**, —è–∫ –≤–æ–Ω–∞ –¥–æ—Å—è–≥–Ω–µ —Ü—ñ–ª—å–æ–≤–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ ‚Äî –Ω–∞ —Ñ–∞–∑—ñ **–∑–∞–Ω—É—Ä–µ–Ω–Ω—è**.

### –Ø–∫ –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ —Ñ–∞–∑—É –∑–∞–Ω—É—Ä–µ–Ω–Ω—è

```javascript
// –¢—Ä–µ—Ç—ñ–π –ø–∞—Ä–∞–º–µ—Ç—Ä true –∞–±–æ { capture: true }
element.addEventListener('click', handler, true)

// –ê–±–æ –∑ –æ–±'—î–∫—Ç–æ–º –æ–ø—Ü—ñ–π
element.addEventListener('click', handler, { capture: true })
```

### –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ñ–∞–∑

::code-group

```javascript [Bubbling (—Ç–∏–ø–æ–≤–æ)]
document.addEventListener('click', () => {
    console.log('document')
})

body.addEventListener('click', () => {
    console.log('body')
})

div.addEventListener('click', () => {
    console.log('div ‚Äî –¶–Ü–õ–¨')
})

// –ö–ª—ñ–∫ –Ω–∞ div –≤–∏–≤–µ–¥–µ:
// div ‚Äî –¶–Ü–õ–¨
// body
// document
```

```javascript [Capturing]
document.addEventListener(
    'click',
    () => {
        console.log('document')
    },
    true,
) // capture: true

body.addEventListener(
    'click',
    () => {
        console.log('body')
    },
    true,
)

div.addEventListener('click', () => {
    console.log('div ‚Äî –¶–Ü–õ–¨')
})

// –ö–ª—ñ–∫ –Ω–∞ div –≤–∏–≤–µ–¥–µ:
// document
// body
// div ‚Äî –¶–Ü–õ–¨
```

```javascript [Both phases]
document.addEventListener(
    'click',
    () => {
        console.log('document ‚Äî capturing')
    },
    true,
)

document.addEventListener('click', () => {
    console.log('document ‚Äî bubbling')
})

div.addEventListener('click', () => {
    console.log('div ‚Äî –¶–Ü–õ–¨')
})

// –ö–ª—ñ–∫ –Ω–∞ div –≤–∏–≤–µ–¥–µ:
// document ‚Äî capturing    (‚¨áÔ∏è –∑–∞–Ω—É—Ä–µ–Ω–Ω—è)
// div ‚Äî –¶–Ü–õ–¨              (üéØ —Ü—ñ–ª—å)
// document ‚Äî bubbling     (‚¨ÜÔ∏è —Å–ø–ª–∏–≤–∞–Ω–Ω—è)
```

::

### –ü–æ–≤–Ω–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —Ñ–∞–∑

```html
<div id="outer">
    <div id="middle">
        <div id="inner">–ö–õ–Ü–ö–ù–ò –°–Æ–î–ò</div>
    </div>
</div>

<script>
    const outer = document.getElementById('outer')
    const middle = document.getElementById('middle')
    const inner = document.getElementById('inner')

    // Capturing –æ–±—Ä–æ–±–Ω–∏–∫–∏
    outer.addEventListener('click', () => console.log('outer ‚Äî capturing'), true)
    middle.addEventListener('click', () => console.log('middle ‚Äî capturing'), true)
    inner.addEventListener('click', () => console.log('inner ‚Äî capturing'), true)

    // Bubbling –æ–±—Ä–æ–±–Ω–∏–∫–∏
    outer.addEventListener('click', () => console.log('outer ‚Äî bubbling'))
    middle.addEventListener('click', () => console.log('middle ‚Äî bubbling'))
    inner.addEventListener('click', () => console.log('inner ‚Äî bubbling'))
</script>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ inner:**

```
outer ‚Äî capturing     ‚¨áÔ∏è –§–∞–∑–∞ 1: –ó–∞–Ω—É—Ä–µ–Ω–Ω—è (document ‚Üí inner)
middle ‚Äî capturing    ‚¨áÔ∏è
inner ‚Äî capturing     ‚¨áÔ∏è
inner ‚Äî bubbling      ‚¨ÜÔ∏è –§–∞–∑–∞ 3: –°–ø–ª–∏–≤–∞–Ω–Ω—è (inner ‚Üí document)
middle ‚Äî bubbling     ‚¨ÜÔ∏è
outer ‚Äî bubbling      ‚¨ÜÔ∏è
```

::mermaid

```mermaid
graph TD
    Doc["üåê document"]
    Outer["üì¶ div#outer"]
    Middle["üì¶ div#middle"]
    Inner["üéØ div#inner TARGET"]

    Doc -->|"1Ô∏è‚É£ Capturing ‚¨áÔ∏è"| Outer
    Outer -->|"2Ô∏è‚É£ Capturing ‚¨áÔ∏è"| Middle
    Middle -->|"3Ô∏è‚É£ Capturing ‚¨áÔ∏è"| Inner

    Inner -->|"4Ô∏è‚É£ Target Phase"| Inner

    Inner -->|"5Ô∏è‚É£ Bubbling ‚¨ÜÔ∏è"| Middle
    Middle -->|"6Ô∏è‚É£ Bubbling ‚¨ÜÔ∏è"| Outer
    Outer -->|"7Ô∏è‚É£ Bubbling ‚¨ÜÔ∏è"| Doc

    style Inner fill:#f59e0b,stroke:#d97706,color:#ffffff,stroke-width:4px
    style Doc fill:#3b82f6,stroke:#1d4ed8,color:#ffffff
    style Outer fill:#6366f1,stroke:#4f46e5,color:#ffffff
    style Middle fill:#8b5cf6,stroke:#7c3aed,color:#ffffff
```

::

### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ñ–∞–∑—É –∑–∞–Ω—É—Ä–µ–Ω–Ω—è?

::tip

### üéØ –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –≤–∏–ø–∞–¥–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è capturing

**1. –ì–ª–æ–±–∞–ª—å–Ω–µ –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π**

```javascript
// –ü–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è –í–°–Ü–• –∫–ª—ñ–∫—ñ–≤ –¥–æ —ó—Ö –æ–±—Ä–æ–±–∫–∏
document.addEventListener(
    'click',
    (e) => {
        console.log('–ì–ª–æ–±–∞–ª—å–Ω–∏–π –∞—É–¥–∏—Ç –∫–ª—ñ–∫–∞:', e.target)
        // –õ–æ–≥—É–≤–∞–Ω–Ω—è, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–∑–≤–æ–ª—ñ–≤
    },
    true,
)
```

**2. –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è —Å–ø–ª–∏–≤–∞–Ω–Ω—é –¥–ª—è –ø–µ–≤–Ω–æ—ó –∑–æ–Ω–∏**

```javascript
const restrictedArea = document.getElementById('restrictedArea')

restrictedArea.addEventListener(
    'click',
    (e) => {
        if (!userHasPermission()) {
            e.stopPropagation() // –ó—É–ø–∏–Ω—è—î–º–æ –Ω–∞ —Ñ–∞–∑—ñ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è!
            alert('–î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ')
        }
    },
    true,
)
```

**3. –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∞ –æ–±—Ä–æ–±–∫–∞**

```javascript
// –ë–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –µ–ª–µ–º–µ–Ω—Ç –æ–±—Ä–æ–±–ª—è—î –ø–æ–¥—ñ—é –ü–ï–†–®–ò–ú
parent.addEventListener(
    'keydown',
    (e) => {
        if (e.key === 'Escape') {
            closeModal()
            e.stopPropagation() // –î–æ—á—ñ—Ä–Ω—ñ –Ω–µ –æ—Ç—Ä–∏–º–∞—é—Ç—å Escape
        }
    },
    true,
)
```

::

## event.eventPhase: –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ—ó —Ñ–∞–∑–∏

–ö–æ–∂–Ω–∞ –ø–æ–¥—ñ—è –º–∞—î –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å `eventPhase`, —è–∫–∞ –ø–æ–∫–∞–∑—É—î –Ω–æ–º–µ—Ä –ø–æ—Ç–æ—á–Ω–æ—ó —Ñ–∞–∑–∏:

```javascript
element.addEventListener(
    'click',
    (e) => {
        console.log(e.eventPhase)
        // 1 = Event.CAPTURING_PHASE
        // 2 = Event.AT_TARGET
        // 3 = Event.BUBBLING_PHASE
    },
    true,
)
```

**–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏:**

-   `Event.CAPTURING_PHASE` = `1` ‚Äî —Ñ–∞–∑–∞ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è
-   `Event.AT_TARGET` = `2` ‚Äî –ø–æ–¥—ñ—è –Ω–∞ —Ü—ñ–ª—å–æ–≤–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—ñ
-   `Event.BUBBLING_PHASE` = `3` ‚Äî —Ñ–∞–∑–∞ —Å–ø–ª–∏–≤–∞–Ω–Ω—è

**–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**

```javascript
function universalHandler(e) {
    const phases = ['none', 'capturing', 'target', 'bubbling']
    console.log(`–§–∞–∑–∞: ${phases[e.eventPhase]}, –ï–ª–µ–º–µ–Ω—Ç: ${e.currentTarget.id}`)
}

outer.addEventListener('click', universalHandler, true) // capturing
middle.addEventListener('click', universalHandler) // bubbling
inner.addEventListener('click', universalHandler) // bubbling
```

## –í–∞–∂–ª–∏–≤—ñ –Ω—é–∞–Ω—Å–∏ —Ç–∞ –ø—ñ–¥–≤–æ–¥–Ω—ñ –∫–∞–º–µ–Ω—ñ

::card-group
::card{title="‚ö†Ô∏è –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤" icon="i-heroicons-hand-raised"}
–î–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è capture-–æ–±—Ä–æ–±–Ω–∏–∫–∞ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ **—Ç—É —Å–∞–º—É —Ñ–∞–∑—É**:

```javascript
const handler = () => console.log('click')

// –î–æ–¥–∞–ª–∏ –∑ capturing
elem.addEventListener('click', handler, true)

// ‚ùå –ù–µ –≤–∏–¥–∞–ª–∏—Ç—å ‚Äî —Ä—ñ–∑–Ω—ñ —Ñ–∞–∑–∏!
elem.removeEventListener('click', handler)

// ‚úÖ –í–∏–¥–∞–ª–∏—Ç—å ‚Äî —Ç–∞ —Å–∞–º–∞ —Ñ–∞–∑–∞
elem.removeEventListener('click', handler, true)
```

::

::card{title="üìã –ü–æ—Ä—è–¥–æ–∫ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤" icon="i-heroicons-queue-list"}
–û–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–∞ **–æ–¥–Ω—ñ–π —Ñ–∞–∑—ñ** –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –≤ –ø–æ—Ä—è–¥–∫—É —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:

```javascript
elem.addEventListener('click', () => console.log('1'))
elem.addEventListener('click', () => console.log('2'))
elem.addEventListener('click', () => console.log('3'))

// –ó–∞–≤–∂–¥–∏ –≤–∏–≤–µ–¥–µ: 1, 2, 3
```

::

::card{title="üéØ –§–∞–∑–∞ —Ü—ñ–ª—ñ" icon="i-heroicons-cursor-arrow-rays"}
–ù–∞ **—Ü—ñ–ª—å–æ–≤–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—ñ** –æ–±–∏–¥–≤—ñ —Ñ–∞–∑–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è:

```javascript
target.addEventListener('click', () => console.log('capturing'), true)
target.addEventListener('click', () => console.log('bubbling'))

// –ü—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ target –≤–∏–≤–µ–¥–µ:
// capturing
// bubbling
```

::

::card{title="üö´ stopPropagation –Ω–∞ capturing" icon="i-heroicons-hand-raised"}
`stopPropagation()` –Ω–∞ —Ñ–∞–∑—ñ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è –∑—É–ø–∏–Ω—è—î **–í–°–ï**:

```javascript
parent.addEventListener(
    'click',
    (e) => {
        e.stopPropagation() // –ó—É–ø–∏–Ω–∫–∞ –Ω–∞ capturing
    },
    true,
)

child.addEventListener('click', () => {
    console.log('–ù–µ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è!') // –ü–æ–¥—ñ—è –Ω–µ –¥—ñ–π—à–ª–∞
})
```

::
::

## –†–µ–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥: —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É

–°—Ç–≤–æ—Ä–∏–º–æ —Å–∏—Å—Ç–µ–º—É, –¥–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ –±–ª–æ–∫—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–≤–∏—á–∞–π–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:

```html
<!DOCTYPE html>
<html>
    <head>
        <style>
            .app {
                padding: 20px;
                font-family: Arial;
            }
            .admin-panel {
                position: fixed;
                top: 10px;
                right: 10px;
                padding: 15px;
                background: #fee;
                border: 2px solid #f00;
                border-radius: 8px;
            }
            .content {
                padding: 20px;
                background: #f0f0f0;
                border-radius: 8px;
            }
            button {
                padding: 10px 20px;
                margin: 5px;
                cursor: pointer;
            }
            .locked::after {
                content: 'üîí';
                margin-left: 5px;
            }
        </style>
    </head>
    <body>
        <div class="app">
            <div class="admin-panel">
                <h3>–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å</h3>
                <label>
                    <input type="checkbox" id="lockToggle" checked />
                    –ó–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                </label>
            </div>

            <div class="content" id="content">
                <h1>–ö–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–æ–≥—Ä–∞–º–∏</h1>
                <button id="btn1">–ö–Ω–æ–ø–∫–∞ 1</button>
                <button id="btn2">–ö–Ω–æ–ø–∫–∞ 2</button>
                <input type="text" placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç" />
                <p>–ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –±—É–¥—å-—è–∫–∏–π –µ–ª–µ–º–µ–Ω—Ç</p>
            </div>
        </div>

        <script>
            const content = document.getElementById('content')
            const lockToggle = document.getElementById('lockToggle')
            let isLocked = true

            lockToggle.addEventListener('change', (e) => {
                isLocked = e.target.checked
                content.classList.toggle('locked', isLocked)
            })

            // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ CAPTURING –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ—ó –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
            content.addEventListener(
                'click',
                (e) => {
                    if (isLocked) {
                        e.stopPropagation()
                        e.preventDefault()
                        alert('‚õî –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º!')
                    }
                },
                true,
            ) // –í–ê–ñ–õ–ò–í–û: capturing = true

            // –ó–≤–∏—á–∞–π–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö (–Ω–µ —Å–ø—Ä–∞—Ü—é—é—Ç—å –ø—Ä–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—ñ)
            document.getElementById('btn1').addEventListener('click', () => {
                alert('–û–±—Ä–æ–±–Ω–∏–∫ –∫–Ω–æ–ø–∫–∏ 1')
            })

            document.getElementById('btn2').addEventListener('click', () => {
                alert('–û–±—Ä–æ–±–Ω–∏–∫ –∫–Ω–æ–ø–∫–∏ 2')
            })
        </script>
    </body>
</html>
```

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**

1. –û–±—Ä–æ–±–Ω–∏–∫ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ —Ñ–∞–∑—ñ **capturing** (–ø–µ—Ä–µ—Ö–æ–ø–ª—é—î –ø–æ–¥—ñ—ó –ø–µ—Ä—à–∏–º)
2. –Ø–∫—â–æ `isLocked === true`, –∑—É–ø–∏–Ω—è—î –ø–æ–¥—ñ—é —á–µ—Ä–µ–∑ `stopPropagation()`
3. –û–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö **–Ω–µ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è**, –±–æ –ø–æ–¥—ñ—è –Ω–µ –¥—ñ–π—à–ª–∞ –¥–æ –Ω–∏—Ö
4. –ü—Ä–∏ –∑–Ω—è—Ç—Ç–≤—ñ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ—ó –ø—Ä–æ—Ö–æ–¥—è—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ

## –ü—ñ–¥—Å—É–º–∫–∏

::steps

### –°–ø–ª–∏–≤–∞–Ω–Ω—è (Bubbling) ‚Äî –æ—Å–Ω–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∏ –ø–æ–¥—ñ–π

–ö–æ–ª–∏ –ø–æ–¥—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, –≤–æ–Ω–∞ **—Å–ø–ª–∏–≤–∞—î** –≤—ñ–¥ —Ü—ñ–ª—å–æ–≤–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –¥–æ –∫–æ—Ä–µ–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–∞ —à–ª—è—Ö—É.

**–ü–æ—Ä—è–¥–æ–∫:** `target` ‚Üí `parent` ‚Üí `grandparent` ‚Üí ... ‚Üí `document`

### event.target vs event.currentTarget

-   `event.target` ‚Äî **–¥–µ –ø–æ–¥—ñ—è –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –≤—ñ–¥–±—É–ª–∞—Å—è** (–∑–∞–≤–∂–¥–∏ –Ω–µ–∑–º—ñ–Ω–Ω–∏–π)
-   `event.currentTarget` (= `this`) ‚Äî **–¥–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–±—Ä–æ–±–Ω–∏–∫** (–∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—Ä–∏ —Å–ø–ª–∏–≤–∞–Ω–Ω—ñ)

### –§–∞–∑–∏ –ø–æ–¥—ñ—ó: 3 –µ—Ç–∞–ø–∏ –ø–æ–¥–æ—Ä–æ–∂—ñ

1. **Capturing** (‚¨áÔ∏è) ‚Äî –∑–∞–Ω—É—Ä–µ–Ω–Ω—è –≤—ñ–¥ document –¥–æ target
2. **Target** (üéØ) ‚Äî –æ–±—Ä–æ–±–∫–∞ –Ω–∞ —Ü—ñ–ª—å–æ–≤–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—ñ
3. **Bubbling** (‚¨ÜÔ∏è) ‚Äî —Å–ø–ª–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ target –¥–æ document

### –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º ‚Äî bubbling

`addEventListener(event, handler)` ‚Äî –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–∞ —Ñ–∞–∑—ñ **—Å–ø–ª–∏–≤–∞–Ω–Ω—è**  
`addEventListener(event, handler, true)` ‚Äî –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–∞ —Ñ–∞–∑—ñ **–∑–∞–Ω—É—Ä–µ–Ω–Ω—è**

### –ó—É–ø–∏–Ω–∫–∞ —Å–ø–ª–∏–≤–∞–Ω–Ω—è (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–±–µ—Ä–µ–∂–Ω–æ!)

-   `stopPropagation()` ‚Äî –∑—É–ø–∏–Ω—è—î —Å–ø–ª–∏–≤–∞–Ω–Ω—è, —ñ–Ω—à—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ –≤–∏–∫–æ–Ω–∞—é—Ç—å—Å—è
-   `stopImmediatePropagation()` ‚Äî –ø–æ–≤–Ω–∞ –∑—É–ø–∏–Ω–∫–∞ (—Å–ø–ª–∏–≤–∞–Ω–Ω—è + —ñ–Ω—à—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏)

‚ö†Ô∏è **–ö—Ä–∞—â–µ —É–Ω–∏–∫–∞–π—Ç–µ** ‚Äî –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ "–º–µ—Ä—Ç–≤—ñ –∑–æ–Ω–∏" –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ—ó –ª–æ–≥—ñ–∫–∏

### Capturing ‚Äî –¥–ª—è —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ, –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ **–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∞ –æ–±—Ä–æ–±–∫–∞** (–≤–∞–ª—ñ–¥–∞—Ü—ñ—è, –ª–æ–≥—É–≤–∞–Ω–Ω—è, –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É)
::

## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

::tip

### –ó–∞–≤–¥–∞–Ω–Ω—è 1: –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –≥–∞–ª–µ—Ä–µ—è

–°—Ç–≤–æ—Ä—ñ—Ç—å –≥–∞–ª–µ—Ä–µ—é –∑–æ–±—Ä–∞–∂–µ–Ω—å:

-   –ü—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –º—ñ–Ω—ñ–∞—Ç—é—Ä—É –ø–æ–∫–∞–∑—É–π—Ç–µ –≤–µ–ª–∏–∫–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º—É –≤—ñ–∫–Ω—ñ
-   –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ **–¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π** ‚Äî –æ–¥–∏–Ω –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
-   –ü—Ä–∏ –∫–ª—ñ–∫—É –ø–æ–∑–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –∑–∞–∫—Ä–∏–≤–∞–π—Ç–µ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ
-   –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ `event.target` –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è, –Ω–∞ —â–æ –∫–ª—ñ–∫–Ω—É–ª–∏

**–ü—ñ–¥–∫–∞–∑–∫–∞:** –í–µ—Å—å –∫–æ–¥ –º–æ–∂–Ω–∞ –Ω–∞–ø–∏—Å–∞—Ç–∏ –∑ –æ–¥–Ω–∏–º –æ–±—Ä–æ–±–Ω–∏–∫–æ–º –Ω–∞ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π `<div>`!
::

::tip

### –ó–∞–≤–¥–∞–Ω–Ω—è 2: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É

–†–µ–∞–ª—ñ–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É, –¥–µ:

-   –Ñ –∫–Ω–æ–ø–∫–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ä—ñ–≤–Ω—è–º–∏ –¥–æ—Å—Ç—É–ø—É (`data-access-level="admin"`)
-   –ü—Ä–∏ –∫–ª—ñ–∫—É –ø–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ —Ä—ñ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
-   –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ **capturing** –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
-   –Ø–∫—â–æ –¥–æ—Å—Ç—É–ø—É –Ω–µ–º–∞—î ‚Äî –∑—É–ø–∏–Ω—è–π—Ç–µ –ø–æ–¥—ñ—é —Ç–∞ –ø–æ–∫–∞–∑—É–π—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

**–ü—ñ–¥–∫–∞–∑–∫–∞:** –û–¥–∏–Ω –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–∞ `document` –∑ `{ capture: true }` –º–æ–∂–µ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –≤–µ—Å—å –¥–æ–¥–∞—Ç–æ–∫!
::

::tip

### –ó–∞–≤–¥–∞–Ω–Ω—è 3: –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –∫–ª—ñ–∫—ñ–≤

–î–æ–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏, —è–∫–∞:

-   –í—ñ–¥—Å—Ç–µ–∂—É—î –≤—Å—ñ –∫–ª—ñ–∫–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
-   –ó–∞–ø–∏—Å—É—î: –µ–ª–µ–º–µ–Ω—Ç, —á–∞—Å, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏
-   –ù–ï –∑–∞–≤–∞–∂–∞—î —Ä–æ–±–æ—Ç—ñ —ñ—Å–Ω—É—é—á–æ–≥–æ –∫–æ–¥—É
-   –ü—Ä–∞—Ü—é—î –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —ñ–Ω—à—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å `preventDefault()`

**–ü—ñ–¥–∫–∞–∑–∫–∞:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ `document.addEventListener` –ë–ï–ó `stopPropagation` –≤ —ñ–Ω—à–∏—Ö –æ–±—Ä–æ–±–Ω–∏–∫–∞—Ö!
::

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

::card-group
::card{title="üìö –°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è W3C" icon="i-heroicons-document-text"}
[DOM Events Level 3](https://www.w3.org/TR/DOM-Level-3-Events/) ‚Äî –æ—Ñ—ñ—Ü—ñ–π–Ω–∞ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è –º–µ—Ö–∞–Ω—ñ–∑–º—É –ø–æ–¥—ñ–π

[Event interface](https://dom.spec.whatwg.org/#interface-event) ‚Äî WHATWG Living Standard
::

::card{title="üéì MDN Web Docs" icon="i-heroicons-academic-cap"}
[Event bubbling and capturing](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#event_bubbling_and_capture)

[Event.stopPropagation()](https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation)
::

::card{title="üîó –ü–æ–≤'—è–∑–∞–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ" icon="i-heroicons-link"}
[–ü–æ–ø–µ—Ä–µ–¥–Ω—è: –í—Å—Ç—É–ø –¥–æ –ø–æ–¥—ñ–π –±—Ä–∞—É–∑–µ—Ä–∞](./1-–í—Å—Ç—É–ø-–¥–æ-–ø–æ–¥—ñ–π-–±—Ä–∞—É–∑–µ—Ä–∞.md)

[–ù–∞—Å—Ç—É–ø–Ω–∞: –î–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π](./3-–î–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è-–ø–æ–¥—ñ–π.md)
::
::

---

**–ù–∞—Å—Ç—É–ø–Ω–∞ —Å—Ç–∞—Ç—Ç—è**: [–î–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π](./3-–î–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è-–ø–æ–¥—ñ–π.md) ‚Äî —è–∫ –æ–¥–∏–Ω –æ–±—Ä–æ–±–Ω–∏–∫ –º–æ–∂–µ –∫–µ—Ä—É–≤–∞—Ç–∏ —Ç–∏—Å—è—á–∞–º–∏ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
