# TanStack Query: –ú–∞–π—Å—Ç–µ—Ä–Ω—ñ—Å—Ç—å –ö–µ—Ä—É–≤–∞–Ω–Ω—è –°—Ç–∞–Ω–æ–º –°–µ—Ä–≤–µ—Ä–∞

::badge{type="warning" text="React 18+"}
::badge{type="info" text="TanStack Query v5"}

–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ –ø–æ–≤–Ω–æ–≥–æ –∫—É—Ä—Å—É –∑ –æ–ø–∞–Ω—É–≤–∞–Ω–Ω—è **TanStack Query** (—Ä–∞–Ω—ñ—à–µ –≤—ñ–¥–æ–º–æ–≥–æ —è–∫ React Query). –¶–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è, —Ü–µ **–ø–æ–¥–æ—Ä–æ–∂ –≤—ñ–¥ —Ä—É—á–Ω–æ–≥–æ —Ñ–µ—á–∏–Ω–≥—É –¥–∞–Ω–∏—Ö –¥–æ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó —Å—Ç–∞–Ω—ñ–≤**.

–ú–∏ –∑–º—ñ–Ω–∏–º–æ –≤–∞—à —Å–ø–æ—Å—ñ–± –º–∏—Å–ª–µ–Ω–Ω—è –ø—Ä–æ –¥–∞–Ω—ñ —É React-–¥–æ–¥–∞—Ç–∫–∞—Ö. –í–∏ –±—ñ–ª—å—à–µ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–∞—Ö–æ—á–µ—Ç–µ –ø–∏—Å–∞—Ç–∏ `useEffect` –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö.

## –ü—Ä–æ–±–ª–µ–º–∞ –°—É—á–∞—Å–Ω–æ–≥–æ –§—Ä–æ–Ω—Ç–µ–Ω–¥—É

–í–∏ –∫–æ–ª–∏-–Ω–µ–±—É–¥—å –ø–∏—Å–∞–ª–∏ —Ç–∞–∫–∏–π –∫–æ–¥?

```jsx [OldWay.jsx]
const [data, setData] = useState(null);
const [isLoading, setIsLoading] = useState(false);
const [error, setError] = useState(null);

useEffect(() => {
  let isMounted = true;
  setIsLoading(true);
  
  fetch('/api/data')
    .then(res => res.json())
    .then(data => {
      if (isMounted) setData(data);
    })
    .catch(err => {
      if (isMounted) setError(err);
    })
    .finally(() => {
      if (isMounted) setIsLoading(false);
    });

  return () => { isMounted = false };
}, []);
```

–¶–µ –ª–∏—à–µ –≤–µ—Ä—Ö—ñ–≤–∫–∞ –∞–π—Å–±–µ—Ä–≥–∞. –ê —â–æ —è–∫:
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–∫–ª—é—á–∏–≤—Å—è –Ω–∞ —ñ–Ω—à—É –≤–∫–ª–∞–¥–∫—É —ñ –ø–æ–≤–µ—Ä–Ω—É–≤—Å—è? –î–∞–Ω—ñ –≤–∂–µ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ?
- –î–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –æ–¥–Ω–∏—Ö —ñ —Ç–∏—Ö —Å–∞–º–∏—Ö –¥–∞–Ω–∏—Ö?
- –ü–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ "Infinite Scroll"?
- –ó–∞–ø–∏—Ç –≤–ø–∞–≤, —ñ —Ç—Ä–µ–±–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ 3 —Ä–∞–∑–∏ –ø–µ—Ä–µ–¥ —Ç–∏–º —è–∫ –ø–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É?

TanStack Query –≤–∏—Ä—ñ—à—É—î —Ü—ñ –ø—Ä–æ–±–ª–µ–º–∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ, –µ–ª–µ–≥–∞–Ω—Ç–Ω–æ —ñ "–º–∞–≥—ñ—á–Ω–æ".

## –î–æ—Ä–æ–∂–Ω—è –ö–∞—Ä—Ç–∞ –ö—É—Ä—Å—É

–ú–∏ –ø—Ä–æ–π–¥–µ–º–æ —à–ª—è—Ö –≤—ñ–¥ –æ—Å–Ω–æ–≤ –¥–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö –ø–∞—Ç–µ—Ä–Ω—ñ–≤ Enterprise-—Ä—ñ–≤–Ω—è.

::steps
### –§—É–Ω–¥–∞–º–µ–Ω—Ç
–ú–∏ —Ä–æ–∑–±–µ—Ä–µ–º–æ, —á–æ–º—É **Server State** –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ **Client State** —ñ —á–æ–º—É Redux/Zustand –Ω–µ –ø—ñ–¥—Ö–æ–¥—è—Ç—å –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ API.

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä—ñ–π
–ù–∞–ª–∞—à—Ç—É—î–º–æ `QueryClient`, –ø—ñ–¥–∫–ª—é—á–∏–º–æ **DevTools** (–≤–∞—à—ñ –Ω–æ–≤—ñ –æ—á—ñ) —ñ –Ω–∞–≤—á–∏–º–æ—Å—è –ø–∏—Å–∞—Ç–∏ —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞–ø–∏—Ç–∏.

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ó–∞–ø–∏—Ç–∞–º–∏
–í–∏–≤—á–∏–º–æ `useQuery` –≤–∑–¥–æ–≤–∂ —ñ –≤–ø–æ–ø–µ—Ä–µ–∫: –∫–ª—é—á—ñ –∑–∞–ø–∏—Ç—ñ–≤, –ø–∞—Ä–∞–ª–µ–ª—å–Ω—ñ –∑–∞–ø–∏—Ç–∏, –∑–∞–ª–µ–∂–Ω—ñ –∑–∞–ø–∏—Ç–∏.

### –ú—É—Ç–∞—Ü—ñ—ó —Ç–∞ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
–ù–∞–≤—á–∏–º–æ—Å—è –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —á–µ—Ä–µ–∑ `useMutation` —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

### UX –í–∏—â–æ–≥–æ –†—ñ–≤–Ω—è
–†–µ–∞–ª—ñ–∑—É—î–º–æ **Optimistic Updates** (—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–∞–≥—É—î –º–∏—Ç—Ç—î–≤–æ, —è–∫ —É Telegram/Facebook), Pagination —Ç–∞ Infinite Scroll.

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
–°—Ç–≤–æ—Ä–∏–º–æ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑ –∫–∞—Å—Ç–æ–º–Ω–∏–º–∏ —Ö—É–∫–∞–º–∏ —Ç–∞ —Ñ–∞–±—Ä–∏–∫–∞–º–∏ –∫–ª—é—á—ñ–≤.
::

## –©–æ –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ

–ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—é —Ü—å–æ–≥–æ –º–æ–¥—É–ª—è –≤–∏ –∑–º–æ–∂–µ—Ç–µ:
- üöÄ –í–∏–¥–∞–ª–∏—Ç–∏ 30-50% boilerplate-–∫–æ–¥—É –∑ –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤.
- ‚ö°Ô∏è –ó—Ä–æ–±–∏—Ç–∏ –¥–æ–¥–∞—Ç–∫–∏ –º–∏—Ç—Ç—î–≤–æ —á—É—Ç–ª–∏–≤–∏–º–∏ –∑–∞–≤–¥—è–∫–∏ –∫–µ—à—É–≤–∞–Ω–Ω—é.
- üõ° –û–±—Ä–æ–±–ª—è—Ç–∏ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –≥—Ä–∞–Ω–∏—á–Ω—ñ —Å—Ç–∞–Ω–∏ (loading, error, empty) –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ.
- üß† –ü—Ä–æ–µ–∫—Ç—É–≤–∞—Ç–∏ —Å—Ö–µ–º–∏ –¥–∞–Ω–∏—Ö, —Å—Ç—ñ–π–∫—ñ –¥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è.

## –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –í–∏–º–æ–≥–∏

–¶–µ–π –∫—É—Ä—Å —Ä–æ–∑—Ä–∞—Ö–æ–≤–∞–Ω–∏–π –Ω–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤, —è–∫—ñ –≤–∂–µ –∑–Ω–∞–π–æ–º—ñ –∑:
- **React Hooks** (`useState`, `useEffect`, `useContext`).
- **Asynchronous JavaScript** (Promises, async/await).
- **Fetch API** –∞–±–æ **Axios**.

–ì–æ—Ç–æ–≤—ñ –∑–∞–Ω—É—Ä–∏—Ç–∏—Å—è —É —Å–≤—ñ—Ç –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏–º–∏? –ü–µ—Ä–µ—Ö–æ–¥—å—Ç–µ –¥–æ –ø–µ—Ä—à–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É!

[–†–æ–∑–ø–æ—á–∞—Ç–∏: –ü–∞—Ä–∞–¥–∏–≥–º–∞ Server State](./01.server-state-paradigm.md)
