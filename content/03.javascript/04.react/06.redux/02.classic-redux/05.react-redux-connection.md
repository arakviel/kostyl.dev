# –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ React (React-Redux)

–°–∞–º –ø–æ —Å–æ–±—ñ Redux –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞—î –ø—Ä–æ React. –©–æ–± "–ø–æ–∂—Ä—É–∂–∏—Ç–∏" —ó—Ö, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –æ—Ñ—ñ—Ü—ñ–π–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞-–ø—Ä–æ—à–∞—Ä–æ–∫: **React Redux**.

```bash
npm install react-redux
```

–í–æ–Ω–∞ –Ω–∞–¥–∞—î –Ω–∞–º –¥–≤–∞ –∫–ª—é—á–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:
1.  `<Provider>` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —è–∫–∏–π —Ä–æ–±–∏—Ç—å —Å—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–Ω–∏–º –¥–ª—è –≤—Å—å–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É.
2.  **Hooks** (`useSelector`, `useDispatch`) ‚Äî –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –∑—ñ —Å—Ç–æ—Ä–æ–º.

## –ö—Ä–æ–∫ 1: Provider

–ú–∏ –º–∞—î–º–æ –æ–±–≥–æ—Ä–Ω—É—Ç–∏ –Ω–∞—à –∫–æ—Ä–µ–Ω–µ–≤–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–∑–∞–∑–≤–∏—á–∞–π `<App>`) —É `<Provider>` —ñ –ø–µ—Ä–µ–¥–∞—Ç–∏ –π–æ–º—É –Ω–∞—à —Å—Ç–≤–æ—Ä–µ–Ω–∏–π `store`.

```jsx [index.js]
import React from 'react';
import ReactDOM from 'react-dom';
import { Provider } from 'react-redux';
import store from './store'; // –ù–∞—à store –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —É—Ä–æ–∫—ñ–≤
import App from './App';

ReactDOM.render(
  <Provider store={store}>
    <App />
  </Provider>,
  document.getElementById('root')
);
```

–ü—ñ–¥ –∫–∞–ø–æ—Ç–æ–º `Provider` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **React Context**, —Ç–æ–º—É –Ω–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –ø—Ä–æ–ø—Å–∏ –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ –≤—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏.

## –ö—Ä–æ–∫ 2: –ß–∏—Ç–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö (`useSelector`)

–©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∑—ñ —Å—Ç–æ—Ä—É –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ö—É–∫ `useSelector`.

```jsx
import { useSelector } from 'react-redux';

const CounterDisplay = () => {
  // –§—É–Ω–∫—Ü—ñ—è-—Å–µ–ª–µ–∫—Ç–æ—Ä –ø—Ä–∏–π–º–∞—î –≤–µ—Å—å state —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç—Ä—ñ–±–Ω—É —á–∞—Å—Ç–∏–Ω—É
  const count = useSelector(state => state.value);

  return <h1>–ü–æ—Ç–æ—á–Ω–∏–π —Ä–∞—Ö—É–Ω–æ–∫: {count}</h1>;
};
```

### –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ `useSelector`:
1.  **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥–ø–∏—Å—É—î—Ç—å—Å—è –Ω–∞ –∑–º—ñ–Ω–∏ —Å—Ç–æ—Ä—É.
2.  **–†–æ–∑—É–º–Ω–∏–π —Ä–µ-—Ä–µ–Ω–¥–µ—Ä**: –Ø–∫—â–æ `state.value` –∑–º—ñ–Ω–∏–ª–æ—Å—è, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–º–∞–ª—é—î—Ç—å—Å—è. –Ø–∫—â–æ –∑–º—ñ–Ω–∏–ª–æ—Å—è —â–æ—Å—å —ñ–Ω—à–µ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `state.user`), –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **–Ω–µ –±—É–¥–µ** –ø–µ—Ä–µ–º–∞–ª—å–æ–≤—É–≤–∞—Ç–∏—Å—è (–∑–∞ —É–º–æ–≤–∏, —â–æ —Å–µ–ª–µ–∫—Ç–æ—Ä –ø–æ–≤–µ—Ä—Ç–∞—î —Ç–µ —Å–∞–º–µ –∑–Ω–∞—á–µ–Ω–Ω—è).
3.  **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω—å**: `useSelector` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—É–≤–æ—Ä–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (`===`).

::alert{type="warning"}
**–û–±–µ—Ä–µ–∂–Ω–æ –∑ –æ–±'—î–∫—Ç–∞–º–∏!**
–Ø–∫—â–æ –≤–∞—à —Å–µ–ª–µ–∫—Ç–æ—Ä –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±—É–¥–µ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç–∏—Å—è –ø–æ—Å—Ç—ñ–π–Ω–æ, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –¥–∞–Ω—ñ –Ω–µ –∑–º—ñ–Ω–∏–ª–∏—Å—è.

```javascript
// ‚ùå –ü–æ–≥–∞–Ω–æ: —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç { a, b } –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É
const { a, b } = useSelector(state => ({ a: state.a, b: state.b }));

// ‚úÖ –î–æ–±—Ä–µ: –≤–∏–∫–ª–∏–∫–∞—Ç–∏ useSelector –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤
const a = useSelector(state => state.a);
const b = useSelector(state => state.b);
```
::

## –ö—Ä–æ–∫ 3: –ó–º—ñ–Ω–∞ –¥–∞–Ω–∏—Ö (`useDispatch`)

–©–æ–± –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ action, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ö—É–∫ `useDispatch`.

```jsx
import { useDispatch } from 'react-redux';

const CounterControls = () => {
  const dispatch = useDispatch();

  return (
    <div>
      <button onClick={() => dispatch({ type: 'INCREMENT' })}>+</button>
      <button onClick={() => dispatch({ type: 'DECREMENT' })}>-</button>
    </div>
  );
};
```

## –Ü—Å—Ç–æ—Ä–∏—á–Ω–∞ –¥–æ–≤—ñ–¥–∫–∞: `connect()`

–£ —Å—Ç–∞—Ä–∏—Ö —Ç—É—Ç–æ—Ä—ñ–∞–ª–∞—Ö (–¥–æ 2019 —Ä–æ–∫—É) –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `connect` —Ç–∞ `mapStateToProps`. –¶–µ —Å—Ç–∞—Ä–∏–π —Å–ø–æ—Å—ñ–± (Higher-Order Component), —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤—Å—è –≤ –∫–ª–∞—Å–æ–≤–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

```javascript
// Legacy Style üë¥
class Counter extends React.Component { ... }

const mapStateToProps = state => ({ count: state.value });
const mapDispatchToProps = { increment };

export default connect(mapStateToProps, mapDispatchToProps)(Counter);
```

–°—å–æ–≥–æ–¥–Ω—ñ **–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Hooks —î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º**. `connect` –≤—Å–µ —â–µ –ø—Ä–∞—Ü—é—î, –∞–ª–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –≤ –Ω–æ–≤–æ–º—É –∫–æ–¥—ñ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è.

---

–ú–∏ –Ω–∞–≤—á–∏–ª–∏—Å—è –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏. –ê–ª–µ —â–æ —Ä–æ–±–∏—Ç–∏, –∫–æ–ª–∏ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ –∑ —Å–µ—Ä–≤–µ—Ä–∞? Redux "–∑ –∫–æ—Ä–æ–±–∫–∏" –Ω–µ –≤–º—ñ—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—é. –ù–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω Middleware.

üëâ [–î–∞–ª—ñ: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å —Ç–∞ Redux Thunk](./06.middleware-thunk.md)
