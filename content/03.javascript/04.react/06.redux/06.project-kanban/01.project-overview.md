# –ü—Ä–æ—î–∫—Ç: Kanban Board (Trello Clone)

–©–æ–± –∑–∞–∫—Ä—ñ–ø–∏—Ç–∏ –∑–Ω–∞–Ω–Ω—è Redux Toolkit —Ç–∞ RTK Query, –º–∏ —Å—Ç–≤–æ—Ä–∏–º–æ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ ‚Äî –∫–ª–æ–Ω Trello.
–¶–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ "Todo list". –¶–µ —Å–∫–ª–∞–¥–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –∑—ñ —Å–∫–ª–∞–¥–Ω–æ—é –ª–æ–≥—ñ–∫–æ—é –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫, –æ–ø—Ç–∏–º—ñ—Å—Ç–∏—á–Ω–∏–º–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏ —Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é –∑ —Å–µ—Ä–≤–µ—Ä–æ–º.

## –¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Å—Ç–µ–∫

–ú–∏ –±—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—É—á–∞—Å–Ω–∏–π –Ω–∞–±—ñ—Ä —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤:

- **React 18**: UI –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞.
- **Redux Toolkit**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–º —Å—Ç–∞–Ω–æ–º (drag & drop, UI state).
- **RTK Query**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–Ω–∏–º —Å—Ç–∞–Ω–æ–º (caching, synchronization).
- **React Beautiful DnD**: –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è Drag-and-Drop.
- **Tailwind CSS**: –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è.
- **Mock Service Worker (MSW)** –∞–±–æ **MirageJS**: –î–ª—è –µ–º—É–ª—è—Ü—ñ—ó –±–µ–∫–µ–Ω–¥—É.

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏

1.  **–ö–æ–ª–æ–Ω–∫–∏**: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è, –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è, –∑–º—ñ–Ω–∞ –ø–æ—Ä—è–¥–∫—É.
2.  **–ó–∞–≤–¥–∞–Ω–Ω—è (Tasks)**: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è.
3.  **Drag & Drop**:
    - –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–ª–æ–Ω–∫–∏.
    - –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å –º—ñ–∂ –∫–æ–ª–æ–Ω–∫–∞–º–∏.
    - –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Å–∞–º–∏—Ö –∫–æ–ª–æ–Ω–æ–∫.
4.  **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å**: –í—Å—ñ –∑–º—ñ–Ω–∏ –º–∞—é—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ.
5.  **Optimistic Updates**: –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–∞—î –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏—Å—è –º–∏—Ç—Ç—î–≤–æ, –Ω–µ —á–µ–∫–∞—é—á–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Å–µ—Ä–≤–µ—Ä–∞.

## –ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è –°—Ç—Ä—É–∫—Ç—É—Ä–∏ –î–∞–Ω–∏—Ö

–¶–µ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏–π –µ—Ç–∞–ø. –Ø–∫—â–æ –º–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–ø—Ä–æ—î–∫—Ç—É—î–º–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö, –Ω–∞–º –±—É–¥–µ –¥—É–∂–µ –≤–∞–∂–∫–æ –ø–∏—Å–∞—Ç–∏ —Ä–µ–¥—é—Å–µ—Ä–∏ –¥–ª—è Drag & Drop.

### API Response Shape

–ù–∞—à –±–µ–∫–µ–Ω–¥ –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ –≤ —Ç–∞–∫–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ:

```json
{
    "columns": [
        {
            "id": "column-1",
            "title": "To Do",
            "taskIds": ["task-1", "task-2"] // –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≤–¥–∞–Ω—å –≤–∞–∂–ª–∏–≤–∏–π!
        },
        {
            "id": "column-2",
            "title": "In Progress",
            "taskIds": []
        }
    ],
    "tasks": [
        { "id": "task-1", "content": "–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Redux" },
        { "id": "task-2", "content": "–°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–ª–∞–π—Å–∏" }
    ],
    "columnOrder": ["column-1", "column-2"] // –ü–æ—Ä—è–¥–æ–∫ –∫–æ–ª–æ–Ω–æ–∫
}
```

### Redux State Shape (Normalized)

–ú–∏ –±—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **–Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.
–ó–∞–≤–¥–∞–Ω–Ω—è –Ω–µ –±—É–¥—É—Ç—å –∂–∏—Ç–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–ª–æ–Ω–æ–∫. –í–æ–Ω–∏ –±—É–¥—É—Ç—å –∂–∏—Ç–∏ –æ–∫—Ä–µ–º–æ.

```typescript
interface RootState {
    // –ö–µ—à RTK Query –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –¥–∞–Ω–∏—Ö
    api: ApiState

    // –õ–æ–∫–∞–ª—å–Ω–∏–π UI —Å—Ç–∞–Ω (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫–∞ –º–æ–¥–∞–ª–∫–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∞)
    ui: UiState

    // –î–∞–Ω—ñ –¥–æ—à–∫–∏ (–º–∏ –¥—É–±–ª—é—î–º–æ —ó—Ö —Ç—É—Ç –¥–ª—è –º–∏—Ç—Ç—î–≤–æ–≥–æ Drag&Drop)
    board: {
        tasks: {
            ids: string[]
            entities: Record<string, Task>
        }
        columns: {
            ids: string[]
            entities: Record<string, Column>
        }
        columnOrder: string[]
    }
}
```

::alert{type="info"}
**–ß–æ–º—É –º–∏ –¥—É–±–ª—é—î–º–æ –¥–∞–Ω—ñ –≤ `board` slice, —è–∫—â–æ –≤–æ–Ω–∏ –≤–∂–µ —î –≤ –∫–µ—à—ñ RTK Query?**
Drag & Drop –≤–∏–º–∞–≥–∞—î _–º–∏—Ç—Ç—î–≤–∏—Ö_ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É. –ö–µ—à RTK Query –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∑ —Å–µ—Ä–≤–µ—Ä–æ–º, —ñ –º–∞–Ω—ñ–ø—É–ª—é–≤–∞—Ç–∏ –Ω–∏–º –≤—Ä—É—á–Ω—É –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö dnd-–æ–ø–µ—Ä–∞—Ü—ñ–π –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–∑—Ä—É—á–Ω–æ.
–ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ –≥—ñ–±—Ä–∏–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥:

1.  RTK Query –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –¥–∞–Ω—ñ.
2.  –ú–∏ –∫–æ–ø—ñ—é—î–º–æ —ó—Ö –≤ –ª–æ–∫–∞–ª—å–Ω–∏–π slice `board`.
3.  –í—Å—ñ dnd-–æ–ø–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥–±—É–≤–∞—é—Ç—å—Å—è –≤ `board` (–º–∏—Ç—Ç—î–≤–æ).
4.  –£ —Ñ–æ–Ω—ñ –º–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –º—É—Ç–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ RTK Query –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∑ —Å–µ—Ä–≤–µ—Ä–æ–º.
    ::

## –°—Ö–µ–º–∞ –≤–∑–∞—î–º–æ–¥—ñ—ó

::mermaid

```mermaid
sequenceDiagram
participant User
participant BoardSlice
participant RTK_Query
participant Server

    User->>BoardSlice: Drag Task (Drop)
    BoardSlice->>BoardSlice: Update Local State (Instant)
    BoardSlice->>RTK_Query: Trigger Mutation (Async)
    RTK_Query->>Server: PATCH /board

    alt Success
        Server-->>RTK_Query: 200 OK
        RTK_Query-->>BoardSlice: (Nothing changes, synced)
    else Error
        Server-->>RTK_Query: 500 Error
        RTK_Query->>BoardSlice: Rollback (Undo changes)
    end

```

::

–¶–µ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è. –í–æ–Ω–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î —ñ–¥–µ–∞–ª—å–Ω—É —á—É—Ç–ª–∏–≤—ñ—Å—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (60 FPS) —ñ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö.

üëâ [–î–∞–ª—ñ: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ç–∞ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è](./02.setup-and-types.md)
