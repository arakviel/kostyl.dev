# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –¢–∏–ø—ñ–∑–∞—Ü—ñ—è

–ü–æ—á–Ω–µ–º–æ –∑ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç—É. –ù–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ TypeScript —Ç–∏–ø–∏, —â–æ–± –Ω–∞—à IntelliSense –ø—Ä–∞—Ü—é–≤–∞–≤ –Ω–∞ –ø–æ–≤–Ω—É.

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
npm install @reduxjs/toolkit react-redux react-beautiful-dnd axios
npm install --save-dev @types/react-beautiful-dnd
```

::note
–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ React 18 Strict Mode, `react-beautiful-dnd` –º–æ–∂–µ –º–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –∞–Ω—ñ–º–∞—Ü—ñ—î—é. –ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ —Ñ–æ—Ä–∫ `@hello-pangea/dnd` –∞–±–æ –≤–∏–º–∫–Ω–µ–º–æ Strict Mode –¥–ª—è drag-and-drop —Å—Ç–æ—Ä—ñ–Ω–æ–∫. –î–ª—è —Ü—å–æ–≥–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª—É –ø—Ä–∏–ø—É—Å—Ç–∏–º–æ, —â–æ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ `@hello-pangea/dnd` —è–∫ —Å—É—á–∞—Å–Ω—É –∑–∞–º—ñ–Ω—É.
::

```bash
npm uninstall react-beautiful-dnd
npm install @hello-pangea/dnd
```

## –¢–∏–ø–∏ –¥–∞–Ω–∏—Ö (Types)

–°—Ç–≤–æ—Ä–∏–º–æ —Ñ–∞–π–ª `types/kanban.ts`. –¶–µ –Ω–∞—à –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–∞–Ω–∏—Ö.

```typescript [src/types/kanban.ts]
export interface Task {
  id: string;
  content: string;
  createdAt: string;
}

export interface Column {
  id: string;
  title: string;
  taskIds: string[]; // –ú–∞—Å–∏–≤ ID –∑–∞–≤–¥–∞–Ω—å –≤ —Ü—ñ–π –∫–æ–ª–æ–Ω—Ü—ñ (–¥–ª—è –ø–æ—Ä—è–¥–∫—É)
}

export interface BoardData {
  tasks: Record<string, Task>;
  columns: Record<string, Column>;
  columnOrder: string[]; // –ú–∞—Å–∏–≤ ID –∫–æ–ª–æ–Ω–æ–∫ (–¥–ª—è –ø–æ—Ä—è–¥–∫—É)
}

// –¢–∏–ø –¥–ª—è —Å—Ç–∞—Ç—É—Å—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
export type LoadingState = 'idle' | 'loading' | 'succeeded' | 'failed';
```

## –¢–∏–ø—ñ–∑–∞—Ü—ñ—è Store (Hooks)

–£ TypeScript –º–∏ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ `useDispatch` —Ç–∞ `useSelector`, —Ç–æ–º—É —â–æ –≤–æ–Ω–∏ –Ω–µ –∑–Ω–∞—é—Ç—å –ø—Ä–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∞—à–æ–≥–æ —Å—Ç–æ—Ä—É. –ú–∏ —Å—Ç–≤–æ—Ä–∏–º–æ —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω—ñ –æ–±–≥–æ—Ä—Ç–∫–∏.

–°—Ç–≤–æ—Ä–∏–º–æ —Ñ–∞–π–ª `src/app/hooks.ts`.

```typescript [src/app/hooks.ts]
import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';
import type { RootState, AppDispatch } from './store';

// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü—ñ —Ö—É–∫–∏ –∑–∞–º—ñ—Å—Ç—å –∑–≤–∏—á–∞–π–Ω–∏—Ö useDispatch —ñ useSelector
export const useAppDispatch = () => useDispatch<AppDispatch>();
export const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Store

–°—Ç–≤–æ—Ä–∏–º–æ –ø–æ—Ä–æ–∂–Ω—ñ–π —Å—Ç–æ—Ä, —è–∫–∏–π –º–∏ –±—É–¥–µ–º–æ –Ω–∞–ø–æ–≤–Ω—é–≤–∞—Ç–∏.

```typescript [src/app/store.ts]
import { configureStore } from '@reduxjs/toolkit';

export const store = configureStore({
  reducer: {
    // –¢—É—Ç –±—É–¥—É—Ç—å –Ω–∞—à—ñ —Ä–µ–¥—é—Å–µ—Ä–∏
  },
});

// –í–∏–≤–æ–¥–∏–º–æ —Ç–∏–ø–∏ –∑ —Å–∞–º–æ–≥–æ —Å—Ç–æ—Ä—É
export type RootState = ReturnType<typeof store.getState>;
export type AppDispatch = typeof store.dispatch;
```

## –ü—Ä–æ–≤–∞–π–¥–µ—Ä

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–≥–æ—Ä–Ω—É—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ —É `Provider` –≤ `index.tsx` (–∞–±–æ `main.tsx`).

```tsx [src/main.tsx]
import React from 'react';
import ReactDOM from 'react-dom/client';
import { Provider } from 'react-redux';
import { store } from './app/store';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')!).render(
  // <React.StrictMode> // –ú–æ–∂–ª–∏–≤–æ –¥–æ–≤–µ–¥–µ—Ç—å—Å—è —Ç–∏–º—á–∞—Å–æ–≤–æ –≤–∏–º–∫–Ω—É—Ç–∏ –¥–ª—è DnD
    <Provider store={store}>
      <App />
    </Provider>
  // </React.StrictMode>
);
```

–¢–µ–ø–µ—Ä, –∫–æ–ª–∏ —É –Ω–∞—Å —î —Ç–∏–ø–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π —Å—Ç–æ—Ä, –º–∏ –º–æ–∂–µ–º–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –¥–æ –Ω–∞–π—Ü—ñ–∫–∞–≤—ñ—à–æ–≥–æ ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ª–∞–π—Å—ñ–≤. –ü–æ—á–Ω–µ–º–æ –∑ "—Å–µ—Ä—Ü—è" –Ω–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É ‚Äî `boardSlice`.

üëâ [–î–∞–ª—ñ: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Board Slice —Ç–∞ Normalization](./03.board-slice.md)
