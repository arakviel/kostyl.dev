# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –°–µ–ª–µ–∫—Ç–æ—Ä—ñ–≤

–°–µ–ª–µ–∫—Ç–æ—Ä–∏ ‚Äî —Ü–µ —Ç–µ–∂ —á–∏—Å—Ç—ñ —Ñ—É–Ω–∫—Ü—ñ—ó. –á—Ö —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ç–∞–∫ —Å–∞–º–æ –ø—Ä–æ—Å—Ç–æ, —è–∫ —ñ —Ä–µ–¥—é—Å–µ—Ä–∏.

## –°—Ü–µ–Ω–∞—Ä—ñ–π

–£ –Ω–∞—Å —î —Å–ø–∏—Å–æ–∫ todos —ñ —Ñ—ñ–ª—å—Ç—Ä.

```javascript [features/todos/todosSlice.js]
export const selectFilteredTodos = createSelector(
  [state => state.todos.items, state => state.todos.filter],
  (items, filter) => {
    if (filter === 'all') return items;
    if (filter === 'completed') return items.filter(t => t.completed);
    return items.filter(t => !t.completed);
  }
);
```

## –¢–µ—Å—Ç

```javascript [features/todos/todosSlice.test.js]
import { selectFilteredTodos } from './todosSlice';

describe('todos selectors', () => {
  const mockState = {
    todos: {
      items: [
        { id: 1, text: 'A', completed: false },
        { id: 2, text: 'B', completed: true },
        { id: 3, text: 'C', completed: false },
      ],
      filter: 'all',
    },
  };

  it('should return all todos when filter is all', () => {
    const result = selectFilteredTodos(mockState);
    expect(result).toHaveLength(3);
  });

  it('should return completed todos', () => {
    // –ú–æ–¥–∏—Ñ—ñ–∫—É—î–º–æ —Å—Ç–∞–Ω –¥–ª—è —Ç–µ—Å—Ç—É
    const state = {
      ...mockState,
      todos: { ...mockState.todos, filter: 'completed' }
    };
    
    const result = selectFilteredTodos(state);
    expect(result).toHaveLength(1);
    expect(result[0].id).toBe(2);
  });
  
  it('should return active todos', () => {
    const state = {
      ...mockState,
      todos: { ...mockState.todos, filter: 'active' }
    };
    
    const result = selectFilteredTodos(state);
    expect(result).toHaveLength(2);
  });
});
```

–¶–µ –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ –≤—ñ–¥ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.

üëâ [–î–∞–ª—ñ: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤](./04.testing-components.md)
