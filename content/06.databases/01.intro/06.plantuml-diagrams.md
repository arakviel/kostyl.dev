---
title: PlantUML –¥–ª—è –±–∞–∑ –¥–∞–Ω–∏—Ö
description: –ü–æ–≤–Ω–∏–π –≥–∞–π–¥ –ø–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—é –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏—Ö –¥—ñ–∞–≥—Ä–∞–º –±–∞–∑ –¥–∞–Ω–∏—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é PlantUML - –≤—ñ–¥ ER-–¥—ñ–∞–≥—Ä–∞–º –¥–æ —Å—Ö–µ–º –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
---

# PlantUML –¥–ª—è –±–∞–∑ –¥–∞–Ω–∏—Ö

## –í—Å—Ç—É–ø: –ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω PlantUML?

–Ø–∫—â–æ –≤–∏ –ø—Ä–∞—Ü—é–≤–∞–ª–∏ –∑ ER-–¥—ñ–∞–≥—Ä–∞–º–∞–º–∏ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —É—Ä–æ–∫–∞—Ö, –≤–∏ –ø–æ–º—ñ—Ç–∏–ª–∏, —â–æ **–≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è** —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∞. –ê–ª–µ —â–æ, —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ:

- üìä **–°–∫–ª–∞–¥–Ω—ñ ER-–¥—ñ–∞–≥—Ä–∞–º–∏** –∑ –¥–µ—Å—è—Ç–∫–∞–º–∏ —Ç–∞–±–ª–∏—Ü—å?
- üîÑ **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è** –¥—ñ–∞–≥—Ä–∞–º –∑ –∫–æ–¥—É?
- üìù **–í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è** –¥—ñ–∞–≥—Ä–∞–º —É Git —Ä–∞–∑–æ–º –∑ –∫–æ–¥–æ–º?
- üé® **–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞** –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó?

**PlantUML** - —Ü–µ —Ä—ñ—à–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ü–∏—Ö –ø—Ä–æ–±–ª–µ–º!

::note
**PlantUML** - —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è UML —Ç–∞ —ñ–Ω—à–∏—Ö –¥—ñ–∞–≥—Ä–∞–º –∑ **—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–ø–∏—Å—É**. –ó–∞–º—ñ—Å—Ç—å –º–∞–ª—é–≤–∞–Ω–Ω—è –º–∏—à–∫–æ—é –≤–∏ **–ø–∏—à–µ—Ç–µ –∫–æ–¥**, —è–∫–∏–π –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ –¥—ñ–∞–≥—Ä–∞–º—É.
::

### –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—ñ–¥—Ö–æ–¥—ñ–≤

::tabs
::tabs-item{label="‚ùå –ì—Ä–∞—Ñ—ñ—á–Ω—ñ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∏"}

**draw.io, Lucidchart, Visio**

```
‚úÖ –Ü–Ω—Ç—É—ó—Ç–∏–≤–Ω–æ
‚úÖ WYSIWYG
‚ùå –í–∞–∂–∫–æ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤–µ—Ä—Å—ñ—ó
‚ùå –°–∫–ª–∞–¥–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –∑ –∫–æ–¥–æ–º
‚ùå –ù–µ–º–æ–∂–ª–∏–≤–æ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏
‚ùå –í–∞–∂–∫–æ —Ä–æ–±–∏—Ç–∏ code review
```

::

::tabs-item{label="‚úÖ PlantUML (–∫–æ–¥ ‚Üí –¥—ñ–∞–≥—Ä–∞–º–∞)"}

**–¢–µ–∫—Å—Ç–æ–≤–∏–π –æ–ø–∏—Å ‚Üí SVG/PNG**

```
‚úÖ –í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è –≤ Git
‚úÖ Code review –¥—ñ–∞–≥—Ä–∞–º
‚úÖ –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑ –∫–æ–¥—É
‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π —Å—Ç–∏–ª—å
‚úÖ –®–≤–∏–¥–∫–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–≤—á–∏—Ç–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
```

::
::

---

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–∞ —Ü—å–æ–º—É —Å–∞–π—Ç—ñ

–ù–∞ —Ü—å–æ–º—É —Å–∞–π—Ç—ñ PlantUML –≤–∂–µ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π! –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `::plant-uml`:

```markdown
::plant-uml

\`\`\`plantuml
@startuml
entity Student {
\*id : int
--
name : string
}
@enduml
\`\`\`

::
```

### –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

::tabs
::tabs-item{label="Online —Ä–µ–¥–∞–∫—Ç–æ—Ä"}

**–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**

[https://www.plantuml.com/plantuml/](https://www.plantuml.com/plantuml/)

::

::tabs-item{label="VS Code"}

**–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è:**

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å: [PlantUML Extension](https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml)
2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Java (–ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è PlantUML)
3. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.puml` —Ç–∞ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å `Alt+D` –¥–ª—è preview

::

::tabs-item{label="Docker"}

**–õ–æ–∫–∞–ª—å–Ω–∏–π PlantUML —Å–µ—Ä–≤–µ—Ä:**

```bash
docker run -d -p 8080:8080 plantuml/plantuml-server:jetty
```

–¢–µ–ø–µ—Ä –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `http://localhost:8080`

::
::

---

## –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ PlantUML —Ñ–∞–π–ª—É

**–ö–æ–∂–Ω–∞ –¥—ñ–∞–≥—Ä–∞–º–∞ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `@startuml` —Ç–∞ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è `@enduml`:**

```plantuml
@startuml
' –¶–µ –∫–æ–º–µ–Ω—Ç–∞—Ä

' –¢—É—Ç –≤–∞—à–∞ –¥—ñ–∞–≥—Ä–∞–º–∞

@enduml
```

::tip
**–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ:**

- –û–¥–∏–Ω–∞—Ä–Ω–∞ –ª—ñ–Ω—ñ—è: `' –∫–æ–º–µ–Ω—Ç–∞—Ä` –∞–±–æ `// –∫–æ–º–µ–Ω—Ç–∞—Ä`
- –ë–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏–π: `/' –∫–æ–º–µ–Ω—Ç–∞—Ä '/`

::

---

## ER-–¥—ñ–∞–≥—Ä–∞–º–∏ (Entity-Relationship)

### –û—Å–Ω–æ–≤–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

::plant-uml

```plantuml
@startuml
entity "Student" as student {
  *student_id : int <<PK>>
  --
  name : varchar(100)
  email : varchar(100)
  age : int
}

entity "Course" as course {
  *course_id : int <<PK>>
  --
  title : varchar(100)
  credits : int
}

entity "Enrollment" as enrollment {
  *student_id : int <<FK>>
  *course_id : int <<FK>>
  --
  grade : int
  enrollment_date : date
}

student ||--o{ enrollment
course ||--o{ enrollment
@enduml
```

::

### –ü–æ—è—Å–Ω–µ–Ω–Ω—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É

```plantuml
entity "–ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ" as –ø—Å–µ–≤–¥–æ–Ω—ñ–º {
  *–∫–ª—é—á–æ–≤–µ_–ø–æ–ª–µ : —Ç–∏–ø <<PK>>    // –ü–µ—Ä–≤–∏–Ω–Ω–∏–π –∫–ª—é—á
  *–∑–æ–≤–Ω—ñ—à–Ω—ñ–π_–∫–ª—é—á : —Ç–∏–ø <<FK>>  // –ó–æ–≤–Ω—ñ—à–Ω—ñ–π –∫–ª—é—á
  --                             // –†–æ–∑–¥—ñ–ª—é–≤–∞—á
  –∑–≤–∏—á–∞–π–Ω–µ_–ø–æ–ª–µ : —Ç–∏–ø
}
```

::note
**–ü–æ–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—ñ–≤:**

- `*` - –æ–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ (NOT NULL)
- `<<PK>>` - Primary Key
- `<<FK>>` - Foreign Key
- `--` - —Ä–æ–∑–¥—ñ–ª—é–≤–∞—á –º—ñ–∂ –∫–ª—é—á–∞–º–∏ —Ç–∞ –∑–≤–∏—á–∞–π–Ω–∏–º–∏ –ø–æ–ª—è–º–∏

::

### –¢–∏–ø–∏ –∑–≤'—è–∑–∫—ñ–≤

| –°–∏–Ω—Ç–∞–∫—Å–∏—Å PlantUML | –ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ñ—Å—Ç—å    | –ó–Ω–∞—á–µ–Ω–Ω—è               | –ü—Ä–∏–∫–ª–∞–¥             |
| :----------------- | :---------------- | :--------------------- | :------------------ |
| `\|\|--\|\|`       | 1:1               | –û–¥–∏–Ω –¥–æ –æ–¥–Ω–æ–≥–æ         | –ö—Ä–∞—ó–Ω–∞ ‚Üî –°—Ç–æ–ª–∏—Ü—è    |
| `\|\|--o{`         | 1:N               | –û–¥–∏–Ω –¥–æ –±–∞–≥–∞—Ç—å–æ—Ö       | –ê–≤—Ç–æ—Ä ‚Üí –ö–Ω–∏–≥–∏       |
| `}o--o{`           | M:N               | –ë–∞–≥–∞—Ç–æ –¥–æ –±–∞–≥–∞—Ç—å–æ—Ö     | –°—Ç—É–¥–µ–Ω—Ç–∏ ‚Üî –ö—É—Ä—Å–∏    |
| `\|\|..o{`         | 1:N (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) | –ù–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π –∑–≤'—è–∑–æ–∫ | –ö–ª—ñ—î–Ω—Ç ‚Üí –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è |

**–õ–µ–≥–µ–Ω–¥–∞ —Å–∏–º–≤–æ–ª—ñ–≤:**

- `||` - **—Ç–æ—á–Ω–æ –æ–¥–∏–Ω** (–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π)
- `o{` - **–Ω—É–ª—å –∞–±–æ –±–∞–≥–∞—Ç–æ** (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- `|{` - **–æ–¥–∏–Ω –∞–±–æ –±–∞–≥–∞—Ç–æ** (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ —Ö–æ—á –æ–¥–∏–Ω)

### –ü—Ä–∏–∫–ª–∞–¥: E-commerce —Å–∏—Å—Ç–µ–º–∞

::plant-uml

```plantuml
@startuml
!theme cerulean-outline

entity "User" as user {
  *user_id : int <<PK>>
  --
  email : varchar(100)
  password_hash : varbinary(128)
  full_name : nvarchar(100)
  created_at : datetime2
}

entity "Product" as product {
  *product_id : int <<PK>>
  --
  name : nvarchar(200)
  description : nvarchar(max)
  price : decimal(10,2)
  stock_quantity : int
  category_id : int <<FK>>
}

entity "Category" as category {
  *category_id : int <<PK>>
  --
  name : nvarchar(100)
  parent_category_id : int <<FK>>
}

entity "Order" as order {
  *order_id : int <<PK>>
  user_id : int <<FK>>
  --
  order_date : datetime2
  total_amount : decimal(10,2)
  status : varchar(20)
}

entity "OrderItem" as order_item {
  *order_item_id : int <<PK>>
  order_id : int <<FK>>
  product_id : int <<FK>>
  --
  quantity : int
  unit_price : decimal(10,2)
}

entity "Review" as review {
  *review_id : int <<PK>>
  product_id : int <<FK>>
  user_id : int <<FK>>
  --
  rating : tinyint
  comment : nvarchar(500)
  created_at : datetime2
}

' –ó–≤'—è–∑–∫–∏
user ||--o{ order : "—Ä–æ–±–∏—Ç—å"
user ||--o{ review : "–ø–∏—à–µ"
order ||--|{ order_item : "–º—ñ—Å—Ç–∏—Ç—å"
product ||--o{ order_item : "–≤—Ö–æ–¥–∏—Ç—å –≤"
product ||--o{ review : "–º–∞—î"
category ||--o{ product : "–º—ñ—Å—Ç–∏—Ç—å"
category ||--o{ category : "–ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è"
@enduml
```

::

::tip{title="–¢–µ–º–∞ –¥—ñ–∞–≥—Ä–∞–º–∏"}
–†—è–¥–æ–∫ `!theme cerulean-outline` –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –≥–æ—Ç–æ–≤—É —Ç–µ–º—É. –Ü–Ω—à—ñ —Ç–µ–º–∏:

- `sketchy` - –µ—Å–∫—ñ–∑–Ω–∏–π —Å—Ç–∏–ª—å
- `vibrant` - —è—Å–∫—Ä–∞–≤—ñ –∫–æ–ª—å–æ—Ä–∏
- `toy` - —ñ–≥—Ä–∞—à–∫–æ–≤–∏–π —Å—Ç–∏–ª—å
- `mars` - —Ç–µ–º–Ω–∞ —Ç–µ–º–∞

::

---

## Class Diagram (–î—ñ–∞–≥—Ä–∞–º–∏ –∫–ª–∞—Å—ñ–≤ –¥–ª—è ORM)

–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ ORM (Entity Framework, Hibernate), –¥—ñ–∞–≥—Ä–∞–º–∏ –∫–ª–∞—Å—ñ–≤ —ñ–¥–µ–∞–ª—å–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å –≤–∞—à—É –º–æ–¥–µ–ª—å:

::plant-uml

```plantuml
@startuml
!theme cerulean

class Student {
  +Id : int
  +FirstName : string
  +LastName : string
  +Email : string
  +BirthDate : DateTime
  --
  +GetAge() : int
  +Enroll(course: Course) : void
}

class Course {
  +Id : int
  +Title : string
  +Credits : int
  +Description : string
  --
  +GetEnrolledStudents() : List<Student>
}

class Enrollment {
  +StudentId : int
  +CourseId : int
  +EnrollmentDate : DateTime
  +Grade? : decimal
  --
  +IsCompleted() : bool
}

class Professor {
  +Id : int
  +Name : string
  +Department : string
  --
  +GetCourses() : List<Course>
}

Student "1" -- "*" Enrollment : enrolls
Course "1" -- "*" Enrollment : has
Professor "1" -- "*" Course : teaches
@enduml
```

::

### –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –¥–æ—Å—Ç—É–ø—É

| –°–∏–º–≤–æ–ª | –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä      | C#          | Java            |
| :----- | :--------------- | :---------- | :-------------- |
| `+`    | Public           | `public`    | `public`        |
| `-`    | Private          | `private`   | `private`       |
| `#`    | Protected        | `protected` | `protected`     |
| `~`    | Package/Internal | `internal`  | package-private |

---

## Component Diagram (–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏)

**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É:**

::plant-uml

```plantuml
@startuml
!theme sketchy

package "Presentation Layer" {
  [Web API Controllers]
  [Blazor Components]
}

package "Application Layer" {
  [Use Cases / Services]
  [DTOs]
  [Validators]
}

package "Domain Layer" {
  [Entities]
  [Value Objects]
  [Domain Services]
  [Repositories Interfaces]
}

package "Infrastructure Layer" {
  [EF Core DbContext]
  [Repository Implementations]
  [External APIs]
}

database "SQL Server" {
  [Tables]
  [Stored Procedures]
  [Views]
}

[Web API Controllers] --> [Use Cases / Services]
[Blazor Components] --> [Use Cases / Services]
[Use Cases / Services] --> [Entities]
[Use Cases / Services] --> [Repositories Interfaces]
[Repositories Interfaces] <|.. [Repository Implementations]
[Repository Implementations] --> [EF Core DbContext]
[EF Core DbContext] --> [Tables]
@enduml
```

::

---

## Sequence Diagram (–î—ñ–∞–≥—Ä–∞–º–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ)

**–Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—ñ–≤ —Ç–∞ API flows:**

::plant-uml

```plantuml
@startuml
!theme vibrant

actor User
participant "Web App" as App
participant "API Gateway" as API
participant "Auth Service" as Auth
participant "Order Service" as Order
database "Database" as DB

User -> App: –ù–∞—Ç–∏—Å–∫–∞—î "–ö—É–ø–∏—Ç–∏"
App -> API: POST /api/orders
API -> Auth: –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–æ–∫–µ–Ω
Auth --> API: –¢–æ–∫–µ–Ω –≤–∞–ª—ñ–¥–Ω–∏–π

API -> Order: CreateOrder(userId, items)
Order -> DB: BEGIN TRANSACTION
Order -> DB: INSERT INTO Orders
Order -> DB: INSERT INTO OrderItems
Order -> DB: UPDATE Products SET stock -= qty
Order -> DB: COMMIT

DB --> Order: Success
Order --> API: OrderId: 12345
API --> App: {"orderId": 12345, "status": "created"}
App --> User: "–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ!"
@enduml
```

::

### –ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π –∫–µ–π—Å: Database Transaction

::plant-uml

```plantuml
@startuml
participant "Application" as App
database "SQL Server" as DB

App -> DB: BEGIN TRANSACTION
activate DB

App -> DB: SELECT * FROM Accounts\nWHERE account_id = 1\nFOR UPDATE
DB --> App: Balance: $1000

App -> App: Validate balance >= $100

App -> DB: UPDATE Accounts\nSET balance = balance - 100\nWHERE account_id = 1
DB --> App: 1 row affected

App -> DB: UPDATE Accounts\nSET balance = balance + 100\nWHERE account_id = 2
DB --> App: 1 row affected

App -> DB: INSERT INTO Transactions\nVALUES (...)
DB --> App: Transaction logged

App -> DB: COMMIT
deactivate DB
DB --> App: Transaction successful
@enduml
```

::

---

## Deployment Diagram (–î—ñ–∞–≥—Ä–∞–º–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è)

**–ü–æ–∫–∞–∑—É—î —Ñ—ñ–∑–∏—á–Ω—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:**

::plant-uml

```plantuml
@startuml
!theme mars

node "Load Balancer" as lb {
  [Nginx]
}

node "App Server 1" as app1 {
  [.NET Web API]
  [Redis Cache]
}

node "App Server 2" as app2 {
  [.NET Web API]
  [Redis Cache]
}

node "Database Cluster" as db_cluster {
  database "Primary DB" as primary
  database "Replica 1" as replica1
  database "Replica 2" as replica2
}

cloud "Azure Storage" as storage {
  [Blob Storage]
}

lb --> app1 : HTTPS
lb --> app2 : HTTPS

app1 --> primary : Write
app1 --> replica1 : Read
app2 --> primary : Write
app2 --> replica2 : Read

primary --> replica1 : Replication
primary --> replica2 : Replication

app1 --> storage : Upload files
app2 --> storage : Upload files
@enduml
```

::

---

## –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –∫–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è

### –ö–æ–ª—å–æ—Ä–∏ —Ç–∞ —Å—Ç–∏–ª—ñ

::plant-uml

```plantuml
@startuml
skinparam backgroundColor #F0F0F0
skinparam shadowing false

skinparam entity {
  BackgroundColor LightBlue
  BorderColor DarkBlue
  FontSize 14
}

skinparam arrow {
  Color DarkGreen
  Thickness 2
}

entity "User" as user {
  *user_id : int
  --
  name : string
}

entity "Order" as order {
  *order_id : int
  --
  total : decimal
}

user ||--o{ order
@enduml
```

::

### –ü—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤

::plant-uml

```plantuml
@startuml
!theme cerulean

entity "User" as user #LightGreen {
  *user_id : int <<PK>>
  --
  email : varchar(100)
  password_hash : varbinary(128)
}

entity "PaymentMethod" as payment #LightCoral {
  *payment_id : int <<PK>>
  user_id : int <<FK>>
  --
  card_number : varchar(20)
  cvv : char(3)
}

note right of payment #FFAAAA
  ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û:
  –ù–µ–±–µ–∑–ø–µ—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ CVV!
  –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ tokenization
end note

user ||--o{ payment
@enduml
```

::

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏

### –ü—Ä–∏–∫–ª–∞–¥ 1: –£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç (–ø–æ–≤–Ω–∞ ER-–º–æ–¥–µ–ª—å)

::plant-uml

```plantuml
@startuml
!theme cerulean-outline

entity "Student" as student {
  *student_id : int <<PK>>
  --
  first_name : nvarchar(50)
  last_name : nvarchar(50)
  email : varchar(100)
  birth_date : date
  enrollment_year : int
}

entity "Professor" as professor {
  *professor_id : int <<PK>>
  --
  name : nvarchar(100)
  department : varchar(50)
  hire_date : date
}

entity "Course" as course {
  *course_id : int <<PK>>
  professor_id : int <<FK>>
  --
  title : nvarchar(100)
  credits : tinyint
  semester : varchar(20)
}

entity "Enrollment" as enrollment {
  *student_id : int <<FK>>
  *course_id : int <<FK>>
  --
  enrollment_date : date
  grade : decimal(3,2)
  status : varchar(20)
}

entity "Classroom" as classroom {
  *classroom_id : int <<PK>>
  --
  building : varchar(10)
  room_number : varchar(10)
  capacity : int
}

entity "Schedule" as schedule {
  *schedule_id : int <<PK>>
  course_id : int <<FK>>
  classroom_id : int <<FK>>
  --
  day_of_week : varchar(10)
  start_time : time
  end_time : time
}

student ||--o{ enrollment
course ||--o{ enrollment
professor ||--o{ course
course ||--o{ schedule
classroom ||--o{ schedule
@enduml
```

::

### –ü—Ä–∏–∫–ª–∞–¥ 2: –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞

::plant-uml

```plantuml
@startuml
entity "Book" as book {
  *isbn : varchar(13) <<PK>>
  --
  title : nvarchar(200)
  publication_year : int
  pages : int
  publisher_id : int <<FK>>
}

entity "Author" as author {
  *author_id : int <<PK>>
  --
  name : nvarchar(100)
  birth_year : int
  country : varchar(50)
}

entity "BookAuthor" as book_author {
  *book_isbn : varchar(13) <<FK>>
  *author_id : int <<FK>>
}

entity "Publisher" as publisher {
  *publisher_id : int <<PK>>
  --
  name : nvarchar(100)
  country : varchar(50)
}

entity "Member" as member {
  *member_id : int <<PK>>
  --
  name : nvarchar(100)
  email : varchar(100)
  join_date : date
}

entity "Loan" as loan {
  *loan_id : int <<PK>>
  book_isbn : varchar(13) <<FK>>
  member_id : int <<FK>>
  --
  loan_date : date
  due_date : date
  return_date : date
}

book }o--o{ author
book }o--|| publisher
book ||--o{ loan
member ||--o{ loan
book ||--o{ book_author
author ||--o{ book_author
@enduml
```

::

---

## –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è PlantUML –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –ó SQL Server

**PowerShell —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó ER-–¥—ñ–∞–≥—Ä–∞–º–∏:**

```powershell
# GetPlantUMLFromDatabase.ps1
$server = "localhost"
$database = "MyDatabase"

$query = @"
SELECT
    t.name AS TableName,
    c.name AS ColumnName,
    ty.name AS DataType,
    c.is_nullable AS IsNullable,
    CASE WHEN pk.column_id IS NOT NULL THEN 1 ELSE 0 END AS IsPK,
    CASE WHEN fk.parent_column_id IS NOT NULL THEN 1 ELSE 0 END AS IsFK
FROM sys.tables t
INNER JOIN sys.columns c ON t.object_id = c.object_id
INNER JOIN sys.types ty ON c.user_type_id = ty.user_type_id
LEFT JOIN (
    SELECT ic.object_id, ic.column_id
    FROM sys.indexes i
    INNER JOIN sys.index_columns ic ON i.object_id = ic.object_id AND i.index_id = ic.index_id
    WHERE i.is_primary_key = 1
) pk ON c.object_id = pk.object_id AND c.column_id = pk.column_id
LEFT JOIN sys.foreign_key_columns fk ON c.object_id = fk.parent_object_id AND c.column_id = fk.parent_column_id
ORDER BY t.name, c.column_id
"@

# –í–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞–ø–∏—Ç —Ç–∞ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ PlantUML
# (–∫–æ–¥ —Å–ø—Ä–æ—â–µ–Ω–æ –¥–ª—è –ø—Ä–∏–∫–ª–∞–¥—É)
```

### –ó Entity Framework Core

**C# –∫–æ–¥ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑ DbContext:**

```csharp
using Microsoft.EntityFrameworkCore;
using System.Text;

public static class PlantUmlGenerator
{
    public static string GenerateFromDbContext(DbContext context)
    {
        var sb = new StringBuilder();
        sb.AppendLine("@startuml");
        sb.AppendLine("!theme cerulean-outline");
        sb.AppendLine();

        var entityTypes = context.Model.GetEntityTypes();

        foreach (var entityType in entityTypes)
        {
            sb.AppendLine($"entity \"{entityType.ClrType.Name}\" as {entityType.ClrType.Name.ToLower()} {{");

            var properties = entityType.GetProperties();
            foreach (var prop in properties)
            {
                var isPK = prop.IsPrimaryKey() ? " <<PK>>" : "";
                var isFK = prop.IsForeignKey() ? " <<FK>>" : "";
                var asterisk = !prop.IsNullable ? "*" : " ";

                sb.AppendLine($"  {asterisk}{prop.Name} : {prop.ClrType.Name}{isPK}{isFK}");
            }

            sb.AppendLine("}");
            sb.AppendLine();
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–≤'—è–∑–∫—ñ–≤
        foreach (var entityType in entityTypes)
        {
            var navigations = entityType.GetNavigations();
            foreach (var nav in navigations)
            {
                if (nav.IsCollection)
                {
                    sb.AppendLine($"{entityType.ClrType.Name.ToLower()} ||--o{{ {nav.TargetEntityType.ClrType.Name.ToLower()}");
                }
            }
        }

        sb.AppendLine("@enduml");
        return sb.ToString();
    }
}
```

---

## –ü–æ—Ä–∞–¥–∏ —Ç–∞ best practices

::tip{title="1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—Å–µ–≤–¥–æ–Ω—ñ–º–∏"}
–î–ª—è –¥–æ–≤–≥–∏—Ö –Ω–∞–∑–≤ —Ç–∞–±–ª–∏—Ü—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ—Ä–æ—Ç–∫—ñ –ø—Å–µ–≤–¥–æ–Ω—ñ–º–∏:

```plantuml
entity "UserAuthenticationHistory" as uah {
  ...
}

user ||--o{ uah : "–º–∞—î —ñ—Å—Ç–æ—Ä—ñ—é"
```

::

::tip{title="2. –ì—Ä—É–ø—É–π—Ç–µ –ø–æ–≤'—è–∑–∞–Ω—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ"}

```plantuml
package "User Management" {
  entity User
  entity Role
  entity Permission
}

package "E-commerce" {
  entity Product
  entity Order
}
```

::

::tip{title="3. –î–æ–¥–∞–≤–∞–π—Ç–µ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ"}

```plantuml
' === CORE ENTITIES ===
entity User { ... }

' === JUNCTION TABLES ===
entity UserRole { ... }
```

::

::tip{title="4. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ notes –¥–ª—è –ø–æ—è—Å–Ω–µ–Ω—å"}

```plantuml
entity User {
  password_hash : varbinary(128)
}

note right of User
  –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è bcrypt
  –∑ work factor = 12
end note
```

::

::warning{title="5. –ù–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂—É–π—Ç–µ –¥—ñ–∞–≥—Ä–∞–º—É"}

- –ú–∞–∫—Å–∏–º—É–º **10-15 —Å—É—Ç–Ω–æ—Å—Ç–µ–π** –Ω–∞ –æ–¥–Ω—ñ–π –¥—ñ–∞–≥—Ä–∞–º—ñ
- –†–æ–∑–±–∏–≤–∞–π—Ç–µ –≤–µ–ª–∏–∫—É —Å–∏—Å—Ç–µ–º—É –Ω–∞ –º–æ–¥—É–ª—ñ
- –°—Ç–≤–æ—Ä—é–π—Ç–µ –æ–∫—Ä–µ–º—ñ –¥—ñ–∞–≥—Ä–∞–º–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö bounded contexts

::

---

## –ï–∫—Å–ø–æ—Ä—Ç —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

### –§–æ—Ä–º–∞—Ç–∏ –µ–∫—Å–ø–æ—Ä—Ç—É

PlantUML –ø—ñ–¥—Ç—Ä–∏–º—É—î:

- **SVG** - –≤–µ–∫—Ç–æ—Ä–Ω–∞ –≥—Ä–∞—Ñ—ñ–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è web)
- **PNG** - —Ä–∞—Å—Ç—Ä–æ–≤–∞ –≥—Ä–∞—Ñ—ñ–∫–∞
- **PDF** - –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
- **LaTeX** - –¥–ª—è –Ω–∞—É–∫–æ–≤–∏—Ö —Ä–æ–±—ñ—Ç
- **ASCII Art** - —Ç–µ–∫—Å—Ç–æ–≤–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Git

**–î–æ–¥–∞–π—Ç–µ `.puml` —Ñ–∞–π–ª–∏ —É –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è:**

```
project/
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ diagrams/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database-er.puml
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ architecture.puml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api-flow.puml
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ src/
‚îî‚îÄ‚îÄ .gitignore
```

### CI/CD –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥—ñ–∞–≥—Ä–∞–º

**GitHub Actions –ø—Ä–∏–∫–ª–∞–¥:**

```yaml
name: Generate Diagrams

on: [push]

jobs:
    generate:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v2
            - name: Generate PlantUML diagrams
              uses: cloudbees/plantuml-github-action@master
              with:
                  args: -v -tsvg docs/diagrams/*.puml
            - name: Commit diagrams
              run: |
                  git config user.name "GitHub Actions"
                  git add docs/diagrams/*.svg
                  git commit -m "Update diagrams" || true
                  git push
```

---

## –†–µ—Å—É—Ä—Å–∏ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

### –û–Ω–ª–∞–π–Ω —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

- **PlantUML Online**: [plantuml.com](https://www.plantuml.com/plantuml/)
- **PlantText**: [planttext.com](https://www.planttext.com/)
- **Gravizo**: [gravizo.com](http://www.gravizo.com/)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **–û—Ñ—ñ—Ü—ñ–π–Ω–∏–π —Å–∞–π—Ç**: [plantuml.com](https://plantuml.com/)
- **–î–æ–≤—ñ–¥–Ω–∏–∫ –∑ ER-–¥—ñ–∞–≥—Ä–∞–º**: [plantuml.com/ie-diagram](https://plantuml.com/ie-diagram)
- **–í—Å—ñ —Ç–∏–ø–∏ –¥—ñ–∞–≥—Ä–∞–º**: [plantuml.com/sitemap](https://plantuml.com/sitemap)

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

- **VS Code**: PlantUML Extension
- **IntelliJ IDEA**: PlantUML integration plugin
- **Confluence**: PlantUML macro
- **GitLab**: –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ `.puml` —É markdown
- **Notion**: –ß–µ—Ä–µ–∑ PlantUML —Å–µ—Ä–≤–µ—Ä

---

## –ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏

::note{title="–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è 1"}
**–°—Ç–≤–æ—Ä—ñ—Ç—å ER-–¥—ñ–∞–≥—Ä–∞–º—É –¥–ª—è —Å–∏—Å—Ç–µ–º–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ—î–∫—Ç–∞–º–∏:**

–°—É—Ç–Ω–æ—Å—Ç—ñ:

- Project (–Ω–∞–∑–≤–∞, –æ–ø–∏—Å, –¥–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É)
- Task (–Ω–∞–∑–≤–∞, –æ–ø–∏—Å, —Å—Ç–∞—Ç—É—Å, –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç)
- User (—ñ–º'—è, email, —Ä–æ–ª—å)
- Comment (—Ç–µ–∫—Å—Ç, –¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è)

–ó–≤'—è–∑–∫–∏:

- –ü—Ä–æ—î–∫—Ç –º–∞—î –±–∞–≥–∞—Ç–æ –∑–∞–¥–∞—á
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ –±–∞–≥–∞—Ç–æ –∑–∞–¥–∞—á
- –ó–∞–¥–∞—á–∞ –º–æ–∂–µ –º–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –ø–∏—Å–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤

::

::note{title="–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è 2"}
**–°—Ç–≤–æ—Ä—ñ—Ç—å –¥—ñ–∞–≥—Ä–∞–º—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –¥–ª—è:**

- Web API (.NET)
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- Redis –∫–µ—à
- RabbitMQ —á–µ—Ä–≥–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- S3 —Å—Ö–æ–≤–∏—â–µ —Ñ–∞–π–ª—ñ–≤

–ü–æ–∫–∞–∂—ñ—Ç—å –≤–∑–∞—î–º–æ–¥—ñ—é –º—ñ–∂ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.
::

---

## –í–∏—Å–Ω–æ–≤–æ–∫

PlantUML - —Ü–µ **–ø–æ—Ç—É–∂–Ω–∏–π** —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è:

‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ë–î  
‚úÖ –ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Å–∏—Å—Ç–µ–º  
‚úÖ –ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó –≤ –∫–æ–º–∞–Ω–¥—ñ  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –¥—ñ–∞–≥—Ä–∞–º  
‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É —Å—Ç–∞–Ω—ñ

::tip
**–ó–æ–ª–æ—Ç–µ –ø—Ä–∞–≤–∏–ª–æ**: –î—ñ–∞–≥—Ä–∞–º–∞ –º–∞—î –±—É—Ç–∏ **–∑—Ä–æ–∑—É–º—ñ–ª–æ—é** –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø–æ—è—Å–Ω–µ–Ω—å. –Ø–∫—â–æ –≤–æ–Ω–∞ –∑–∞–Ω–∞–¥—Ç–æ —Å–∫–ª–∞–¥–Ω–∞ - —Ä–æ–∑–±–∏–π—Ç–µ –Ω–∞ –∫—ñ–ª—å–∫–∞ –ø—Ä–æ—Å—Ç—ñ—à–∏—Ö!
::

**–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:**

1. –°–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ ER-–¥—ñ–∞–≥—Ä–∞–º—É –¥–ª—è –≤–∞—à–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É
2. –Ü–Ω—Ç–µ–≥—Ä—É–π—Ç–µ PlantUML —É –≤–∞—à—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –¥—ñ–∞–≥—Ä–∞–º —É CI/CD
4. –ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è –¥–æ—Å–≤—ñ–¥–æ–º –∑ –∫–æ–º–∞–Ω–¥–æ—é!
