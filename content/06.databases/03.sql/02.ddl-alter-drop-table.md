---
title: DDL - –ó–º—ñ–Ω–∞ —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å (ALTER, DROP)
description: –î–µ—Ç–∞–ª—å–Ω–∏–π —Ä–æ–∑–±—ñ—Ä –∫–æ–º–∞–Ω–¥ ALTER TABLE —Ç–∞ DROP TABLE - –¥–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—ñ–≤, –∑–º—ñ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏, –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å, –º—ñ–≥—Ä–∞—Ü—ñ—ó —Å—Ö–µ–º–∏
---

# DDL - –ó–º—ñ–Ω–∞ —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å (ALTER, DROP)

## –ù–∞–≤—ñ—â–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ —Ç–∞–±–ª–∏—Ü—ñ?

–£ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –≤–∏–º–æ–≥–∏ –∑–º—ñ–Ω—é—é—Ç—å—Å—è –∑ —á–∞—Å–æ–º:

::mermaid

```mermaid
sequenceDiagram
participant Developer as –†–æ–∑—Ä–æ–±–Ω–∏–∫
participant DB as –ë–∞–∑–∞ –î–∞–Ω–∏—Ö
participant Business as –ë—ñ–∑–Ω–µ—Å

    Business->>Developer: –ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –ø–æ–ª–µ "Phone" –¥–æ Users
    Developer->>DB: ALTER TABLE Users ADD Phone...
    DB-->>Developer: ‚úÖ –°—Ç–æ–≤–ø–µ—Ü—å –¥–æ–¥–∞–Ω–æ

    Business->>Developer: –¢—Ä–µ–±–∞ –∑–±—ñ–ª—å—à–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä Email –¥–æ 200
    Developer->>DB: ALTER TABLE Users ALTER COLUMN Email...
    DB-->>Developer: ‚úÖ –¢–∏–ø –∑–º—ñ–Ω–µ–Ω–æ

    Business->>Developer: –¢–∞–±–ª–∏—Ü—è OldData –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞
    Developer->>DB: DROP TABLE OldData
    DB-->>Developer: ‚úÖ –¢–∞–±–ª–∏—Ü—é –≤–∏–¥–∞–ª–µ–Ω–æ

```

::

**–¢–∏–ø–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó**:

- –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π (–Ω–æ–≤—ñ —Å—Ç–æ–≤–ø—Ü—ñ)
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è
- –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è performance
- –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

::caution
**–ö–†–ò–¢–ò–ß–ù–û –í–ê–ñ–õ–ò–í–û**: ALTER —Ç–∞ DROP –∫–æ–º–∞–Ω–¥–∏ –∑–º—ñ–Ω—é—é—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î **–Ω–∞–∑–∞–≤–∂–¥–∏**. –ù–∞ production —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –∑–∞–≤–∂–¥–∏ —Ä–æ–±—ñ—Ç—å backup –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º DDL –∫–æ–º–∞–Ω–¥!
::

---

## ALTER TABLE: –ó–º—ñ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Ç–∞–±–ª–∏—Ü—ñ

**ALTER TABLE** ‚Äî —Ü–µ –ø–æ—Ç—É–∂–Ω–∞ –∫–æ–º–∞–Ω–¥–∞, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ —Ç–∞–±–ª–∏—Ü—ñ –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö.

### –ó–∞–≥–∞–ª—å–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```sql
ALTER TABLE table_name
{
    ADD column_definition |
    ALTER COLUMN column_name new_data_type |
    DROP COLUMN column_name |
    ADD CONSTRAINT constraint_definition |
    DROP CONSTRAINT constraint_name
};
```

---

## ADD COLUMN: –î–æ–¥–∞–≤–∞–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—ñ–≤

### –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```sql
ALTER TABLE table_name
ADD column_name data_type [constraints];
```

### –ü—Ä–∏–∫–ª–∞–¥ 1: –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å—Ç–æ–≤–ø—Ü—è

```sql
-- –î–æ–¥–∞—î–º–æ —Å—Ç–æ–≤–ø–µ—Ü—å PhoneNumber –¥–æ —Ç–∞–±–ª–∏—Ü—ñ Students
ALTER TABLE Students
ADD PhoneNumber NVARCHAR(20) NULL;
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è**:

1. SQL Server –¥–æ–¥–∞—î –Ω–æ–≤–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å `PhoneNumber` –¥–æ —Ç–∞–±–ª–∏—Ü—ñ
2. –î–ª—è **–≤—Å—ñ—Ö —ñ—Å–Ω—É—é—á–∏—Ö –∑–∞–ø–∏—Å—ñ–≤** –∑–Ω–∞—á–µ–Ω–Ω—è —Ü—å–æ–≥–æ —Å—Ç–æ–≤–ø—Ü—è –±—É–¥–µ `NULL`
3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ñ –∑–º—ñ–Ω—é—î—Ç—å—Å—è, –∞–ª–µ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞**:

```sql
-- –ü–æ–¥–∏–≤–∏–º–æ—Å—è –Ω–∞ –æ–Ω–æ–≤–ª–µ–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
SELECT COLUMN_NAME, DATA_TYPE, IS_NULLABLE
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = 'Students';
```

### –ü—Ä–∏–∫–ª–∞–¥ 2: –î–æ–¥–∞–≤–∞–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—è –∑ DEFAULT

–Ø–∫—â–æ –¥–æ–¥–∞—î–º–æ **NOT NULL** —Å—Ç–æ–≤–ø–µ—Ü—å –¥–æ —Ç–∞–±–ª–∏—Ü—ñ –∑ –¥–∞–Ω–∏–º–∏, –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ DEFAULT:

```sql
-- ‚ùå –ü–û–ú–ò–õ–ö–ê - NOT NULL –±–µ–∑ DEFAULT –¥–ª—è —ñ—Å–Ω—É—é—á–∏—Ö –∑–∞–ø–∏—Å—ñ–≤
ALTER TABLE Students
ADD IsActive BIT NOT NULL;
-- Msg 515: Cannot insert NULL into column 'IsActive'

-- ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –∑ DEFAULT –∑–Ω–∞—á–µ–Ω–Ω—è–º
ALTER TABLE Students
ADD IsActive BIT NOT NULL DEFAULT 1;
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è**:

- –Ü—Å–Ω—É—é—á—ñ –∑–∞–ø–∏—Å–∏ –æ—Ç—Ä–∏–º–∞—é—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è `1` (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- –ù–æ–≤—ñ –∑–∞–ø–∏—Å–∏ —Ç–∞–∫–æ–∂ –º–∞—Ç–∏–º—É—Ç—å `1`, —è–∫—â–æ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ —ñ–Ω—à–µ

### –ü—Ä–∏–∫–ª–∞–¥ 3: –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–±—á–∏—Å–ª—é–≤–∞–Ω–æ–≥–æ —Å—Ç–æ–≤–ø—Ü—è

```sql
-- –î–æ–¥–∞—î–º–æ –æ–±—á–∏—Å–ª—é–≤–∞–Ω–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å Age (–≤—ñ–∫ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –¥–∞—Ç–∏ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è)
ALTER TABLE Students
ADD Age AS (DATEDIFF(YEAR, BirthDate, GETDATE())) PERSISTED;
```

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö —Å—Ç–æ–≤–ø—Ü—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ

```sql
-- –î–æ–¥–∞—î–º–æ –¥–µ–∫—ñ–ª—å–∫–∞ —Å—Ç–æ–≤–ø—Ü—ñ–≤ –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑
ALTER TABLE Students
ADD
    PhoneNumber NVARCHAR(20) NULL,
    Address NVARCHAR(200) NULL,
    City NVARCHAR(50) NULL,
    PostalCode NVARCHAR(10) NULL;
```

::tip
**Best Practice**: –î–æ–¥–∞–≤–∞–π—Ç–µ –∫—ñ–ª—å–∫–∞ —Å—Ç–æ–≤–ø—Ü—ñ–≤ –æ–¥–Ω–∏–º –∑–∞–ø–∏—Ç–æ–º –¥–ª—è –∫—Ä–∞—â–æ—ó performance —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è.
::

---

## ALTER COLUMN: –ó–º—ñ–Ω–∞ —Ç–∏–ø—É –¥–∞–Ω–∏—Ö

### –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```sql
ALTER TABLE table_name
ALTER COLUMN column_name new_data_type [NULL | NOT NULL];
```

### –ü—Ä–∏–∫–ª–∞–¥ 1: –ó–±—ñ–ª—å—à–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è

```sql
-- –ó–±—ñ–ª—å—à—É—î–º–æ —Ä–æ–∑–º—ñ—Ä FirstName –∑ 50 –¥–æ 100 —Å–∏–º–≤–æ–ª—ñ–≤
ALTER TABLE Students
ALTER COLUMN FirstName NVARCHAR(100) NOT NULL;
```

::note
**–ë–µ–∑–ø–µ—á–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è**: –ó–±—ñ–ª—å—à–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É VARCHAR/NVARCHAR –∑–∞–≤–∂–¥–∏ –±–µ–∑–ø–µ—á–Ω–µ - –¥–∞–Ω—ñ –Ω–µ –≤—Ç—Ä–∞—á–∞—é—Ç—å—Å—è.
::

### –ü—Ä–∏–∫–ª–∞–¥ 2: –ó–º–µ–Ω—à–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É (–ù–ï–ë–ï–ó–ü–ï–ß–ù–û!)

```sql
-- ‚ö†Ô∏è –ù–ï–ë–ï–ó–ü–ï–ß–ù–û - –∑–º–µ–Ω—à—É—î–º–æ —Ä–æ–∑–º—ñ—Ä Email –∑ 100 –¥–æ 50
ALTER TABLE Students
ALTER COLUMN Email NVARCHAR(50) NULL;
```

::warning
**–†–∏–∑–∏–∫ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö**: –Ø–∫—â–æ —ñ—Å–Ω—É—é—Ç—å –∑–∞–ø–∏—Å–∏ –∑ Email –¥–æ–≤—à–µ 50 —Å–∏–º–≤–æ–ª—ñ–≤, –æ–ø–µ—Ä–∞—Ü—ñ—è **FAIL–ù–ï –í–ò–ö–û–ù–ê–Ñ–¢–¨–°–Ø**!

```sql
-- Msg 8152: String or binary data would be truncated
```

**–©–æ —Ä–æ–±–∏—Ç–∏**:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –¥–æ–≤–∂–∏–Ω—É –ü–ï–†–ï–î –∑–º—ñ–Ω–æ—é:
    ```sql
    SELECT MAX(LEN(Email)) AS MaxEmailLength FROM Students;
    ```
2. –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ, –æ—á–∏—Å—Ç—ñ—Ç—å/—Å–∫–æ—Ä–æ—Ç—ñ—Ç—å –¥–∞–Ω—ñ —Å–ø–æ—á–∞—Ç–∫—É

::

### –ü—Ä–∏–∫–ª–∞–¥ 3: –ó–º—ñ–Ω–∞ —Ç–∏–ø—É –¥–∞–Ω–∏—Ö –∑ –∫–æ–Ω–≤–µ—Ä—Å—ñ—î—é

```sql
-- –ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, Age –∑–∞—Ä–∞–∑ NVARCHAR (–ø–æ–º–∏–ª–∫–∞ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è)
-- –•–æ—á–µ–º–æ –∑–º—ñ–Ω–∏—Ç–∏ –Ω–∞ INT

-- –ö—Ä–æ–∫ 1: –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–∂–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏
SELECT Age
FROM Students
WHERE ISNUMERIC(Age) = 0;  -- –ó–Ω–∞–π—Ç–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è

-- –ö—Ä–æ–∫ 2: –í–∏–ø—Ä–∞–≤–ª—è—î–º–æ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è (—è–∫—â–æ —î)
UPDATE Students
SET Age = NULL
WHERE ISNUMERIC(Age) = 0;

-- –ö—Ä–æ–∫ 3: –ó–º—ñ–Ω—é—î–º–æ —Ç–∏–ø
ALTER TABLE Students
ALTER COLUMN Age INT NULL;
```

### –û–±–º–µ–∂–µ–Ω–Ω—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ç–∏–ø—É

**–ù–ï –ú–û–ñ–ù–ê** –∑–º—ñ–Ω–∏—Ç–∏ —Ç–∏–ø, —è–∫—â–æ:

::field-group

::field{name="–°—Ç–æ–≤–ø–µ—Ü—å —î —á–∞—Å—Ç–∏–Ω–æ—é —ñ–Ω–¥–µ–∫—Å—É" type="error"}
–°–ø–æ—á–∞—Ç–∫—É –≤–∏–¥–∞–ª—ñ—Ç—å —ñ–Ω–¥–µ–∫—Å, –ø–æ—Ç—ñ–º –∑–º—ñ–Ω—ñ—Å—Ç—å —Ç–∏–ø, –ø–æ—Ç—ñ–º —Å—Ç–≤–æ—Ä—ñ—Ç—å —ñ–Ω–¥–µ–∫—Å –∑–Ω–æ–≤—É
::

::field{name="–°—Ç–æ–≤–ø–µ—Ü—å —î —á–∞—Å—Ç–∏–Ω–æ—é PRIMARY KEY –∞–±–æ FOREIGN KEY" type="error"}
–í–∏–¥–∞–ª—ñ—Ç—å constraint, –∑–º—ñ–Ω—ñ—Ç—å —Ç–∏–ø, –¥–æ–¥–∞–π—Ç–µ constraint –∑–Ω–æ–≤—É
::

::field{name="–°—Ç–æ–≤–ø–µ—Ü—å –º–∞—î DEFAULT constraint" type="error"}
–í–∏–¥–∞–ª—ñ—Ç—å DEFAULT, –∑–º—ñ–Ω—ñ—Ç—å —Ç–∏–ø, –¥–æ–¥–∞–π—Ç–µ DEFAULT –∑–Ω–æ–≤—É
::

::field{name="–°—Ç–æ–≤–ø–µ—Ü—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ computed column" type="error"}
–í–∏–¥–∞–ª—ñ—Ç—å computed column –∞–±–æ –∑–º—ñ–Ω—ñ—Ç—å –π–æ–≥–æ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è
::

::

---

## DROP COLUMN: –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—ñ–≤

### –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```sql
ALTER TABLE table_name
DROP COLUMN column_name;
```

::caution
**–ù–ï–ó–í–û–†–û–¢–ù–ê –û–ü–ï–†–ê–¶–Ü–Ø**: –ü—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—è **–í–°–Ü –î–ê–ù–Ü** –≤ –Ω—å–æ–º—É –≤—Ç—Ä–∞—á–∞—é—Ç—å—Å—è –Ω–∞–∑–∞–≤–∂–¥–∏ (–±–µ–∑ backup)!
::

### –ü—Ä–∏–∫–ª–∞–¥ 1: –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ —Å—Ç–æ–≤–ø—Ü—è

```sql
-- –í–∏–¥–∞–ª—è—î–º–æ —Å—Ç–æ–≤–ø–µ—Ü—å PhoneNumber
ALTER TABLE Students
DROP COLUMN PhoneNumber;
```

### –ü—Ä–∏–∫–ª–∞–¥ 2: –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö —Å—Ç–æ–≤–ø—Ü—ñ–≤

```sql
-- –í–∏–¥–∞–ª—è—î–º–æ –∫—ñ–ª—å–∫–∞ —Å—Ç–æ–≤–ø—Ü—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ
ALTER TABLE Students
DROP COLUMN Address, City, PostalCode;
```

### –û–±–º–µ–∂–µ–Ω–Ω—è –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ

**–ù–ï –ú–û–ñ–ù–ê** –≤–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–æ–≤–ø–µ—Ü—å, —è–∫—â–æ:

```sql
-- ‚ùå –°—Ç–æ–≤–ø–µ—Ü—å —î PRIMARY KEY
ALTER TABLE Students
DROP COLUMN Id;
-- Msg 5074: The object 'PK_Students' is dependent on column 'Id'

-- ‚ùå –°—Ç–æ–≤–ø–µ—Ü—å —î FOREIGN KEY
ALTER TABLE Enrollments
DROP COLUMN StudentId;
-- Msg 5074: The object 'FK_Enrollments_Students' is dependent on column 'StudentId'

-- ‚ùå –°—Ç–æ–≤–ø–µ—Ü—å –º–∞—î —ñ–Ω–¥–µ–∫—Å
-- ‚ùå –°—Ç–æ–≤–ø–µ—Ü—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ computed column
-- ‚ùå –°—Ç–æ–≤–ø–µ—Ü—å –º–∞—î constraint
```

**–†–æ–∑–≤'—è–∑–æ–∫**: –°–ø–æ—á–∞—Ç–∫—É –≤–∏–¥–∞–ª—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, –ø–æ—Ç—ñ–º —Å—Ç–æ–≤–ø–µ—Ü—å:

```sql
-- –ö—Ä–æ–∫ 1: –í–∏–¥–∞–ª–∏—Ç–∏ constraint
ALTER TABLE Students
DROP CONSTRAINT UQ_Students_Email;

-- –ö—Ä–æ–∫ 2: –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–æ–≤–ø–µ—Ü—å
ALTER TABLE Students
DROP COLUMN Email;
```

---

## ADD CONSTRAINT: –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–±–º–µ–∂–µ–Ω—å

–í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞–≤–∞—Ç–∏ constraints –¥–æ —ñ—Å–Ω—É—é—á–∏—Ö —Ç–∞–±–ª–∏—Ü—å.

### PRIMARY KEY

```sql
-- –î–æ–¥–∞—î–º–æ PRIMARY KEY –¥–æ —ñ—Å–Ω—É—é—á–æ—ó —Ç–∞–±–ª–∏—Ü—ñ
ALTER TABLE Products
ADD CONSTRAINT PK_Products PRIMARY KEY (ProductId);
```

::warning
**–í–∏–º–æ–≥–∞**: –°—Ç–æ–≤–ø–µ—Ü—å –º–∞—î –±—É—Ç–∏ **NOT NULL** —ñ –º—ñ—Å—Ç–∏—Ç–∏ **—É–Ω—ñ–∫–∞–ª—å–Ω—ñ** –∑–Ω–∞—á–µ–Ω–Ω—è.
::

### FOREIGN KEY

```sql
-- –î–æ–¥–∞—î–º–æ –∑–≤'—è–∑–æ–∫ –º—ñ–∂ Enrollments —Ç–∞ Students
ALTER TABLE Enrollments
ADD CONSTRAINT FK_Enrollments_Students
    FOREIGN KEY (StudentId) REFERENCES Students(Id)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
```

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ FK**:

- –í—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è `StudentId` –≤ `Enrollments` –º–∞—é—Ç—å —ñ—Å–Ω—É–≤–∞—Ç–∏ –≤ `Students.Id`
- –Ø–∫—â–æ —î "orphan" –∑–∞–ø–∏—Å–∏ (–ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω–µ—ñ—Å–Ω—É—é—á—ñ ID), –æ–ø–µ—Ä–∞—Ü—ñ—è –Ω–µ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è

**–ü—Ä–∏–∫–ª–∞–¥ –ø–æ–º–∏–ª–∫–∏**:

```sql
-- –Ø–∫—â–æ —î StudentId = 999, –∞–ª–µ —Ç–∞–∫–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–µ–º–∞—î
ALTER TABLE Enrollments
ADD CONSTRAINT FK_Enrollments_Students...
-- ‚ùå Msg 547: The ALTER TABLE statement conflicted with the FOREIGN KEY constraint
```

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è**:

```sql
-- –ó–Ω–∞–π—Ç–∏ orphan –∑–∞–ø–∏—Å–∏
SELECT DISTINCT StudentId
FROM Enrollments
WHERE StudentId NOT IN (SELECT Id FROM Students);

-- –í–∏–¥–∞–ª–∏—Ç–∏ –∞–±–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ —ó—Ö
DELETE FROM Enrollments WHERE StudentId NOT IN (SELECT Id FROM Students);
```

### UNIQUE

```sql
-- –î–æ–¥–∞—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å Email
ALTER TABLE Students
ADD CONSTRAINT UQ_Students_Email UNIQUE (Email);
```

### CHECK

```sql
-- –î–æ–¥–∞—î–º–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –¥–ª—è –≤—ñ–∫—É
ALTER TABLE Students
ADD CONSTRAINT CK_Students_Age CHECK (Age >= 16 AND Age <= 100);

-- –î–æ–¥–∞—î–º–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –¥–ª—è –≥—Ä–∞–Ω—Ç—ñ–≤
ALTER TABLE Students
ADD CONSTRAINT CK_Students_Grants CHECK (Grants >= 0);
```

::note
**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É—é—á–∏—Ö –¥–∞–Ω–∏—Ö**: –ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ CHECK constraint SQL Server –ø–µ—Ä–µ–≤—ñ—Ä—è—î **–í–°–Ü** —ñ—Å–Ω—É—é—á—ñ –∑–∞–ø–∏—Å–∏. –Ø–∫—â–æ —Ö–æ—á–∞ –± –æ–¥–∏–Ω –∑–∞–ø–∏—Å –ø–æ—Ä—É—à—É—î —É–º–æ–≤—É - –æ–ø–µ—Ä–∞—Ü—ñ—è –Ω–µ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è.
::

### DEFAULT

```sql
-- –î–æ–¥–∞—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
ALTER TABLE Students
ADD CONSTRAINT DF_Students_IsActive DEFAULT 1 FOR IsActive;
```

**–ó WITH VALUES** (–∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–æ —ñ—Å–Ω—É—é—á–∏—Ö NULL –∑–∞–ø–∏—Å—ñ–≤):

```sql
-- –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ DEFAULT –¥–æ —ñ—Å–Ω—É—é—á–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –∑ NULL
ALTER TABLE Students
ADD CONSTRAINT DF_Students_Country DEFAULT 'Ukraine' FOR Country WITH VALUES;
```

---

## DROP CONSTRAINT: –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ–±–º–µ–∂–µ–Ω—å

### –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```sql
ALTER TABLE table_name
DROP CONSTRAINT constraint_name;
```

### –ü—Ä–∏–∫–ª–∞–¥–∏

```sql
-- –í–∏–¥–∞–ª–∏—Ç–∏ PRIMARY KEY
ALTER TABLE Products
DROP CONSTRAINT PK_Products;

-- –í–∏–¥–∞–ª–∏—Ç–∏ FOREIGN KEY
ALTER TABLE Enrollments
DROP CONSTRAINT FK_Enrollments_Students;

-- –í–∏–¥–∞–ª–∏—Ç–∏ UNIQUE
ALTER TABLE Students
DROP CONSTRAINT UQ_Students_Email;

-- –í–∏–¥–∞–ª–∏—Ç–∏ CHECK
ALTER TABLE Students
DROP CONSTRAINT CK_Students_Age;

-- –í–∏–¥–∞–ª–∏—Ç–∏ DEFAULT
ALTER TABLE Students
DROP CONSTRAINT DF_Students_IsActive;
```

### –Ø–∫ –∑–Ω–∞–π—Ç–∏ –Ω–∞–∑–≤—É constraint?

–Ø–∫—â–æ –≤–∏ –Ω–µ –ø–∞–º'—è—Ç–∞—î—Ç–µ –Ω–∞–∑–≤—É constraint:

```sql
-- –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ constraints –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ Students
SELECT
    CONSTRAINT_NAME,
    CONSTRAINT_TYPE
FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
WHERE TABLE_NAME = 'Students';

-- –†–µ–∑—É–ª—å—Ç–∞—Ç:
-- PK_Students        PRIMARY KEY
-- FK_Enrollments_S...  FOREIGN KEY
-- UQ_Students_Email  UNIQUE
-- CK_Students_Age    CHECK
```

–ê–±–æ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ñ—à–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó:

```sql
-- –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ constraints
EXEC sp_helpconstraint 'Students';
```

---

## –†–æ–±–æ—Ç–∞ –∑ —ñ–Ω–¥–µ–∫—Å–∞–º–∏ (–∫–æ—Ä–æ—Ç–∫–∏–π –æ–≥–ª—è–¥)

–Ü–Ω–¥–µ–∫—Å–∏ - —Ü–µ –æ–∫—Ä–µ–º–∞ –≤–µ–ª–∏–∫–∞ —Ç–µ–º–∞, –∞–ª–µ –æ—Å—å –±–∞–∑–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó:

### CREATE INDEX

```sql
-- –°—Ç–≤–æ—Ä–∏—Ç–∏ —ñ–Ω–¥–µ–∫—Å –Ω–∞ —Å—Ç–æ–≤–ø—Ü—ñ LastName –¥–ª—è —à–≤–∏–¥—à–æ–≥–æ –ø–æ—à—É–∫—É
CREATE INDEX IX_Students_LastName
ON Students(LastName);

-- –°—Ç–≤–æ—Ä–∏—Ç–∏ composite —ñ–Ω–¥–µ–∫—Å
CREATE INDEX IX_Students_Name
ON Students(LastName, FirstName);

-- –°—Ç–≤–æ—Ä–∏—Ç–∏ UNIQUE —ñ–Ω–¥–µ–∫—Å
CREATE UNIQUE INDEX IX_Students_Email
ON Students(Email);
```

### DROP INDEX

```sql
-- –í–∏–¥–∞–ª–∏—Ç–∏ —ñ–Ω–¥–µ–∫—Å
DROP INDEX IX_Students_LastName ON Students;
```

::note
**–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ —ñ–Ω–¥–µ–∫—Å–∏**: –î–ª—è –ø–æ–≤–Ω–æ–≥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤, —ó—Ö —Ç–∏–ø—ñ–≤ (CLUSTERED, NONCLUSTERED), —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —Ç–∞ best practices –¥–∏–≤—ñ—Ç—å—Å—è –æ–∫—Ä–µ–º—É —Ç–µ–º—É: [–Ü–Ω–¥–µ–∫—Å–∏ –≤ MS SQL Server](../02.ms-sql-server-start/02.sql-indexes.md)
::

---

## DROP TABLE: –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ

### –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```sql
DROP TABLE table_name;
```

::caution
**–ö–†–ò–¢–ò–ß–ù–û**: DROP TABLE **–Ω–∞–∑–∞–≤–∂–¥–∏ –≤–∏–¥–∞–ª—è—î**:

- –°—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ñ
- –í–°–Ü –¥–∞–Ω—ñ
- –í—Å—ñ —ñ–Ω–¥–µ–∫—Å–∏
- –í—Å—ñ constraints
- –í—Å—ñ triggers

**–ë–µ–∑ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è** (–æ–∫—Ä—ñ–º backup)!
::

### –ü—Ä–∏–∫–ª–∞–¥

```sql
-- –í–∏–¥–∞–ª–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é OldData
DROP TABLE OldData;
```

### –ü—Ä–æ–±–ª–µ–º–∞: Foreign Key –±–ª–æ–∫—É—î –≤–∏–¥–∞–ª–µ–Ω–Ω—è

```sql
-- –°–ø—Ä–æ–±–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ Students
DROP TABLE Students;
-- ‚ùå Msg 3726: Could not drop object 'Students' because it is referenced by a FOREIGN KEY constraint

-- –†–æ–∑–≤'—è–∑–æ–∫ 1: –°–ø–æ—á–∞—Ç–∫—É –≤–∏–¥–∞–ª–∏—Ç–∏ –¥–æ—á—ñ—Ä–Ω—é —Ç–∞–±–ª–∏—Ü—é
DROP TABLE Enrollments;  -- –ú–∞—î FK –Ω–∞ Students
DROP TABLE Students;      -- –¢–µ–ø–µ—Ä –º–æ–∂–Ω–∞

-- –†–æ–∑–≤'—è–∑–æ–∫ 2: –í–∏–¥–∞–ª–∏—Ç–∏ FK constraint
ALTER TABLE Enrollments DROP CONSTRAINT FK_Enrollments_Students;
DROP TABLE Students;
```

### DROP TABLE IF EXISTS (SQL Server 2016+)

–ë–µ–∑–ø–µ—á–Ω–∞ –≤–µ—Ä—Å—ñ—è, —è–∫–∞ –Ω–µ –≥–µ–Ω–µ—Ä—É—î –ø–æ–º–∏–ª–∫—É, —è–∫—â–æ —Ç–∞–±–ª–∏—Ü—ñ –Ω–µ–º–∞—î:

```sql
-- SQL Server 2016+
DROP TABLE IF EXISTS OldData;

-- –î–ª—è —Å—Ç–∞—Ä—ñ—à–∏—Ö –≤–µ—Ä—Å—ñ–π
IF OBJECT_ID('OldData', 'U') IS NOT NULL
BEGIN
    DROP TABLE OldData;
END
```

### –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö —Ç–∞–±–ª–∏—Ü—å

```sql
-- –í–∏–¥–∞–ª–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ç–∞–±–ª–∏—Ü—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ
DROP TABLE Table1, Table2, Table3;
```

---

## TRUNCATE TABLE: –û—á–∏—â–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö

**TRUNCATE TABLE** ‚Äî —à–≤–∏–¥–∫–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è **–í–°–Ü–•** –¥–∞–Ω–∏—Ö –∑ —Ç–∞–±–ª–∏—Ü—ñ, –∞–ª–µ –∑–±–µ—Ä—ñ–≥–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```sql
TRUNCATE TABLE table_name;
```

### –ü—Ä–∏–∫–ª–∞–¥

```sql
-- –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ –∑ —Ç–∞–±–ª–∏—Ü—ñ Logs
TRUNCATE TABLE Logs;
-- –¢–∞–±–ª–∏—Ü—è —ñ—Å–Ω—É—î, –∞–ª–µ –ø–æ—Ä–æ–∂–Ω—è
```

### TRUNCATE vs DELETE

::tabs

::tabs-item{label="TRUNCATE TABLE"}

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:

- :icon{name="i-lucide-zap"} **–î—É–∂–µ —à–≤–∏–¥–∫–æ** (–º—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è)
- :icon{name="i-lucide-trash-2"} –í–∏–¥–∞–ª—è—î **–í–°–Ü** –¥–∞–Ω—ñ (–Ω–µ –º–æ–∂–Ω–∞ –≤–∫–∞–∑–∞—Ç–∏ WHERE)
- :icon{name="i-lucide-rotate-ccw"} **–°–∫–∏–¥–∞—î IDENTITY** counter –¥–æ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è
- :icon{name="i-lucide-shield-off"} **–ù–ï –º–æ–∂–Ω–∞ –≤—ñ–¥–∫–æ—Ç–∏—Ç–∏** (rollback) –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó (–≤ –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤)
- :icon{name="i-lucide-lock"} –ë–ª–æ–∫—É—î –≤—Å—é —Ç–∞–±–ª–∏—Ü—é

```sql
TRUNCATE TABLE Students;
-- –í—Å—ñ —Å—Ç—É–¥–µ–Ω—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω—ñ, –Ω–∞—Å—Ç—É–ø–Ω–∏–π Id –ø–æ—á–Ω–µ—Ç—å—Å—è –∑ 1
```

::

::tabs-item{label="DELETE"}

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:

- :icon{name="i-lucide-clock"} –ü–æ–≤—ñ–ª—å–Ω—ñ—à–µ (–ø–æ–≤–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ —Ä—è–¥–∫–∞)
- :icon{name="i-lucide-filter"} –ú–æ–∂–Ω–∞ –≤–∫–∞–∑–∞—Ç–∏ **WHERE** –¥–ª—è –≤–∏–±—ñ—Ä–∫–æ–≤–æ–≥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
- :icon{name="i-lucide-hash"} **–ù–ï —Å–∫–∏–¥–∞—î IDENTITY** counter
- :icon{name="i-lucide-rotate-ccw"} **–ú–æ–∂–Ω–∞ –≤—ñ–¥–∫–æ—Ç–∏—Ç–∏** (rollback) –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
- :icon{name="i-lucide-unlock"} –ë–ª–æ–∫—É—î –æ–∫—Ä–µ–º—ñ —Ä—è–¥–∫–∏

```sql
DELETE FROM Students;
-- –í—Å—ñ —Å—Ç—É–¥–µ–Ω—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω—ñ, –∞–ª–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π Id –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å –Ω—É–º–µ—Ä–∞—Ü—ñ—é
-- (—è–∫—â–æ –æ—Å—Ç–∞–Ω–Ω—ñ–π –±—É–≤ 100, –Ω–∞—Å—Ç—É–ø–Ω–∏–π –±—É–¥–µ 101)
```

::

::

### –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞    | TRUNCATE TABLE                                                | DELETE (–±–µ–∑ WHERE)                                            | DROP TABLE                                               |
| :---------------- | :------------------------------------------------------------ | :------------------------------------------------------------ | :------------------------------------------------------- |
| –®–≤–∏–¥–∫—ñ—Å—Ç—å         | :icon{name="i-lucide-zap" class="text-green-500"} –î—É–∂–µ —à–≤–∏–¥–∫–æ | :icon{name="i-lucide-clock" class="text-yellow-500"} –ü–æ–≤—ñ–ª—å–Ω–æ | :icon{name="i-lucide-zap" class="text-green-500"} –®–≤–∏–¥–∫–æ |
| –õ–æ–≥—É–≤–∞–Ω–Ω—è         | –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ                                                    | –ü–æ–≤–Ω–µ (–∫–æ–∂–µ–Ω —Ä—è–¥–æ–∫)                                           | –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ                                               |
| WHERE clause      | :icon{name="i-lucide-x" class="text-red-500"} –ù—ñ              | :icon{name="i-lucide-check" class="text-green-500"} –¢–∞–∫       | N/A                                                      |
| IDENTITY reset    | :icon{name="i-lucide-check" class="text-green-500"} –¢–∞–∫       | :icon{name="i-lucide-x" class="text-red-500"} –ù—ñ              | :icon{name="i-lucide-check" class="text-green-500"} –¢–∞–∫  |
| Rollback          | –û–±–º–µ–∂–µ–Ω–æ                                                      | :icon{name="i-lucide-check" class="text-green-500"} –¢–∞–∫       | –û–±–º–µ–∂–µ–Ω–æ                                                 |
| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ñ | –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è                                                  | –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è                                                  | **–í–∏–¥–∞–ª—è—î—Ç—å—Å—è**                                          |
| Constraints       | –ó–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è                                                  | –ó–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è                                                  | **–í–∏–¥–∞–ª—è—é—Ç—å—Å—è**                                          |
| Triggers          | –ù–ï —Å–ø—Ä–∞—Ü—å–æ–≤—É—é—Ç—å                                               | –°–ø—Ä–∞—Ü—å–æ–≤—É—é—Ç—å                                                  | –ù–ï —Å–ø—Ä–∞—Ü—å–æ–≤—É—é—Ç—å                                          |
| –ó FK references   | :icon{name="i-lucide-x" class="text-red-500"} –ü–æ–º–∏–ª–∫–∞         | :icon{name="i-lucide-check" class="text-green-500"} –ú–æ–∂–ª–∏–≤–æ\* | :icon{name="i-lucide-x" class="text-red-500"} –ü–æ–º–∏–ª–∫–∞    |

_\* –Ø–∫—â–æ —î ON DELETE CASCADE –∞–±–æ –¥–æ—á—ñ—Ä–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ –ø–æ—Ä–æ–∂–Ω—ñ_

### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ TRUNCATE

::code-group

```sql [–û—á–∏—â–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö ‚úÖ]
-- –®–≤–∏–¥–∫–æ –æ—á–∏—Å—Ç–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é –ø—ñ—Å–ª—è —Ç–µ—Å—Ç—ñ–≤
TRUNCATE TABLE TestResults;
```

```sql [–û—á–∏—â–µ–Ω–Ω—è —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö —Ç–∞–±–ª–∏—Ü—å ‚úÖ]
-- –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ —Ç–∞–±–ª–∏—Ü—é –¥–æ –Ω–æ–≤–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
TRUNCATE TABLE StagingData;
```

```sql [–°–∫–∏–¥–∞–Ω–Ω—è —Å—á–µ—Ç—á–∏–∫–∞ IDENTITY ‚úÖ]
-- –ü–æ—á–∞—Ç–∏ –Ω—É–º–µ—Ä–∞—Ü—ñ—é –∑ 1 –∑–Ω–æ–≤—É
TRUNCATE TABLE NewTable;
```

```sql [–í–∏–±—ñ—Ä–∫–æ–≤–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è ‚ùå]
-- –ü–û–ú–ò–õ–ö–ê - TRUNCATE –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î WHERE
TRUNCATE TABLE Students WHERE Age < 18;
-- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ DELETE
DELETE FROM Students WHERE Age < 18;
```

::

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ú—ñ–≥—Ä–∞—Ü—ñ—è —Å—Ö–µ–º–∏ (–¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ–ª—è)

**–ó–∞–≤–¥–∞–Ω–Ω—è**: –î–æ–¥–∞—Ç–∏ –ø–æ–ª–µ `CreatedAt` –¥–æ —ñ—Å–Ω—É—é—á–æ—ó —Ç–∞–±–ª–∏—Ü—ñ `Users`.

```sql
-- –ö—Ä–æ–∫ 1: –î–æ–¥–∞—Ç–∏ —Å—Ç–æ–≤–ø–µ—Ü—å –∑ DEFAULT –¥–ª—è —ñ—Å–Ω—É—é—á–∏—Ö –∑–∞–ø–∏—Å—ñ–≤
ALTER TABLE Users
ADD CreatedAt DATETIME NOT NULL DEFAULT GETDATE();

-- –ö—Ä–æ–∫ 2: –û–Ω–æ–≤–∏—Ç–∏ DEFAULT –¥–ª—è –º–∞–π–±—É—Ç–Ω—ñ—Ö –≤—Å—Ç–∞–≤–æ–∫ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
-- –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º DEFAULT –≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

-- –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
SELECT TOP 5 UserId, Username, CreatedAt FROM Users;
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ë–î (—Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—è)

**–ó–∞–≤–¥–∞–Ω–Ω—è**: –†–æ–∑–¥—ñ–ª–∏—Ç–∏ –ø–æ–ª–µ `FullName` –Ω–∞ `FirstName` —Ç–∞ `LastName`.

```sql
-- –ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, FullName = "–ü–µ—Ç—Ä–µ–Ω–∫–æ –Ü–≤–∞–Ω"

-- –ö—Ä–æ–∫ 1: –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —Å—Ç–æ–≤–ø—Ü—ñ
ALTER TABLE Users
ADD
    FirstName NVARCHAR(50) NULL,
    LastName NVARCHAR(50) NULL;

-- –ö—Ä–æ–∫ 2: –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –Ω–æ–≤—ñ —Å—Ç–æ–≤–ø—Ü—ñ –∑ —ñ—Å–Ω—É—é—á–∏—Ö –¥–∞–Ω–∏—Ö
UPDATE Users
SET
    LastName = LEFT(FullName, CHARINDEX(' ', FullName) - 1),
    FirstName = SUBSTRING(FullName, CHARINDEX(' ', FullName) + 1, LEN(FullName));

-- –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
SELECT FullName, FirstName, LastName FROM Users;

-- –ö—Ä–æ–∫ 4: –ó—Ä–æ–±–∏—Ç–∏ –Ω–æ–≤—ñ —Å—Ç–æ–≤–ø—Ü—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º–∏ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
ALTER TABLE Users
ALTER COLUMN FirstName NVARCHAR(50) NOT NULL;

ALTER TABLE Users
ALTER COLUMN LastName NVARCHAR(50) NOT NULL;

-- –ö—Ä–æ–∫ 5: –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–∞—Ä–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å (–ø—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è)
ALTER TABLE Users
DROP COLUMN FullName;
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –î–æ–¥–∞–≤–∞–Ω–Ω—è Foreign Key –¥–æ —ñ—Å–Ω—É—é—á–∏—Ö —Ç–∞–±–ª–∏—Ü—å

**–ó–∞–≤–¥–∞–Ω–Ω—è**: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–≤'—è–∑–æ–∫ –º—ñ–∂ `Orders` —Ç–∞ `Customers`.

```sql
-- –ö—Ä–æ–∫ 1: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ orphan –∑–∞–ø–∏—Å–∏ (–∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –±–µ–∑ –∫–ª—ñ—î–Ω—Ç—ñ–≤)
SELECT DISTINCT CustomerId
FROM Orders
WHERE CustomerId NOT IN (SELECT CustomerId FROM Customers);

-- –ö—Ä–æ–∫ 2: –í–∏–ø—Ä–∞–≤–∏—Ç–∏ orphan –∑–∞–ø–∏—Å–∏
-- –í–∞—Ä—ñ–∞–Ω—Ç A: –í–∏–¥–∞–ª–∏—Ç–∏ orphan records
DELETE FROM Orders
WHERE CustomerId NOT IN (SELECT CustomerId FROM Customers);

-- –í–∞—Ä—ñ–∞–Ω—Ç B: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ CustomerID –≤ NULL –∞–±–æ default –∑–Ω–∞—á–µ–Ω–Ω—è
UPDATE Orders
SET CustomerId = NULL  -- –∞–±–æ —è–∫–µ—Å—å default –∑–Ω–∞—á–µ–Ω–Ω—è
WHERE CustomerId NOT IN (SELECT CustomerId FROM Customers);

-- –ö—Ä–æ–∫ 3: –î–æ–¥–∞—Ç–∏ Foreign Key
ALTER TABLE Orders
ADD CONSTRAINT FK_Orders_Customers
    FOREIGN KEY (CustomerId) REFERENCES Customers(CustomerId)
    ON DELETE NO ACTION;

-- –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
EXEC sp_helpconstraint 'Orders';
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 4: –í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è —Å—Ö–µ–º–∏ –ë–î

–ü—Ä–æ—Ñ–µ—Å approach –¥–æ –º—ñ–≥—Ä–∞—Ü—ñ–π:

```sql
-- –§–∞–π–ª: Migration_001_AddUserPreferences.sql

BEGIN TRANSACTION;

-- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –º—ñ–≥—Ä–∞—Ü—ñ—è –≤–∂–µ –≤–∏–∫–æ–Ω–∞–Ω–∞
IF NOT EXISTS (
    SELECT 1 FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Users' AND COLUMN_NAME = 'PreferredLanguage'
)
BEGIN
    PRINT 'Applying migration 001: Adding user preferences';

    -- –î–æ–¥–∞—Ç–∏ —Å—Ç–æ–≤–ø—Ü—ñ
    ALTER TABLE Users
    ADD
        PreferredLanguage NVARCHAR(10) DEFAULT 'uk' NOT NULL,
        Theme NVARCHAR(20) DEFAULT 'light' NOT NULL,
        NotificationsEnabled BIT DEFAULT 1 NOT NULL;

    -- –°—Ç–≤–æ—Ä–∏—Ç–∏ —ñ–Ω–¥–µ–∫—Å
    CREATE INDEX IX_Users_Language ON Users(PreferredLanguage);

    PRINT 'Migration 001 completed successfully';
END
ELSE
BEGIN
    PRINT 'Migration 001 already applied, skipping';
END

COMMIT TRANSACTION;
```

---

## Best Practices –¥–ª—è ALTER TABLE

::card-group

::card{title="1. –ó–∞–≤–∂–¥–∏ —Ä–æ–±—ñ—Ç—å BACKUP –ø–µ—Ä–µ–¥ DDL" icon="i-lucide-database"}

```sql
-- –ü–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º ALTER –Ω–∞ production
BACKUP DATABASE YourDatabase
TO DISK = 'C:\\Backups\\YourDB_BeforeAlter.bak';
```

::

::card{title="2. –¢–µ—Å—Ç—É–π—Ç–µ –Ω–∞ –∫–æ–ø—ñ—ó –ë–î" icon="i-lucide-test-tube"}

–ù—ñ–∫–æ–ª–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ DDL –∫–æ–º–∞–Ω–¥–∏ –Ω–∞ production –±–µ–∑ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ dev/staging:

```sql
-- 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–ø—ñ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
SELECT * INTO Students_BACKUP FROM Students;

-- 2. –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ ALTER
ALTER TABLE Students_BACKUP ADD NewColumn INT;

-- 3. –Ø–∫—â–æ –≤—Å–µ –¥–æ–±—Ä–µ - –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –Ω–∞ Students
```

::

::card{title="3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó (–¥–µ –º–æ–∂–ª–∏–≤–æ)" icon="i-lucide-git-branch"}

```sql
BEGIN TRANSACTION;

ALTER TABLE Users ADD NewColumn INT;
-- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
SELECT TOP 5 * FROM Users;

-- –Ø–∫—â–æ –≤—Å–µ –¥–æ–±—Ä–µ
COMMIT;
-- –Ø–∫—â–æ —â–æ—Å—å –Ω–µ —Ç–∞–∫
-- ROLLBACK;
```

::

::card{title="4. –î–æ–¥–∞–≤–∞–π—Ç–µ —Å—Ç–æ–≤–ø—Ü—ñ –∑ DEFAULT" icon="i-lucide-plus-circle"}

–î–ª—è NOT NULL —Å—Ç–æ–≤–ø—Ü—ñ–≤ –∑–∞–≤–∂–¥–∏ –≤–∫–∞–∑—É–π—Ç–µ DEFAULT:

```sql
-- ‚úÖ –î–æ–±—Ä–µ
ALTER TABLE Users
ADD CreatedAt DATETIME NOT NULL DEFAULT GETDATE();

-- ‚ùå –ü–æ–≥–∞–Ω–æ (–ø–æ–º–∏–ª–∫–∞ –¥–ª—è —ñ—Å–Ω—É—é—á–∏—Ö –∑–∞–ø–∏—Å—ñ–≤)
ALTER TABLE Users
ADD CreatedAt DATETIME NOT NULL;
```

::

::card{title="5. –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ" icon="i-lucide-link"}

–ü–µ—Ä–µ–¥ –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º —Å—Ç–æ–≤–ø—Ü—ñ–≤/constraints:

```sql
-- –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Å—Ç–æ–≤–ø—Ü—è
EXEC sp_depends 'Students.Email';

-- –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ FK —â–æ –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—é
SELECT
    OBJECT_NAME(parent_object_id) AS ReferencingTable,
    name AS ForeignKeyName
FROM sys.foreign_keys
WHERE referenced_object_id = OBJECT_ID('Students');
```

::

::card{title="6. –î–æ–∫—É–º–µ–Ω—Ç—É–π—Ç–µ –∑–º—ñ–Ω–∏" icon="i-lucide-file-text"}

–ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ –≤—Å—ñ DDL —Å–∫—Ä–∏–ø—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—ñ –∫–æ–Ω—Ç—Ä–æ–ª—é –≤–µ—Ä—Å—ñ–π (Git):

```
migrations/
  001_add_user_preferences.sql
  002_refactor_full_name.sql
  003_add_email_index.sql
```

::

::

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

::accordion

::accordion-item{label="–ó–∞–≤–¥–∞–Ω–Ω—è 1: –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ Students" icon="i-lucide-user-plus"}

–î–æ–¥–∞–π—Ç–µ –¥–æ —Ç–∞–±–ª–∏—Ü—ñ `Students` –Ω–∞—Å—Ç—É–ø–Ω—ñ –ø–æ–ª—è:

- `Gender` - —Å—Ç–∞—Ç—å ('M', 'F', 'Other'), NOT NULL –∑ DEFAULT 'Other'
- `EnrollmentDate` - –¥–∞—Ç–∞ –∑–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è, NOT NULL –∑ DEFAULT –ø–æ—Ç–æ—á–Ω–æ—é –¥–∞—Ç–æ—é
- `GPA` - —Å–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª (0.00 - 5.00), NULL, –∑ CHECK constraint

<details>
<summary>üí° –†–æ–∑–≤'—è–∑–æ–∫</summary>

```sql
ALTER TABLE Students
ADD
    Gender NVARCHAR(10) NOT NULL DEFAULT 'Other',
    EnrollmentDate DATE NOT NULL DEFAULT GETDATE(),
    GPA DECIMAL(3, 2) NULL;

-- –î–æ–¥–∞—Ç–∏ CHECK constraint
ALTER TABLE Students
ADD CONSTRAINT CK_Students_GPA CHECK (GPA BETWEEN 0.00 AND 5.00);

-- –î–æ–¥–∞—Ç–∏ CHECK –¥–ª—è Gender
ALTER TABLE Students
ADD CONSTRAINT CK_Students_Gender CHECK (Gender IN ('M', 'F', 'Other'));
```

</details>

::

::accordion-item{label="–ó–∞–≤–¥–∞–Ω–Ω—è 2: –ó–º—ñ–Ω–∞ —Ä–æ–∑–º—ñ—Ä—É Email" icon="i-lucide-mail"}

–ó–±—ñ–ª—å—à—ñ—Ç—å —Ä–æ–∑–º—ñ—Ä –ø–æ–ª—è `Email` –≤ —Ç–∞–±–ª–∏—Ü—ñ `Students` –∑ 100 –¥–æ 255 —Å–∏–º–≤–æ–ª—ñ–≤.

<details>
<summary>üí° –†–æ–∑–≤'—è–∑–æ–∫</summary>

```sql
-- –°–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–≤—ñ—Ä–∏–º–æ –ø–æ—Ç–æ—á–Ω—É –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –¥–æ–≤–∂–∏–Ω—É
SELECT MAX(LEN(Email)) AS MaxEmailLength FROM Students;

-- –ó–±—ñ–ª—å—à–∏–º–æ —Ä–æ–∑–º—ñ—Ä
ALTER TABLE Students
ALTER COLUMN Email NVARCHAR(255) NULL;

-- –ü–µ—Ä–µ–≤—ñ—Ä–∏–º–æ –∑–º—ñ–Ω—É
SELECT COLUMN_NAME, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = 'Students' AND COLUMN_NAME = 'Email';
```

</details>

::

::accordion-item{label="–ó–∞–≤–¥–∞–Ω–Ω—è 3: –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–æ–≥–æ –ø–æ–ª—è" icon="i-lucide-trash-2"}

–í–∏–¥–∞–ª—ñ—Ç—å –ø–æ–ª–µ `Grants` –∑ —Ç–∞–±–ª–∏—Ü—ñ `Students`, —è–∫—â–æ –≤–æ–Ω–æ —ñ—Å–Ω—É—î. –ê–ª–µ —Å–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –Ω–µ–º–∞—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.

<details>
<summary>üí° –†–æ–∑–≤'—è–∑–æ–∫</summary>

```sql
-- –ö—Ä–æ–∫ 1: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
EXEC sp_depends 'Students.Grants';

-- –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ constraints
SELECT CONSTRAINT_NAME
FROM INFORMATION_SCHEMA.CONSTRAINT_COLUMN_USAGE
WHERE TABLE_NAME = 'Students' AND COLUMN_NAME = 'Grants';

-- –ö—Ä–æ–∫ 3: –í–∏–¥–∞–ª–∏—Ç–∏ constraint (—è–∫—â–æ —î)
-- ALTER TABLE Students DROP CONSTRAINT CK_Students_Grants;

-- –ö—Ä–æ–∫ 4: –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–æ–≤–ø–µ—Ü—å
ALTER TABLE Students
DROP COLUMN Grants;

-- –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'Students';
```

</details>

::

::accordion-item{label="–ó–∞–≤–¥–∞–Ω–Ω—è 4: –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Foreign Key" icon="i-lucide-link"}

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–∞–±–ª–∏—Ü—é `Departments` —Ç–∞ –¥–æ–¥–∞–π—Ç–µ foreign key –∑–≤'—è–∑–æ–∫ –∑ `Students`.

<details>
<summary>üí° –†–æ–∑–≤'—è–∑–æ–∫</summary>

```sql
-- –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é Departments
CREATE TABLE Departments (
    DepartmentId INT PRIMARY KEY IDENTITY(1, 1),
    DepartmentName NVARCHAR(100) NOT NULL,
    Faculty NVARCHAR(100) NOT NULL
);

-- –ö—Ä–æ–∫ 2: –î–æ–¥–∞—Ç–∏ DepartmentId –¥–æ Students
ALTER TABLE Students
ADD DepartmentId INT NULL;

-- –ö—Ä–æ–∫ 3: –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
INSERT INTO Departments (DepartmentName, Faculty)
VALUES
    ('Computer Science', 'Engineering'),
    ('Mathematics', 'Science');

-- –ö—Ä–æ–∫ 4: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ DepartmentId –¥–ª—è —ñ—Å–Ω—É—é—á–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤
UPDATE Students SET DepartmentId = 1;

-- –ö—Ä–æ–∫ 5: –ó—Ä–æ–±–∏—Ç–∏ –ø–æ–ª–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º
ALTER TABLE Students
ALTER COLUMN DepartmentId INT NOT NULL;

-- –ö—Ä–æ–∫ 6: –î–æ–¥–∞—Ç–∏ Foreign Key
ALTER TABLE Students
ADD CONSTRAINT FK_Students_Departments
    FOREIGN KEY (DepartmentId) REFERENCES Departments(DepartmentId)
    ON DELETE NO ACTION
    ON UPDATE CASCADE;

-- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
EXEC sp_helpconstraint 'Students';
```

</details>

::

::

---

## –†–µ–∑—é–º–µ

::tip
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏ ALTER TABLE —Ç–∞ DROP**:

**ALTER TABLE** - –∑–º—ñ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏:

1. **ADD COLUMN** ‚Äî –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Å—Ç–æ–≤–ø—Ü—ñ–≤ (–∑ DEFAULT –¥–ª—è NOT NULL)
2. **ALTER COLUMN** ‚Äî –∑–º—ñ–Ω–∞ —Ç–∏–ø—É –¥–∞–Ω–∏—Ö (–æ–±–µ—Ä–µ–∂–Ω–æ –∑ –∑–º–µ–Ω—à–µ–Ω–Ω—è–º —Ä–æ–∑–º—ñ—Ä—É!)
3. **DROP COLUMN** ‚Äî –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—ñ–≤ (–Ω–µ–∑–≤–æ—Ä–æ—Ç–Ω–æ, –≤–∏–¥–∞–ª—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Å–ø–æ—á–∞—Ç–∫—É)
4. **ADD/DROP CONSTRAINT** ‚Äî –∫–µ—Ä—É–≤–∞–Ω–Ω—è –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏

**DROP TABLE**:

- –ü–æ–≤–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + –¥–∞–Ω—ñ)
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `IF EXISTS` –¥–ª—è –±–µ–∑–ø–µ–∫–∏
- Foreign Keys –±–ª–æ–∫—É—é—Ç—å –≤–∏–¥–∞–ª–µ–Ω–Ω—è

**TRUNCATE TABLE**:

- –®–≤–∏–¥–∫–µ –æ—á–∏—â–µ–Ω–Ω—è –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö
- –°–∫–∏–¥–∞—î IDENTITY counter
- –ù–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î WHERE
- –®–≤–∏–¥—à–µ –∑–∞ DELETE, –∞–ª–µ –º–µ–Ω—à –≥–Ω—É—á–∫–µ

**Best Practices**:

1. –ó–∞–≤–∂–¥–∏ —Ä–æ–±—ñ—Ç—å backup –ø–µ—Ä–µ–¥ DDL –Ω–∞ production
2. –¢–µ—Å—Ç—É–π—Ç–µ –∑–º—ñ–Ω–∏ –Ω–∞ –∫–æ–ø—ñ—ó –ë–î
3. –î–æ–∫—É–º–µ–Ω—Ç—É–π—Ç–µ –≤—Å—ñ –º—ñ–≥—Ä–∞—Ü—ñ—ó —Å—Ö–µ–º–∏
4. –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø–µ—Ä–µ–¥ –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º
5. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ–π

::

---

**–ü–æ–≤'—è–∑–∞–Ω—ñ —Ç–µ–º–∏**:

- [–ü–æ–ø–µ—Ä–µ–¥–Ω—è: CREATE TABLE](./01.ddl-create-table.md)
- [–ù–∞—Å—Ç—É–ø–Ω–∞: SELECT –∑–∞–ø–∏—Ç–∏ - –û—Å–Ω–æ–≤–∏](./03.select-queries-fundamentals.md)
- [–Ü–Ω–¥–µ–∫—Å–∏ –≤ SQL Server](../02.ms-sql-server-start/02.indexes.md)
