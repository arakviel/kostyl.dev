---
title: "–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ URL —Ç–∞ CRUD-–æ–ø–µ—Ä–∞—Ü—ñ—ó"
description: "–ü—Ä–∞–≤–∏–ª–∞ –ø–æ–±—É–¥–æ–≤–∏ URL —Ä–µ—Å—É—Ä—Å—ñ–≤: path vs query, –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è, –∫—Ä–æ—Å–¥–æ–º–µ–Ω–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó. CRUD ‚Äî Create, Read, Update, Delete ‚Äî —Ç–∞ —á–æ–º—É –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ 8-10 –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ –∑–∞–º—ñ—Å—Ç—å —á–æ—Ç–∏—Ä—å–æ—Ö."
---

# –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ URL —Ç–∞ CRUD-–æ–ø–µ—Ä–∞—Ü—ñ—ó

::note
–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏ HTTP —ñ URL **–Ω–µ –¥–∏–∫—Ç—É—é—Ç—å** –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª –ø–æ–±—É–¥–æ–≤–∏ URL. –ü—Ä–∞–≤–∏–ª–∞, —è–∫—ñ –≤–∏ –∑—É—Å—Ç—Ä—ñ–Ω–µ—Ç–µ –Ω–∏–∂—á–µ, —ñ—Å–Ω—É—é—Ç—å _–≤–∏–∫–ª—é—á–Ω–æ_ –¥–ª—è —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ –∫–æ–¥—É —Ç–∞ –∑—Ä—É—á–Ω–æ—Å—Ç—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞. –ê–ª–µ —Ü–µ –Ω–µ —Ä–æ–±–∏—Ç—å —ó—Ö –º–µ–Ω—à –≤–∞–∂–ª–∏–≤–∏–º–∏ ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –¥–∏–∑–∞–π–Ω URL –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –¥–∏–∑–∞–π–Ω API.
::

## 1. –°–µ–º–∞–Ω—Ç–∏–∫–∞ —á–∞—Å—Ç–∏–Ω URL

–¢—Ä–∞–¥–∏—Ü—ñ–π–Ω–æ —á–∞—Å—Ç–∏–Ω–∞–º URL –ø—Ä–∏–ø–∏—Å—É—î—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∞:

| –ß–∞—Å—Ç–∏–Ω–∞ | –°–µ–º–∞–Ω—Ç–∏–∫–∞ | –ü—Ä–∏–∫–ª–∞–¥ |
|:---|:---|:---|
| **Path** | –°—Ç—Ä–æ–≥–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è (–≤–∫–ª–∞–¥–µ–Ω—ñ—Å—Ç—å) | `/v1/places/{id}/coffee-machines/{id}` |
| **Query** | –ù–µ—Å—Ç—Ä–æ–≥–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó | `/v1/recipes?partner_id=42` |

### Path: —ñ—î—Ä–∞—Ä—Ö—ñ—è ¬´–Ω–∞–ª–µ–∂–∏—Ç—å¬ª

–ß–∞—Å—Ç–∏–Ω–∏ path –æ–ø–∏—Å—É—é—Ç—å **—Å—Ç—Ä–æ–≥—É –ø—ñ–¥–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω—ñ—Å—Ç—å** ‚Äî –æ–¥–Ω–∞ —Å—É—Ç–Ω—ñ—Å—Ç—å _–Ω–∞–ª–µ–∂–∏—Ç—å_ —ñ–Ω—à—ñ–π:

```csharp [Path ‚Äî —Å—Ç—Ä–æ–≥–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è]
// –ö–∞–≤–æ–≤–∞ –º–∞—à–∏–Ω–∞ –ù–ê–õ–ï–ñ–ò–¢–¨ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∑–∞–∫–ª–∞–¥—É
app.MapGet(
    "/v1/places/{placeId}/coffee-machines/{machineId}",
    (int placeId, int machineId) =>
{
    var machine = db.GetMachine(placeId, machineId);
    return machine is not null
        ? Results.Ok(machine)
        : Results.NotFound();
});

// –®–ª—è—Ö –º–æ–∂–µ –Ω–∞—Ä–æ—â—É–≤–∞—Ç–∏—Å—è: –≤–∫–ª–∞–¥–µ–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏
// –í–∫–ª–∞–¥–µ–Ω–Ω—è –Ω–∞ –∫–æ–∂–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ ‚Äî —á—ñ—Ç–∫–µ –ø—ñ–¥–ø–æ—Ä—è–¥–∫—É–≤–∞–Ω–Ω—è
app.MapGet(
    "/v1/places/{placeId}/coffee-machines/{machineId}/attachments/{attachmentId}",
    (int placeId, int machineId, int attachmentId) =>
    Results.Ok(new { placeId, machineId, attachmentId }));
```

### Query: —Ñ—ñ–ª—å—Ç—Ä–∏ —Ç–∞ ¬´–±–∞–≥–∞—Ç–æ-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö¬ª

Query –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–≤'—è–∑–∫—ñ–≤ **¬´–±–∞–≥–∞—Ç–æ-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö¬ª** —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –æ–ø–µ—Ä–∞—Ü—ñ–π:

```csharp [Query ‚Äî –Ω–µ—Å—Ç—Ä–æ–≥–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è]
// –†–µ—Ü–µ–ø—Ç –º–æ–∂–µ –Ω–∞–ª–µ–∂–∞—Ç–∏ –ö–Ü–õ–¨–ö–û–ú –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º
// ‚Üí –Ω–µ—Å—Ç—Ä–æ–≥–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è ‚Üí query
app.MapGet("/v1/recipes", (int? partner_id) =>
{
    var recipes = partner_id.HasValue
        ? db.GetRecipesByPartner(partner_id.Value)
        : db.GetAllRecipes();
    return Results.Ok(recipes);
});

// –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –ø–æ—à—É–∫—É ‚Äî —Ç–µ–∂ query
app.MapGet("/v1/search", 
    (string? recipe, double? lat, double? lng) =>
{
    return Results.Ok(new { recipe, lat, lng });
});
```

::tip
**–ó –∫–Ω–∏–≥–∏ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–≤–∞:** –Ø–∫—â–æ —î —Å—É–º–Ω—ñ–≤–∏, —á–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—è –∑–∞–ª–∏—à–∏—Ç—å—Å—è –Ω–µ–∑–º—ñ–Ω–Ω–æ—é –≤ —Ö–æ–¥—ñ —Ä–æ–∑–≤–∏—Ç–∫—É API, –∫—Ä–∞—â–µ –∑–∞–≤–µ—Å—Ç–∏ –Ω–æ–≤–∏–π –≤–µ—Ä—Ö–Ω—å–æ—Ä—ñ–≤–Ω–µ–≤–∏–π –ø—Ä–µ—Ñ—ñ–∫—Å, –∞ –Ω–µ –≤–∫–ª–∞–¥–∞—Ç–∏ –Ω–æ–≤—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ —É –≤–∂–µ —ñ—Å–Ω—É—é—á—ñ.
::

---

## 2. –í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è API

–î–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ –≤–µ—Ä—Å—ñ—é API? –ö–Ω–∏–≥–∞ —Ä–æ–∑–≥–ª—è–¥–∞—î —Ç—Ä–∏ –≤–∞—Ä—ñ–∞–Ω—Ç–∏:

::tabs

::tabs-item{label="‚úÖ –í path (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)"}
```
GET /v1/orders/42
GET /v2/orders/42
```

**–ß–æ–º—É:** –£—Å—ñ —ñ–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –º–∞—é—Ç—å —Å–µ–Ω—Å –ª–∏—à–µ —è–∫—â–æ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ URL –ø—Ä–∏ –∑–º—ñ–Ω—ñ –≤–µ—Ä—Å—ñ—ó –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ç—ñ—î—é —Å–∞–º–æ—é. –ê–ª–µ —è–∫—â–æ URL –º–æ–∂–Ω–∞ –∑–±–µ—Ä–µ–≥—Ç–∏ ‚Äî –Ω–µ–º–∞—î –ø–æ—Ç—Ä–µ–±–∏ –ø–æ—Ä—É—à—É–≤–∞—Ç–∏ –∑–≤–æ—Ä–æ—Ç–Ω—É —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å.

```csharp
app.MapGet("/v1/orders/{id}", (int id) =>
    Results.Ok(new { id, format = "v1" }));

app.MapGet("/v2/orders/{id}", (int id) =>
    Results.Ok(new { id, format = "v2", 
        metadata = new { created_at = DateTime.UtcNow } }));
```
::

::tabs-item{label="–í query"}
```
GET /orders/42?version=1
```

–î–æ–ø—É—Å—Ç–∏–º–æ, –∞–ª–µ –º–µ–Ω—à —á–∏—Ç–∞–±–µ–ª—å–Ω–æ –≤ –ª–æ–≥–∞—Ö —ñ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É.
::

::tabs-item{label="–í –∑–∞–≥–æ–ª–æ–≤–∫—É"}
```http
GET /orders/42 HTTP/1.1
X-CoffeeAPI-Version: 1
```

–î–æ–ø—É—Å—Ç–∏–º–æ, –∞–ª–µ –Ω–µ–≤–∏–¥–∏–º–æ –≤ URL, —É—Å–∫–ª–∞–¥–Ω—é—î –¥–µ–±–∞–≥—ñ–Ω–≥.
::

::

---

## 3. –ö—Ä–æ—Å–¥–æ–º–µ–Ω–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó

–Ø–∫ –ø–æ–±—É–¥—É–≤–∞—Ç–∏ URL –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ—ó, —â–æ –∑–∞—á—ñ–ø–∞—î —Å—É—Ç–Ω–æ—Å—Ç—ñ —Ä—ñ–∑–Ω–∏—Ö —Ä—ñ–≤–Ω—ñ–≤ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó? –ù–∞–ø—Ä–∏–∫–ª–∞–¥: ¬´–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è –ª—É–Ω–≥–æ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ–π –∫–∞–≤–æ–≤—ñ–π –º–∞—à–∏–Ω—ñ¬ª.

–ú–æ–∂–ª–∏–≤—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏:

```
/coffee-machines/{id}/recipes/lungo/prepare
/recipes/lungo/coffee-machines/{id}/prepare
/coffee-machines/{id}/prepare?recipe=lungo
/recipes/lungo/prepare?coffee_machine_id={id}
/prepare?coffee_machine_id={id}&recipe=lungo
```

–£—Å—ñ –≤–æ–Ω–∏ —Å–µ–º–∞–Ω—Ç–∏—á–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ñ —ñ —Ä—ñ–≤–Ω–æ–ø—Ä–∞–≤–Ω—ñ.

::warning
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è –∑ –∫–Ω–∏–≥–∏:** –î–ª—è –∫—Ä–æ—Å–¥–æ–º–µ–Ω–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –∫—Ä–∞—â–µ –∑–∞–≤–µ—Å—Ç–∏ **–æ–∫—Ä–µ–º–∏–π —Ä–µ—Å—É—Ä—Å**, —â–æ –≤–∏–∫–æ–Ω—É—î –æ–ø–µ—Ä–∞—Ü—ñ—é. –ê–≤—Ç–æ—Ä –∫–Ω–∏–≥–∏ –æ–±—Ä–∞–≤ –±–∏ `/prepare?coffee_machine_id={id}&recipe=lungo`.
::

```csharp [–ö—Ä–æ—Å–¥–æ–º–µ–Ω–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è]
// –û–∫—Ä–µ–º–∏–π —Ä–µ—Å—É—Ä—Å –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è
app.MapPost("/v1/prepare", 
    (PrepareRequest req) =>
{
    // coffee_machine_id —ñ recipe ‚Äî
    // —Å—É—Ç–Ω–æ—Å—Ç—ñ —Ä—ñ–∑–Ω–∏—Ö —Ä—ñ–≤–Ω—ñ–≤ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó
    var result = coffeeService.Prepare(
        req.CoffeeMachineId, req.Recipe);

    return Results.Created(
        $"/v1/orders/{result.OrderId}", result);
});

record PrepareRequest(
    int CoffeeMachineId, 
    string Recipe);
```

---

## 4. –î—ñ—î—Å–ª–æ–≤–∞ –≤ URL: –¥–æ–∑–≤–æ–ª–µ–Ω—ñ —á–∏ –Ω—ñ?

::card-group

::card{title="–ü–æ–ø—É–ª—è—Ä–Ω–∞ –¥—É–º–∫–∞" icon="i-lucide-quote"}
¬´URL –ø–æ–≤–∏–Ω–Ω—ñ –º—ñ—Å—Ç–∏—Ç–∏ –ª–∏—à–µ —ñ–º–µ–Ω–Ω–∏–∫–∏. –î—ñ—î—Å–ª–æ–≤–∞ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ, –±–æ –¥—ñ—î—Å–ª–æ–≤–æ –≤–∂–µ —î ‚Äî —Ü–µ HTTP-–º–µ—Ç–æ–¥.¬ª
::

::card{title="–†–µ–∞–ª—å–Ω—ñ—Å—Ç—å (–∑ –∫–Ω–∏–≥–∏)" icon="i-lucide-check"}
–¶–µ **—Å–∞–º–æ–ø—Ä–æ–≥–æ–ª–æ—à–µ–Ω–µ** –ø—Ä–∞–≤–∏–ª–æ, —è–∫–µ –Ω–µ —î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º. –ó–∞–º—ñ–Ω–∞ `/prepare` –Ω–∞ `/preparator` –¥–æ–¥–∞—î –≤—ñ–∑—É–∞–ª—å–Ω–æ–≥–æ —à—É–º—É —Å—É—Ñ—ñ–∫—Å–∞–º–∏ ¬´-ator¬ª, ¬´-er¬ª, –∞–ª–µ –Ω–µ –ø–æ–∫—Ä–∞—â—É—î –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ñ—Å—Ç—å. –í–æ–¥–Ω–æ—á–∞—Å, –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ç–∏–≤–Ω–µ —ñ–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è —Ü—å–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ —Ç–µ–∂ –Ω–µ–±–∞–∂–∞–Ω–µ.
::

::

---

## 5. CRUD: –í—ñ–¥ –º–Ω–µ–º–æ–Ω—ñ–∫–∏ –¥–æ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—ñ

–ê–∫—Ä–æ–Ω—ñ–º **CRUD** (Create, Read, Update, Delete) —Å—Ç–∞–≤ –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω–∏–º –∑ —Ä–æ–∑–≤–∏—Ç–∫–æ–º HTTP API. –Ü–¥–µ—è –ø—Ä–æ—Å—Ç–∞: –∫–æ–∂–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –Ω–∞–¥ —Ä–µ—Å—É—Ä—Å–æ–º ¬´–≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î¬ª HTTP-–º–µ—Ç–æ–¥—É:

| CRUD | HTTP-–º–µ—Ç–æ–¥ | URL |
|:---|:---|:---|
| **C**reate | `POST` | `/v1/orders` |
| **R**ead | `GET` | `/v1/orders/{id}` |
| **U**pdate | `PUT` / `PATCH` | `/v1/orders/{id}` |
| **D**elete | `DELETE` | `/v1/orders/{id}` |

–¶–µ –∑—Ä—É—á–Ω–∞ **—Å—Ç–∞—Ä—Ç–æ–≤–∞ –º–Ω–µ–º–æ–Ω—ñ–∫–∞** ‚Äî ¬´2 URL, 4 –º–µ—Ç–æ–¥–∏¬ª. –ê–ª–µ –∫–Ω–∏–≥–∞ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–≤–∞ –ø–æ–ø–µ—Ä–µ–¥–∂–∞—î: —É —Å–∫–ª–∞–¥–Ω–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–Ω–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö ¬´–∑—Ä—ñ–∑–∞–Ω–Ω—è –∫—É—Ç—ñ–≤¬ª —ñ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º–Ω–µ–º–æ–Ω—ñ—á–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª **—Ä—ñ–¥–∫–æ –ø—Ä–∞—Ü—é—î**. –ù–∏–∂—á–µ ‚Äî –ø–æ–∫—Ä–æ–∫–æ–≤–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è, —è–∫ –∫–æ–∂–Ω–∞ CRUD-–æ–ø–µ—Ä–∞—Ü—ñ—è —É—Å–∫–ª–∞–¥–Ω—é—î—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ.

---

### 5.1. Create ‚Äî –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É

#### –ù–∞—ó–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥

```http
POST /v1/orders HTTP/1.1
Content-Type: application/json

{"recipe": "lungo", "coffee_machine_id": 42}
‚Üí
HTTP/1.1 201 Created
Location: /v1/orders/42
```

–í—Å–µ –≤–∏–≥–ª—è–¥–∞—î –ø—Ä–æ—Å—Ç–æ ‚Äî –æ–¥–∏–Ω POST, –æ–¥–∏–Ω 201. –ê–ª–µ —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ **–º–µ—Ä–µ–∂–∞ –æ–±—ñ—Ä–≤–µ—Ç—å—Å—è** –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ —Å–µ—Ä–≤–µ—Ä —Å—Ç–≤–æ—Ä–∏–≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –∞–ª–µ _–¥–æ_ —Ç–æ–≥–æ, —è–∫ –∫–ª—ñ—î–Ω—Ç –æ—Ç—Ä–∏–º–∞–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥—å?

#### –ü—Ä–æ–±–ª–µ–º–∞: –≤—Ç—Ä–∞—Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

```
üì± –ö–ª—ñ—î–Ω—Ç ‚Üí POST /v1/orders ‚Üí –°–µ—Ä–≤–µ—Ä (—Å—Ç–≤–æ—Ä–∏–≤ #42)
üì± –ö–ª—ñ—î–Ω—Ç ‚Üê ??? ‚Üê üåê –û–ë–†–ò–í! ‚Üê –°–µ—Ä–≤–µ—Ä (–≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—Ç—Ä–∞—á–µ–Ω–∞)
```

–ö–ª—ñ—î–Ω—Ç –Ω–µ –∑–Ω–∞—î, —á–∏ –±—É–ª–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –Ø–∫—â–æ –≤—ñ–Ω –ø–æ–≤—Ç–æ—Ä–∏—Ç—å POST ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç—å—Å—è **–¥—É–±–ª—ñ–∫–∞—Ç** (#43). –Ø–∫—â–æ –Ω–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å ‚Äî –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –º–æ–∂–µ –±—É—Ç–∏ ¬´–∑–∞–≥—É–±–ª–µ–Ω–µ¬ª.

#### –†—ñ—à–µ–Ω–Ω—è: —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

–¢—Ä–∏ –ø—ñ–¥—Ö–æ–¥–∏ –≤—ñ–¥ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–æ–≥–æ –¥–æ –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–æ–≥–æ:

::tabs

::tabs-item{label="POST + If-Match (—Ä–µ–≤—ñ–∑—ñ—è)"}

–ö–ª—ñ—î–Ω—Ç —Å–ø–æ—á–∞—Ç–∫—É –æ—Ç—Ä–∏–º—É—î ETag (—Ä–µ–≤—ñ–∑—ñ—é) –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É, –∞ –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–¥–∞—î –π–æ–≥–æ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ:

```http
GET /v1/orders?user_id=42 HTTP/1.1
‚Üí
HTTP/1.1 200 OK
ETag: "rev1"
```

```http
POST /v1/orders?user_id=42 HTTP/1.1
If-Match: "rev1"

{"recipe": "lungo"}
‚Üí
HTTP/1.1 201 Created
ETag: "rev2"
```

–Ø–∫—â–æ –∫–ª—ñ—î–Ω—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø–∏—Ç –∑ `If-Match: "rev1"` ‚Äî —Å–µ—Ä–≤–µ—Ä –ø–æ–≤–µ—Ä–Ω–µ `412 Precondition Failed`, –±–æ —Ä–µ–≤—ñ–∑—ñ—è –≤–∂–µ `"rev2"`.

```csharp
app.MapPost("/v1/orders", 
    (OrderRequest req, HttpContext ctx) =>
{
    var ifMatch = ctx.Request.Headers
        .IfMatch.FirstOrDefault();

    var currentRevision = db.GetOrdersRevision(
        req.UserId);
    if (ifMatch is not null 
        && ifMatch != $"\"{currentRevision}\"")
    {
        // –†–µ–≤—ñ–∑—ñ—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∞ ‚Äî –¥—É–±–ª—ñ–∫–∞—Ç –Ω–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è
        return Results.StatusCode(412);
    }

    var order = db.CreateOrder(req);
    return Results.Created(
        $"/v1/orders/{order.Id}", order);
});
```
::

::tabs-item{label="PUT (–∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π ID)"}

–ö–ª—ñ—î–Ω—Ç —Å–∞–º –≥–µ–Ω–µ—Ä—É—î ID (UUID). PUT –∑–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π:

```http
PUT /v1/orders/550e8400-e29b-41d4-a716-446655440000 HTTP/1.1

{"recipe": "lungo", "coffee_machine_id": 42}
‚Üí
HTTP/1.1 201 Created
```

–ü–æ–≤—Ç–æ—Ä–Ω–∏–π PUT –∑ —Ç–∏–º —Å–∞–º–∏–º UUID ‚Äî –æ–Ω–æ–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å —Ç–∏–º–∏ —Å–∞–º–∏–º–∏ –¥–∞–Ω–∏–º–∏. –î—É–±–ª—ñ–∫–∞—Ç –Ω–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è.

```csharp
app.MapPut("/v1/orders/{id}", 
    (Guid id, OrderRequest req) =>
{
    if (db.OrderExists(id))
        return Results.Ok(db.GetOrder(id));

    var order = db.CreateOrder(id, req);
    return Results.Created(
        $"/v1/orders/{order.Id}", order);
});
```

::warning
**–ù–µ–¥–æ–ª—ñ–∫:** –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–≤—ñ—Ä—è—Ç–∏ –∫–ª—ñ—î–Ω—Ç—É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é ID. –ü—Ä–∞—Ü—é—î –¥–ª—è UUID, –∞–ª–µ –Ω–µ –¥–ª—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏—Ö —á–∏—Å–ª–æ–≤–∏—Ö ID.
::
::

::tabs-item{label="‚úÖ –ß–µ—Ä–Ω–µ—Ç–∫–∞ + –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è (draft-commit)"}

–ù–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑ –∫–Ω–∏–≥–∏. –†–æ–∑–¥—ñ–ª—è—î–º–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞ –¥–≤–∞ –∫—Ä–æ–∫–∏:

**–ö—Ä–æ–∫ 1 ‚Äî POST** —Å—Ç–≤–æ—Ä—é—î ¬´–ª–µ–≥–∫—É¬ª —á–µ—Ä–Ω–µ—Ç–∫—É. –ù–∞–≤—ñ—Ç—å —è–∫—â–æ —Å—Ç–≤–æ—Ä—è—Ç—å—Å—è –¥—É–±–ª—ñ–∫–∞—Ç–∏ —á–µ—Ä–Ω–µ—Ç–æ–∫ ‚Äî —Ü–µ –Ω–µ —Å—Ç—Ä–∞—à–Ω–æ, –±–æ —á–µ—Ä–Ω–µ—Ç–∫–∏ –Ω–µ —î —Ä–µ–∞–ª—å–Ω–∏–º–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏.

```http
POST /v1/orders/drafts HTTP/1.1

{"recipe": "lungo", "coffee_machine_id": 42}
‚Üí
HTTP/1.1 201 Created
Location: /v1/orders/drafts/abc-123
```

**–ö—Ä–æ–∫ 2 ‚Äî PUT** –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î —á–µ—Ä–Ω–µ—Ç–∫—É. PUT —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω–∏–π –≤–∏–∫–ª–∏–∫ –±–µ–∑–ø–µ—á–Ω–∏–π!

```http
PUT /v1/orders/drafts/abc-123/commit HTTP/1.1
‚Üí
HTTP/1.1 201 Created
Location: /v1/orders/42
```

```csharp
// –ö—Ä–æ–∫ 1: —á–µ—Ä–Ω–µ—Ç–∫–∞ (POST ‚Äî –Ω–µ—ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π, –∞–ª–µ ¬´–ª–µ–≥–∫–∏–π¬ª)
app.MapPost("/v1/orders/drafts", 
    (OrderDraft draft) =>
{
    var id = db.CreateDraft(draft);
    return Results.Created(
        $"/v1/orders/drafts/{id}", 
        new { id });
});

// –ö—Ä–æ–∫ 2: –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è (PUT ‚Äî —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π!)
app.MapPut("/v1/orders/drafts/{id}/commit", 
    (Guid id) =>
{
    var draft = db.GetDraft(id);
    if (draft is null)
        return Results.NotFound();

    // –í–∂–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞? –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
    if (draft.CommittedOrderId is not null)
        return Results.Ok(
            db.GetOrder(draft.CommittedOrderId.Value));

    var order = db.CommitDraft(id);
    return Results.Created(
        $"/v1/orders/{order.Id}", order);
});
```

**–ü–µ—Ä–µ–≤–∞–≥–∞:** –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —á–µ—Ä–Ω–µ—Ç–∫–∏ –æ—á–∏—â—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (TTL). –†–µ–∞–ª—å–Ω–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äî –∑–∞–≤–∂–¥–∏ –æ–¥–Ω–µ.
::

::

---

### 5.2. Read ‚Äî –ß–∏—Ç–∞–Ω–Ω—è, –ø–æ—à—É–∫, –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è

¬´–ü—Ä–æ—Å—Ç–∏–π¬ª GET —à–≤–∏–¥–∫–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ —Ä–æ–¥–∏–Ω—É –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤.

#### –ï–≤–æ–ª—é—Ü—ñ—è Read

::steps

### –û—Ç—Ä–∏–º–∞—Ç–∏ –æ–¥–∏–Ω —Ä–µ—Å—É—Ä—Å

–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ ‚Äî –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ—Å—É—Ä—Å –∑–∞ ID:

```csharp
app.MapGet("/v1/orders/{id}", (int id) =>
{
    var order = db.GetOrder(id);
    return order is not null
        ? Results.Ok(order)
        : Results.NotFound();
});
```

### –°–ø–∏—Å–æ–∫ —Ä–µ—Å—É—Ä—Å—ñ–≤

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ö–æ—á–µ –±–∞—á–∏—Ç–∏ **–≤—Å—ñ** —Å–≤–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:

```csharp
app.MapGet("/v1/orders", (int user_id) =>
    Results.Ok(db.GetOrders(user_id)));
```

‚ö†Ô∏è **–ü—Ä–æ–±–ª–µ–º–∞:** —è–∫—â–æ –∑–∞–º–æ–≤–ª–µ–Ω—å 10 000 ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑–∞–π–º–µ –º–µ–≥–∞–±–∞–π—Ç–∏. –ü–æ—Ç—Ä—ñ–±–Ω–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è!

### –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è

```csharp
app.MapGet("/v1/orders", 
    (int user_id, string? cursor, int? limit) =>
{
    // –û–±–º–µ–∂—É—î–º–æ –º–∞–∫—Å–∏–º—É–º ‚Äî –±–µ–∑ —Ü—å–æ–≥–æ –∫–ª—ñ—î–Ω—Ç 
    // –º–æ–∂–µ –∑–∞–ø—Ä–æ—Å–∏—Ç–∏ –º—ñ–ª—å–π–æ–Ω –∑–∞–ø–∏—Å—ñ–≤!
    var safeLimit = Math.Clamp(limit ?? 20, 1, 100);
    
    var result = db.GetOrdersPaged(
        user_id, cursor, safeLimit);
    return Results.Ok(new 
    { 
        items = result.Items,
        total = result.Total,
        next_cursor = result.NextCursor 
    });
});
```

### –§—ñ–ª—å—Ç—Ä–∏ —á–µ—Ä–µ–∑ query

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ö–æ—á–µ –±–∞—á–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ª—É–Ω–≥–æ:

```
GET /v1/orders?user_id=42&recipe=lungo
```

```csharp
app.MapGet("/v1/orders",
    (int user_id, string? recipe, string? status,
     string? cursor, int? limit) =>
{
    var safeLimit = Math.Clamp(limit ?? 20, 1, 100);
    return Results.Ok(
        db.SearchOrders(
            user_id, recipe, status, cursor, safeLimit));
});
```

### –°–∫–ª–∞–¥–Ω–∏–π –ø–æ—à—É–∫ ‚Äî —á–µ—Ä–µ–∑ POST

–Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ö–æ—á–µ –æ–¥–Ω–æ—á–∞—Å–Ω–æ ¬´—ñ –ª–∞—Ç—Ç–µ, —ñ –ª—É–Ω–≥–æ, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ–π —Ç–∏–∂–¥–µ–Ω—å, –≤ —Ä–∞–¥—ñ—É—Å—ñ 5 –∫–º¬ª ‚Äî query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –Ω–µ –≤–∏—Å—Ç–∞—á–∏—Ç—å. –ó–∞–≥–∞–ª—å–Ω–æ–ø—Ä–∏–π–Ω—è—Ç–æ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –ø–µ—Ä–µ–¥–∞—á—ñ —Å–∫–ª–∞–¥–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä —á–µ—Ä–µ–∑ URL **–Ω–µ —ñ—Å–Ω—É—î**.

```csharp
// POST –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö —Ñ—ñ–ª—å—Ç—Ä—ñ–≤
app.MapPost("/v1/orders/search", (SearchRequest req) =>
{
    // POST, –±–æ —Ñ—ñ–ª—å—Ç—Ä–∏ ‚Äî —Å–∫–ª–∞–¥–Ω–∏–π JSON-–æ–±'—î–∫—Ç
    return Results.Ok(db.Search(req));
});

record SearchRequest(
    int UserId,
    string[]? Recipes,       // ["latte", "lungo"]
    DateOnly? CreatedAfter,
    GeoPoint? NearLocation,
    double? RadiusKm,
    string? Cursor,
    int Limit = 20);
```

::

::note
**–ó –∫–Ω–∏–≥–∏ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–≤–∞:** –ó–∞–≥–∞–ª—å–Ω–æ–ø—Ä–∏–π–Ω—è—Ç–æ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –ø–µ—Ä–µ–¥–∞—á—ñ –≤ URL —Å–∫–ª–∞–¥–Ω—ñ—à–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä, –Ω—ñ–∂ –ø–∞—Ä–∏ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è, –Ω–µ —ñ—Å–Ω—É—î. –¢–æ–º—É –¥–æ–≤–æ–ª—å–Ω–æ —Å–∫–æ—Ä–æ –ø–æ—Ä—è–¥ –∑ –¥–æ—Å—Ç—É–ø–æ–º –∑–∞ ID –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –∏ –ø–æ—à—É–∫–æ–≤–∏–π –µ–Ω–¥–ø–æ—ñ–Ω—Ç –∑ —Å–∫–ª–∞–¥–Ω–æ—é —Å–µ–º–∞–Ω—Ç–∏–∫–æ—é, —è–∫—É –Ω–∞–±–∞–≥–∞—Ç–æ –∑—Ä—É—á–Ω—ñ—à–µ —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ –∑–∞ `POST`.
::

---

### 5.3. Update ‚Äî –ß–∞—Å—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

–ü–æ–≤–Ω–∞ –∑–∞–º—ñ–Ω–∞ —Ä–µ—Å—É—Ä—Å—É —á–µ—Ä–µ–∑ `PUT` –∑–¥–∞—î—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ—é. –ê–ª–µ –≤–æ–Ω–∞ —à–≤–∏–¥–∫–æ **–Ω–∞—à—Ç–æ–≤—Ö—É—î—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏**:

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏–∫–ª–∞–¥ |
|:---|:---|
| **–û–±—á–∏—Å–ª—é–≤–∞–Ω—ñ –ø–æ–ª—è** | `total_price` —Ä–∞—Ö—É—î—Ç—å—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º. –©–æ —Ä–æ–±–∏—Ç–∏, —è–∫—â–æ –∫–ª—ñ—î–Ω—Ç –ø–µ—Ä–µ–¥–∞—Å—Ç—å —ñ–Ω—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è? |
| **–ù–µ–∑–º—ñ–Ω–Ω—ñ –ø–æ–ª—è** | `created_at` –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏. –ö–ª—ñ—î–Ω—Ç –ø–æ–≤–∏–Ω–µ–Ω –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –π–æ–≥–æ –≤ PUT? |
| **–í–µ–ª–∏–∫–∏–π –æ–±—Å—è–≥** | –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ 50 –ø–æ–ª—è–º–∏ ‚Äî –±–µ–∑ –∑–º—ñ–Ω —É 49 –∑ –Ω–∏—Ö? |
| **–°–ø—ñ–ª—å–Ω–µ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è** | –î–≤–∞ –∫–ª—ñ—î–Ω—Ç–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ —Ä–µ–¥–∞–≥—É—é—Ç—å —Ä—ñ–∑–Ω—ñ –ø–æ–ª—è ‚Äî —Ö—Ç–æ –ø–µ—Ä–µ–º–æ–∂–µ? |

–¢—Ä–∏ –ø—ñ–¥—Ö–æ–¥–∏ –≤—ñ–¥ –∫–Ω–∏–≥–∏:

::tabs

::tabs-item{label="PUT ‚Äî –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü—ñ—è –Ω–∞ —Å—É–±—Ä–µ—Å—É—Ä—Å–∏"}

–ó–∞–º—ñ—Å—Ç—å –æ–¥–Ω–æ–≥–æ `PUT /v1/orders/{id}` ‚Äî –æ–∫—Ä–µ–º–∏–π —Ä–µ—Å—É—Ä—Å –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∞—Å–ø–µ–∫—Ç—É:

```csharp
// –ó–º—ñ–Ω–∏—Ç–∏ –∞–¥—Ä–µ—Å—É –¥–æ—Å—Ç–∞–≤–∫–∏
app.MapPut("/v1/orders/{id}/address", 
    (int id, AddressUpdate addr) =>
{
    var order = db.GetOrder(id);
    if (order is null) return Results.NotFound();
    
    db.UpdateOrderAddress(id, addr);
    return Results.Ok(new { id, address = addr });
});

// –ó–º—ñ–Ω–∏—Ç–∏ –æ–±'—î–º
app.MapPut("/v1/orders/{id}/volume", 
    (int id, VolumeUpdate vol) =>
{
    var order = db.GetOrder(id);
    if (order is null) return Results.NotFound();
    
    db.UpdateOrderVolume(id, vol);
    return Results.Ok(new { id, volume = vol });
});
```

**–ü–µ—Ä–µ–≤–∞–≥–∞:** –∫–æ–∂–µ–Ω PUT —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π. –ö–æ–∂–µ–Ω —Å—É–±—Ä–µ—Å—É—Ä—Å ‚Äî –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–π.
**–ù–µ–¥–æ–ª—ñ–∫:** –±–∞–≥–∞—Ç–æ –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Å—É—Ç–Ω–æ—Å—Ç–µ–π.
::

::tabs-item{label="PATCH ‚Äî —á–∞—Å—Ç–∫–æ–≤–∞ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è"}

PATCH –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–¥–∞—Ç–∏ _—Ç—ñ–ª—å–∫–∏ –∑–º—ñ–Ω–µ–Ω—ñ_ –ø–æ–ª—è:

```http
PATCH /v1/orders/42 HTTP/1.1
Content-Type: application/json

{"recipe": "americano"}
‚Üí
HTTP/1.1 200 OK
{"id": 42, "recipe": "americano", "volume": "350ml", ...}
```

```csharp
app.MapPatch("/v1/orders/{id}", 
    (int id, JsonElement patch) =>
{
    var order = db.GetOrder(id);
    if (order is null) return Results.NotFound();

    // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–¥–∞–Ω—ñ –ø–æ–ª—è
    if (patch.TryGetProperty("recipe", out var recipe))
        order.Recipe = recipe.GetString()!;
    if (patch.TryGetProperty("volume", out var volume))
        order.Volume = volume.GetString()!;

    db.SaveOrder(order);
    return Results.Ok(order);
});
```

::warning
**–£–≤–∞–≥–∞:** PATCH –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º **–Ω–µ—ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π** —ñ –º–æ–∂–µ –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ –ø–æ—Ä—è–¥–∫—É –æ–ø–µ—Ä–∞—Ü—ñ–π. –§—Ä–µ–π–º–≤–æ—Ä–∫–∏ HTTP-–∫–ª—ñ—î–Ω—Ç—ñ–≤ –∑–∞–∑–≤–∏—á–∞–π **–Ω–µ –ø–æ–≤—Ç–æ—Ä—é—é—Ç—å** PATCH –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–∞—Ö.
::
::

::tabs-item{label="‚úÖ –ß–µ—Ä–Ω–µ—Ç–∫–∞ –∑–º—ñ–Ω (draft-commit)"}

–ù–∞–π–±–µ–∑–ø–µ—á–Ω—ñ—à–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–ª—è —Å–∫–ª–∞–¥–Ω–æ–≥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è:

```csharp
// –ö—Ä–æ–∫ 1: —Å—Ç–≤–æ—Ä–∏—Ç–∏ —á–µ—Ä–Ω–µ—Ç–∫—É –∑—ñ —Å–ø–∏—Å–∫–æ–º –∑–º—ñ–Ω
app.MapPost("/v1/orders/{id}/drafts", 
    (int id, ChangesDraft changes) =>
{
    var order = db.GetOrder(id);
    if (order is null) return Results.NotFound();

    var draftId = db.CreateChangesDraft(id, changes);
    return Results.Created(
        $"/v1/orders/{id}/drafts/{draftId}",
        new { id = draftId, changes });
});

// –ö—Ä–æ–∫ 2: –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —á–µ—Ä–Ω–µ—Ç–∫—É (—ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ!)
app.MapPut("/v1/orders/{id}/drafts/{draftId}/commit",
    (int id, Guid draftId) =>
{
    var draft = db.GetChangesDraft(draftId);
    if (draft is null) return Results.NotFound();

    // –í–∂–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞? –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    if (draft.IsCommitted)
        return Results.Ok(db.GetOrder(id));

    var order = db.CommitChanges(id, draftId);
    return Results.Ok(order);
});
```

**–ü–µ—Ä–µ–≤–∞–≥–∞:** PUT –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π. –ú–æ–∂–Ω–∞ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —á–µ—Ä–Ω–µ—Ç–∫—É –ø–µ—Ä–µ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º. –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Å–ø—ñ–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è.
::

::

---

### 5.4. Delete ‚Äî –ê—Ä—Ö—ñ–≤–∞—Ü—ñ—è –∑–∞–º—ñ—Å—Ç—å –≤–∏–¥–∞–ª–µ–Ω–Ω—è

::caution
**–ó –∫–Ω–∏–≥–∏ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–≤–∞:** –í —Å—É—á–∞—Å–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å–∞—Ö **–∂–æ–¥–Ω—ñ –¥–∞–Ω—ñ –Ω–µ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è –º–∏—Ç—Ç—î–≤–æ** ‚Äî –ª–∏—à–µ –∞—Ä—Ö—ñ–≤—É—é—Ç—å—Å—è –∞–±–æ –ø–æ–∑–Ω–∞—á–∞—é—Ç—å—Å—è –≤–∏–¥–∞–ª–µ–Ω–∏–º–∏. `DELETE` ‚Äî –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è. –£ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ –∑–∞–º—ñ—Å—Ç—å –Ω–µ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—é.
::

#### –ß–æ–º—É DELETE ‚Äî –ø–æ–≥–∞–Ω–∞ —ñ–¥–µ—è

| –ü—Ä–æ–±–ª–µ–º–∞ | –ù–∞—Å–ª—ñ–¥–æ–∫ |
|:---|:---|
| –§—ñ–Ω–∞–Ω—Å–æ–≤–∞ –∑–≤—ñ—Ç–Ω—ñ—Å—Ç—å | –í–∏–¥–∞–ª–µ–Ω–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∏–∫–∞—î –∑ –±—É—Ö–≥–∞–ª—Ç–µ—Ä—ñ—ó |
| –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ | –î–∞–Ω—ñ –¥–ª—è ML —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤—Ç—Ä–∞—á–µ–Ω—ñ |
| –Æ—Ä–∏–¥–∏—á–Ω—ñ –≤–∏–º–æ–≥–∏ | –ó–∞–∫–æ–Ω–∏ –º–æ–∂—É—Ç—å –≤–∏–º–∞–≥–∞—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö N —Ä–æ–∫—ñ–≤ |
| –ü–æ–º–∏–ª–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ | –í–∏–ø–∞–¥–∫–æ–≤–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –±–µ–∑ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è |
| –ó–æ–≤–Ω—ñ—à–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è | –Ü–Ω—à—ñ —Å–µ—Ä–≤—ñ—Å–∏ –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –Ω–∞ –≤–∏–¥–∞–ª–µ–Ω–∏–π —Ä–µ—Å—É—Ä—Å ‚Üí –ø–æ–º–∏–ª–∫–∏ |

#### –ê—Ä—Ö—ñ–≤–∞—Ü—ñ—è ‚Äî –±–µ–∑–ø–µ—á–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞

```csharp [–ê—Ä—Ö—ñ–≤–∞—Ü—ñ—è –∑–∞–º—ñ—Å—Ç—å –≤–∏–¥–∞–ª–µ–Ω–Ω—è]
// ‚ùå –°–ø—Ä–∞–≤–∂–Ω—î –≤–∏–¥–∞–ª–µ–Ω–Ω—è ‚Äî –º–∞–π–∂–µ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ
app.MapDelete("/v1/orders/{id}", (int id) =>
{
    db.HardDelete(id); // –î–∞–Ω—ñ –≤—Ç—Ä–∞—á–µ–Ω—ñ –ù–ê–ó–ê–í–ñ–î–ò!
    return Results.NoContent();
});

// ‚úÖ –ê—Ä—Ö—ñ–≤–∞—Ü—ñ—è ‚Äî –±–µ–∑–ø–µ—á–Ω–∏–π —ñ –∑–≤–æ—Ä–æ—Ç–Ω—ñ–π –ø—ñ–¥—Ö—ñ–¥
app.MapPut("/v1/orders/{id}/archive", (int id) =>
{
    var order = db.GetOrder(id);
    if (order is null) return Results.NotFound();

    db.ArchiveOrder(id);
    return Results.Ok(new 
    { 
        id, 
        status = "archived",
        archived_at = DateTime.UtcNow.ToString("o"),
        can_restore = true 
    });
});

// –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ –∞—Ä—Ö—ñ–≤—É
app.MapPut("/v1/orders/{id}/restore", (int id) =>
{
    var order = db.GetArchivedOrder(id);
    if (order is null) return Results.NotFound();

    db.RestoreOrder(id);
    return Results.Ok(new { id, status = "active" });
});
```

–ß–æ–º—É `PUT`, –∞ –Ω–µ `POST`? –ë–æ –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—è ‚Äî **—ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞** –æ–ø–µ—Ä–∞—Ü—ñ—è. –ü–æ–≤—Ç–æ—Ä–Ω–∏–π –≤–∏–∫–ª–∏–∫ `PUT /v1/orders/42/archive` –Ω–µ –∑–º—ñ–Ω–∏—Ç—å —Å—Ç–∞–Ω ‚Äî –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤–∂–µ –≤ –∞—Ä—Ö—ñ–≤—ñ. `GET /v1/orders/42` –ø—ñ—Å–ª—è –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—ó –º–æ–∂–µ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `410 Gone` (–≤–∏–¥–∞–ª–µ–Ω–æ –Ω–∞–∑–∞–≤–∂–¥–∏) –∞–±–æ `200 OK` –∑ –ø–æ–ª–µ–º `status: "archived"` (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–∞—à–æ—ó –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏).

---

### 5.5. –ú–µ–¥—ñ–∞—Ä–µ—Å—É—Ä—Å–∏ (–≤–∫–ª–∞–¥–µ–Ω–Ω—è)

–Ø–∫—â–æ –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –º–æ–∂–Ω–∞ –ø—Ä–∏–∫–ª–∞—Å—Ç–∏ –º–µ–¥—ñ–∞–¥–∞–Ω—ñ (—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó, –¥–æ–∫—É–º–µ–Ω—Ç–∏), –¥–ª—è –Ω–∏—Ö –ø–æ—Ç—Ä—ñ–±–Ω—ñ **–æ–∫—Ä–µ–º—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏**:

```csharp
// –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω–Ω—è –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
app.MapPost("/v1/orders/{orderId}/attachments", 
    async (int orderId, IFormFile file) =>
{
    var attachmentId = await storage.Upload(
        orderId, file);
    return Results.Created(
        $"/v1/orders/{orderId}/attachments/{attachmentId}",
        new { id = attachmentId, filename = file.FileName });
});

// –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–µ –≤–∫–ª–∞–¥–µ–Ω–Ω—è
app.MapGet(
    "/v1/orders/{orderId}/attachments/{attachmentId}",
    async (int orderId, int attachmentId) =>
{
    var file = await storage.Get(orderId, attachmentId);
    return file is not null
        ? Results.File(file.Stream, file.ContentType)
        : Results.NotFound();
});

// –í–∏–¥–∞–ª–∏—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω–Ω—è
app.MapDelete(
    "/v1/orders/{orderId}/attachments/{attachmentId}",
    async (int orderId, int attachmentId) =>
{
    await storage.Delete(orderId, attachmentId);
    return Results.NoContent();
});
```

---

## 6. CRUD —É —Ä–µ–∞–ª—å–Ω–æ–º—É –∂–∏—Ç—Ç—ñ: –≤—ñ–¥ 2 URL –¥–æ 10

–ú–∏ –ø–æ—á–∞–ª–∏ –∑ —ñ–¥–µ—ó ¬´2 URL, 4 –º–µ—Ç–æ–¥–∏¬ª:

```
POST   /v1/orders          ‚Üí —Å—Ç–≤–æ—Ä–∏—Ç–∏
GET    /v1/orders/{id}     ‚Üí –ø—Ä–æ—á–∏—Ç–∞—Ç–∏
PUT    /v1/orders/{id}     ‚Üí –æ–Ω–æ–≤–∏—Ç–∏
DELETE /v1/orders/{id}     ‚Üí –≤–∏–¥–∞–ª–∏—Ç–∏
```

–ê–ª–µ –∑ –≤–∏–º–æ–≥–∞–º–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ API –º–∏ —à–≤–∏–¥–∫–æ –¥—ñ–π—à–ª–∏ –¥–æ **8-10 URL**:

| # | –ú–µ—Ç–æ–¥ | URL | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|:---|:---|:---|:---|
| 1 | `GET` | `/v1/orders?user_id=‚Ä¶` | –°–ø–∏—Å–æ–∫ –∑–∞–º–æ–≤–ª–µ–Ω—å –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏ |
| 2 | `POST` | `/v1/orders/drafts?user_id=‚Ä¶` | –°—Ç–≤–æ—Ä–∏—Ç–∏ —á–µ—Ä–Ω–µ—Ç–∫—É |
| 3 | `GET` | `/v1/orders/drafts?user_id=‚Ä¶` | –°–ø–∏—Å–æ–∫ —á–µ—Ä–Ω–µ—Ç–æ–∫ + —Ä–µ–≤—ñ–∑—ñ—è |
| 4 | `PUT` | `/v1/orders/drafts/{id}/commit` | –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —á–µ—Ä–Ω–µ—Ç–∫—É |
| 5 | `GET` | `/v1/orders/{id}` | –û—Ç—Ä–∏–º–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è |
| 6 | `POST` | `/v1/orders/{id}/drafts` | –ß–µ—Ä–Ω–µ—Ç–∫–∞ —Å–ø–∏—Å–∫—É –∑–º—ñ–Ω |
| 7 | `PUT` | `/v1/orders/{id}/drafts/{id}/commit` | –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–º—ñ–Ω–∏ |
| 8 | `GET/POST` | `/v1/orders/search?user_id=‚Ä¶` | –ü–æ—à—É–∫ –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏ |
| 9 | `PUT` | `/v1/orders/{id}/archive` | –ê—Ä—Ö—ñ–≤—É–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è |
| 10 | `POST` | `/v1/orders/{id}/cancel` | –°–∫–∞—Å—É–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è |

::tip
**–í–∏—Å–Ω–æ–≤–æ–∫ –∑ –∫–Ω–∏–≥–∏:** CRUD-–º–Ω–µ–º–æ–Ω—ñ–∫–∞ –¥–∞—î –ª–∏—à–µ **—Å—Ç–∞—Ä—Ç–æ–≤–∏–π –Ω–∞–±—ñ—Ä –≥—ñ–ø–æ—Ç–µ–∑**. –ë—É–¥—å-—è–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –ø—Ä–µ–¥–º–µ—Ç–Ω–∞ –æ–±–ª–∞—Å—Ç—å –≤–∏–º–∞–≥–∞—î –≤–¥—É–º–ª–∏–≤–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É. –Ø–∫—â–æ –ø–µ—Ä–µ–¥ –≤–∞–º–∏ –∑–∞–≤–¥–∞–Ω–Ω—è —Ä–æ–∑—Ä–æ–±–∏—Ç–∏ ¬´—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π¬ª —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî –æ–¥—Ä–∞–∑—É –ø–æ—á–∏–Ω–∞–π—Ç–µ –∑ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∏ –≤ 8-10 –º–µ—Ç–æ–¥—ñ–≤.
::

---

## 7. –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

### –†—ñ–≤–µ–Ω—å 1: –ë–∞–∑–æ–≤–∏–π

::accordion

::accordion-item{label="–ó–∞–≤–¥–∞–Ω–Ω—è 6.1: –ü–æ–±—É–¥—É–π—Ç–µ URL-—ñ—î—Ä–∞—Ä—Ö—ñ—é" icon="i-lucide-circle-help"}
–î–ª—è API —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω—É –≤–∏–∑–Ω–∞—á—Ç–µ URL –¥–ª—è –∫–æ–∂–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó. –°—É—Ç–Ω–æ—Å—Ç—ñ: –º–∞–≥–∞–∑–∏–Ω–∏, –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó, —Ç–æ–≤–∞—Ä–∏, –≤—ñ–¥–≥—É–∫–∏.

–í–∏–º–æ–≥–∏:
1. –¢–æ–≤–∞—Ä –Ω–∞–ª–µ–∂–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω—É –¢–ê –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
2. –í—ñ–¥–≥—É–∫ –Ω–∞–ª–µ–∂–∏—Ç—å —Ç–æ–≤–∞—Ä—É
3. –ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤ –∑–∞ —Ü—ñ–Ω–æ—é —Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–º
4. –í–∏–∑–Ω–∞—á—Ç–µ: –¥–µ path, –∞ –¥–µ query?

–ù–∞–ø–∏—à—ñ—Ç—å Minimal API –º–∞—Ä—à—Ä—É—Ç–∏.
::

::accordion-item{label="–ó–∞–≤–¥–∞–Ω–Ω—è 6.2: CRUD-–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏" icon="i-lucide-circle-help"}
–†–µ–∞–ª—ñ–∑—É–π—Ç–µ –ø–æ–≤–Ω–∏–π CRUD –¥–ª—è —Ä–µ—Å—É—Ä—Å—É `Product` —É Minimal API:
- `POST /v1/products` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
- `GET /v1/products/{id}` ‚Äî —á–∏—Ç–∞–Ω–Ω—è
- `PUT /v1/products/{id}` ‚Äî –ø–æ–≤–Ω–∞ –∑–∞–º—ñ–Ω–∞
- `PATCH /v1/products/{id}` ‚Äî —á–∞—Å—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- `PUT /v1/products/{id}/archive` ‚Äî –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—è

–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ `Dictionary<int, Product>` —è–∫ —Å—Ö–æ–≤–∏—â–µ.
::

::

### –†—ñ–≤–µ–Ω—å 2: –ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è

::accordion

::accordion-item{label="–ó–∞–≤–¥–∞–Ω–Ω—è 6.3: –í—ñ–¥ 4 –¥–æ 10 –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤" icon="i-lucide-circle-help"}
–í–∏–±–µ—Ä—ñ—Ç—å –ø—Ä–µ–¥–º–µ—Ç–Ω—É –æ–±–ª–∞—Å—Ç—å (–±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞, —Ä–µ—Å—Ç–æ—Ä–∞–Ω, —Å–ø–æ—Ä—Ç–∑–∞–ª) —ñ:

1. –°–ø—Ä–æ—î–∫—Ç—É–π—Ç–µ ¬´–Ω–∞—ó–≤–Ω–∏–π¬ª CRUD (2 URL, 4 –º–µ—Ç–æ–¥–∏)
2. –î–æ–¥–∞–π—Ç–µ –≤–∏–º–æ–≥–∏: —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –ø–æ—à—É–∫, –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—è, —á–∞—Å—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
3. –†–æ–∑–ø–∏—à—ñ—Ç—å —Ñ—ñ–Ω–∞–ª—å–Ω—É –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—É –∑ 8-10 URL
4. –†–µ–∞–ª—ñ–∑—É–π—Ç–µ –∫–ª—é—á–æ–≤—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –Ω–∞ Minimal API
::

::

---

## 8. –†–µ–∑—é–º–µ

::card-group

::card{title="Path vs Query" icon="i-lucide-git-branch"}
Path –¥–ª—è —Å—Ç—Ä–æ–≥–æ—ó —ñ—î—Ä–∞—Ä—Ö—ñ—ó ¬´–Ω–∞–ª–µ–∂–∏—Ç—å¬ª. Query –¥–ª—è –Ω–µ—Å—Ç—Ä–æ–≥–∏—Ö –∑–≤'—è–∑–∫—ñ–≤ —ñ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –æ–ø–µ—Ä–∞—Ü—ñ–π. –í–µ—Ä—Å—ñ—è API ‚Äî –≤ path (`/v1/...`).
::

::card{title="CRUD ‚Äî –ª–∏—à–µ —Å—Ç–∞—Ä—Ç" icon="i-lucide-rocket"}
4 –æ–ø–µ—Ä–∞—Ü—ñ—ó —à–≤–∏–¥–∫–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –Ω–∞ 8-10 –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤. –Ü–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –ø–æ—à—É–∫, –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—è, —á–∞—Å—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è ‚Äî –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ.
::

::card{title="–ß–µ—Ä–Ω–µ—Ç–∫–∞ + –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è" icon="i-lucide-file-check"}
POST (–Ω–µ—ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π) –¥–ª—è ¬´–ª–µ–≥–∫–æ—ó¬ª —á–µ—Ä–Ω–µ—Ç–∫–∏, PUT (—ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π) –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è ‚Äî –Ω–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è.
::

::card{title="–ê—Ä—Ö—ñ–≤–∞—Ü—ñ—è ‚â† –≤–∏–¥–∞–ª–µ–Ω–Ω—è" icon="i-lucide-archive"}
–î–∞–Ω—ñ –Ω–µ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è ‚Äî –∞—Ä—Ö—ñ–≤—É—é—Ç—å—Å—è. PUT /resource/{id}/archive –∑–∞–º—ñ—Å—Ç—å DELETE /resource/{id}.
::

::

**–î–∞–ª—ñ:** —É –Ω–∞—Å—Ç—É–ø–Ω—ñ–π —Å—Ç–∞—Ç—Ç—ñ –º–∏ —Ä–æ–∑–±–µ—Ä–µ–º–æ **–ø—Ä–∞–≤–∏–ª–∞ –¥–∏–∑–∞–π–Ω—É: —ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏** ‚Äî –∫–æ–Ω–≤–µ–Ω—Ü—ñ—ó –¥–ª—è —ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤, –ø—Ä–∞–≤–∏–ª–∞ –∑–∞–ø–∏—Å—É –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, —ñ —è–∫ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å API.
